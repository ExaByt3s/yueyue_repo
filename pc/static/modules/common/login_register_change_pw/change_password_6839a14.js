define("common/login_register_change_pw/change_password",function(i,e,t){"use strict";var n=i("components/jquery/jquery.js"),r=(i("common/cookie/index"),i("common/countdown_geetest/countdown_geetest")),s=i("common/utility/index");t.exports={render:function(i){var e=this,t=Handlebars.template(function(i,e,t,n,r){return this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,i.helpers),r=r||{},'<!-- 修改密码  -->\n<iframe id="form_iframe" name="form_iframe" style="display:none;"></iframe>\n\n<form action="../action/general_reset_op.php" method="post" name="change_pw_form" id="change_pw_form" target="form_iframe">\n    <div class="change-password-page">\n        <div class="err-tips fn-hide" err_tips id="error_tips"><i class="icon-error"></i> <span err_tips_txt  id="err_tips_txt"> </span></div>\n        <div class="item-wrap">\n\n            <div class="item mb20">\n                <input phone_number type="tel" name="phone" id="phone" class="ui-input ui-input-block ui-input-primary ui-input-size-middle f14 " placeholder="请输入注册手机号码">\n            </div>\n\n            \n\n            <div class="item mt20 mb20 clearfix">\n                <div  class="fl lbox"><input yzm_number type="tel" name="active_word" id="active_word" class="ui-input ui-input-block ui-input-primary ui-input-size-middle f14 yzm " placeholder="验证码"></div>\n                <div class="fr rbox">\n                    <div class="btn-tel" msg_num_geetest>获取短信验证码</div>\n                </div>\n            \n            </div>\n\n            <!--校验-->\n            <div id="div_geetest_lib" style="margin-bottom:10px;"><div class="box" style="margin:0 auto;width:320px;text-align:center;" id="div_id_embed"></div></div>\n            <!--校验-->\n\n            <div class="item">\n                <input  pass_word  type="password" name="password" id="password" class="ui-input ui-input-block ui-input-primary ui-input-size-middle f14 " placeholder="请输入新的密码(密码不能少于6位)">\n            </div>\n        </div>\n\n\n        <div class="btn mt20">\n            <a href="javascript:void(0)"  class="tdn">\n                <div btn_submit class="ui-button ui-button-primary ui-button-block ui-button-100per  ui-button-size-s-large">\n                    <span class="ui-button-content"><em id="submit_btn">立即修改</em></span>\n                </div>\n            </a>\n        </div>\n\n        <input type="hidden" value="" name="r_url"></input>  <!--  来源地址配置 -->\n        <input type="hidden" value="form" name="action_mode"></input> \n        \n\n\n    </div>\n\n</form>'});i.innerHTML=t({}),e.init(),s.fix_placeholder()},init:function(){var i=this;i.phone_number=n("[phone_number]"),i.yzm_number=n("[yzm_number]"),i.pass_word=n("[pass_word]"),i.submit=n("[btn_submit]"),i.err_tips=n("[err_tips]"),i.submit_btn_txt=n("#submit_btn"),i.msg_num=n("[msg_num_geetest]"),i.config=!1,i.device=n("#J_is_pc").val(),i.token=n("#J_token").val();var e=new r({_phone_number_ele:i.phone_number,_time_limit:60,_ele:i.msg_num,_stop_class:"stop",_again_txt:"重新获取",device:i.device,_ajax:{url:"../action/get_active_word_ajax_level.php",dataType:"JSON",data:{action:"202605e05a008166ceb7226d0669cd8d",token:i.token},beforeSend:function(){},callback:function(i){-2==i.ajax_status?(n("#error_tips").css("display","block"),n("#err_tips_txt").html(i.msg)):1==i.ajax_status&&e._count_down(60)},error:function(){}}});i._setup_event()},_setup_event:function(){var i=this;i.submit.on("click",function(){console.log("点击");var e=i.phone_number.val().trim(),t=i.pass_word.val().trim(),r=i.yzm_number.val().trim();if(!e)return i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("请输入手机号码");var s=new RegExp(/^[0-9]{11}$/),a=s.test(e);return a?r?t?t.length<6?(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("密码不能少于6位")):t.length>=32?(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("密码不能大于或等于32位")):i.isChina(t)?(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("密码不能含有中文")):isNaN(t)?(i.submit_btn_txt.html("提交中..."),void n("#change_pw_form").submit()):(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("密码不能全部为数字")):(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("请输入新的密码")):(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("请输入验证码")):(i.err_tips.removeClass("fn-hide"),void i.err_tips.find("[err_tips_txt]").html("手机号码错误，请重新输入"))})},isChina:function(i){var e=/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi;return e.exec(i)?!0:!1}}});