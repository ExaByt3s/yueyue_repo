<!doctype html>
<html lang="zh">
<head>
<meta charset="gb2312">
<title>test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no, email=no">
<link href="./css/test.css" type="text/css" rel="stylesheet">
<script src="./js/jquery.js" ></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"  type="text/javascript" ></script>




</head>

<body>

<script type="text/javascript">


// $.ajax({
//     url: 'http://yueus.com/m/action_beta/wx_get_js_api_sign_package.php',
//     data: {url: 'http://yueus.com/m/test/wx-test.html'},
//     dataType: 'json',
//     type: 'GET',
//     cache: false,
//     beforeSend: function() 
//     {
        
//     },
//     success: function(data) 
//     {
//         var data = data.result_data
//         console.log(data.signature);


        
//     },    
//     error: function() 
//     {
        
//     },    
//     complete: function() 
//     {
        
//     } 
// });








    


</script>


<div id="test2" >测试</div>



<script type="text/javascript">

wx.config({
    debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
    appId: 'wx25fbf6e62a52d11e', // 必填，公众号的唯一标识
    timestamp: '1421310870' , // 必填，生成签名的时间戳
    nonceStr:  'lXNJh3FaBgvIFEu9', // 必填，生成签名的随机串
    signature: 'd8262c7eef195af52ebee4da0f8ecb34b25e6c9e',// 必填，签名，见附录1
    jsApiList: [
        'checkJsApi',
        'onMenuShareTimeline',
        'onMenuShareAppMessage',
        'onMenuShareQQ',
        'onMenuShareWeibo',
        'hideMenuItems',
        'showMenuItems',
        'hideAllNonBaseMenuItem',
        'showAllNonBaseMenuItem',
        'translateVoice',
        'startRecord',
        'stopRecord',
        'onRecordEnd',
        'playVoice',
        'pauseVoice',
        'stopVoice',
        'uploadVoice',
        'downloadVoice',
        'chooseImage',
        'previewImage',
        'uploadImage',
        'downloadImage',
        'getNetworkType',
        'openLocation',
        'getLocation',
        'hideOptionMenu',
        'showOptionMenu',
        'closeWindow',
        'scanQRCode',
        'chooseWXPay',
        'openProductSpecificView',
        'addCard',
        'chooseCard',
        'openCard'

    ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
});


    var test2 = document.getElementById("test2");

    test2.onclick = function ()
    {

       wx.scanQRCode({
           desc: 'scanQRCode desc',
           needResult: 0, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，
           scanType: ["qrCode","barCode"], // 可以指定扫二维码还是一维码，默认二者都有
           success: function (res) {
           var result = res.resultStr; // 当needResult 为 1 时，扫码返回的结果
       }
       });
    }
</script>


</body>
</html>



