define("pai/wx-1.1.0/app-debug", [ "$-debug", "./frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "./frame/ua-debug", "./common/global_config-debug", "./common/utility-debug", "./common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "./frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "./mine/model-debug", "./common/system-debug", "./common/I_APP-debug", "./ui/m_alert/view-debug", "./common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "./ui/m_alert/tpl/m_alert-debug.handlebars", "./common/I_WX-debug", "./common/WX_JSSDK-debug", "./model_date/hot/index-debug", "./model_date/hot/view-debug", "./common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "./common/img-ready-debug", "./common/template-helpers-debug", "./widget/footer/index-debug", "./widget/footer/tpl/footer-debug.handlebars", "./widget/iscroll_slide/view-debug", "./common/new_iscroll-debug", "./base/ua-debug", "./widget/iscroll_slide/tpl/slide-debug.handlebars", "./widget/abnormal/view-debug", "./widget/abnormal/tpl/main-debug.handlebars", "./ui/select_drop/view-debug", "./ui/select_drop/tpl/select_drop-debug.handlebars", "./ui/m_select/view-debug", "./ui/m_select/tpl/m_select-debug.handlebars", "./ui/m_select/tpl/m_options-debug.handlebars", "./widget/pull_down/view-debug", "./widget/pull_down/tpl/pull_down-debug.handlebars", "./model_date/hot/tpl/main-debug.handlebars", "./model_date/hot/tpl/item_v2-debug.handlebars", "./model_date/hot/tpl/line_v2-debug.handlebars", "./ui/dialog/index-debug", "./ui/dialog/dialog-debug.handlebars", "./model_date/hot/collection-debug", "./common/collection-debug", "./ui/guide/view-debug", "./ui/guide/tpl/guide-debug.handlebars", "./ui/guide/tpl/guide_hot-debug.handlebars", "./model_date/hot/model-debug", "./location/index-debug", "./location/view-debug", "./location/tpl/main-debug.handlebars", "./common/location_data-debug", "./location/tpl/city-debug.handlebars", "./location/tpl/gps_now_city-debug.handlebars", "./location/collection-debug", "./location/model-debug", "./model_date/find/index-debug", "./model_date/find/view-debug", "./model_date/find/tpl/main-debug.handlebars", "./widget/load_more/view-debug", "./widget/load_more/tpl/load_more-debug.handlebars", "./model_date/find/grid_view-debug", "./model_date/find/tpl/grid_view-debug.handlebars", "./widget/model_pic/view-debug", "./widget/model_pic/tpl/item-debug.handlebars", "./model_date/find/collection-debug", "./model_date/find/model-debug", "./topic/collection-debug", "./topic/model-debug", "./topic/list/view-debug", "./topic/tpl/list-debug.handlebars", "./topic/tpl/main-debug.handlebars", "./model_date/find/tpl/items-debug.handlebars", "./model_date/search/index-debug", "./model_date/search/collection-debug", "./model_date/search/view-debug", "./model_date/search/tpl/main-debug.handlebars", "./model_date/search/tpl/item-debug.handlebars", "./model_date/search/tpl/search_history-debug.handlebars", "./model_date/search_result/index-debug", "./model_date/search_result/collection-debug", "./model_date/search_result/view-debug", "./model_date/search_result/tpl/main-debug.handlebars", "./model_date/search_result/tpl/item-debug.handlebars", "./model_date/model_card/index-debug", "./model_date/model_card/view-debug", "./model_date/model_card/tpl/main-debug.handlebars", "./model_date/model_card/tpl/items-debug.handlebars", "./model_date/model_card/tpl/starts-debug.handlebars", "./widget/slide_v2/tpl/slide-debug.handlebars", "./ui/mine-popup/index-debug", "./ui/popup/index-debug", "./ui/popup/popup-debug.handlebars", "./ui/mine-popup/mine-popup-debug.handlebars", "./ui/download_tips/download_tips-debug.handlebars", "./model_date/model_card/model-debug", "./model_date/model_style/index-debug", "./model_date/model_style/view-debug", "./model_date/model_style/tpl/main-debug.handlebars", "./model_date/model_style/choosen_view-debug", "./model_date/model_style/tpl/choosen-debug.handlebars", "./model_date/submit_application/index-debug", "./model_date/submit_application/view-debug", "./model_date/submit_application/tpl/main-debug.handlebars", "./widget/choosen_group/view-debug", "./widget/choosen_group/tpl/choosen_group-debug.handlebars", "./widget/number_btn/view-debug", "./widget/number_btn/tpl/number_btn-debug.handlebars", "./widget/select/view-debug", "./widget/select/tpl/select-debug.handlebars", "./widget/select/tpl/options-debug.handlebars", "./model_date/submit_application/model-debug", "./model_date/agreement/view-debug", "./model_date/agreement/tpl/main-debug.handlebars", "./model_date/payment/index-debug", "./model_date/payment/view-debug", "./model_date/payment/tpl/main-debug.handlebars", "./widget/pay_item/view-debug", "./widget/pay_item/tpl/items-debug.handlebars", "./widget/pay_item/model-debug", "./model_date/payment/model-debug", "./model_date/submit_success/index-debug", "./model_date/submit_success/view-debug", "./model_date/submit_success/tpl/main-debug.handlebars", "./model_date/submit_success/model-debug", "./model_date/complete_application/index-debug", "./model_date/complete_application/view-debug", "./model_date/complete_application/tpl/main-debug.handlebars", "./model_date/complete_application/tpl/info-debug.handlebars", "./mine/index-debug", "./mine/view-debug", "./mine/tpl/main-debug.handlebars", "./mine/zone/index-debug", "./mine/zone/cameraman_view-debug", "./mine/zone/tpl/main-debug.handlebars", "./mine/zone/tpl/info-debug.handlebars", "./mine/zone/model_view-debug", "./mine/zone/tpl/model_main-debug.handlebars", "./mine/zone/tpl/model_info-debug.handlebars", "./mine/consider/index-debug", "./mine/consider/view-debug", "./mine/consider/tpl/main-debug.handlebars", "./mine/consider/contain_view-debug", "./mine/consider/tpl/contain_view-debug.handlebars", "./mine/consider/tpl/invite-debug.handlebars", "./mine/consider/model-debug", "./act/security/tpl/big_qr_code-debug.handlebars", "./mine/edit/index-debug", "./mine/edit/view-debug", "./mine/edit/tpl/main-debug.handlebars", "./mine/consider_details_camera/index-debug", "./mine/consider_details_camera/view-debug", "./mine/consider_details_camera/tpl/main-debug.handlebars", "./mine/consider_details_camera/tpl/items-debug.handlebars", "./mine/consider_details_camera/tpl/footer-debug.handlebars", "./mine/status/index-debug", "./mine/status/view-debug", "./mine/status/tpl/main-debug.handlebars", "./mine/status/contain_view-debug", "./mine/status/tpl/container-debug.handlebars", "./mine/status/tpl/list-debug.handlebars", "./mine/status/model-debug", "./act/list/index-debug", "./act/list/view-debug", "./act/list/tpl/main-debug.handlebars", "./widget/slide/view-debug", "./common/swipe-debug", "./widget/slide/tpl/slide-debug.handlebars", "./widget/act_list/view-debug", "./widget/act_list/tpl/act_list-debug.handlebars", "./act/model-debug", "./act/collection-debug", "./act/apply/index-debug", "./act/detail/model-debug", "./act/apply/view-debug", "./act/apply/tpl/main-debug.handlebars", "./act/signin/index-debug", "./act/signin/view-debug", "./act/signin/tpl/main-debug.handlebars", "./act/signin/tpl/item-debug.handlebars", "./act/signin/collection-debug", "./act/detail/index-debug", "./act/detail/view-debug", "./act/detail/tpl/main-debug.handlebars", "./act/detail/introView-debug", "./act/detail/tpl/intro-debug.handlebars", "./act/detail/infoView-debug", "./act/detail/tpl/info-debug.handlebars", "./act/detail/arrangeView-debug", "./act/detail/tpl/part-debug.handlebars", "./act/pub/info/index-debug", "./act/pub/info/view-debug", "./act/pub/info/tpl/main-debug.handlebars", "./act/pub/model-debug", "./act/pub/intro/index-debug", "./act/pub/intro/view-debug", "./act/pub/intro/tpl/main-debug.handlebars", "./widget/upload_pic/view-debug", "./widget/upload_pic/tpl/main-debug.handlebars", "./widget/upload_pic/tpl/item-debug.handlebars", "./widget/panel_text_pic/view-debug", "./widget/panel_text_pic/tpl/main-debug.handlebars", "./act/pub/arrange/index-debug", "./act/pub/arrange/view-debug", "./act/pub/arrange/tpl/main-debug.handlebars", "./widget/panel_pick/view-debug", "./widget/panel_pick/tpl/main-debug.handlebars", "./widget/panel_leader/view-debug", "./widget/panel_leader/tpl/main-debug.handlebars", "./act/payment/index-debug", "./act/payment/view-debug", "./act/payment/tpl/main-debug.handlebars", "./act/security/index-debug", "./act/security/view-debug", "./act/security/tpl/main-debug.handlebars", "./act/security/tpl/item-debug.handlebars", "./act/security/collection-debug", "./account/login/index-debug", "./account/login/view-debug", "./account/login/tpl/main-debug.handlebars", "./mine/money/bill/index-debug", "./mine/money/bill/view-debug", "./mine/money/bill/tpl/main-debug.handlebars", "./mine/money/bill/tpl/bill-list-debug.handlebars", "./mine/money/bill/model-debug", "./account/setup/bind/enter_phone/index-debug", "./account/setup/bind/enter_phone/view-debug", "./account/setup/bind/enter_phone/tpl/main-debug.handlebars", "./account/setup/bind/enter_phone/model-debug", "./account/setup/bind/enter_pw/index-debug", "./account/setup/bind/enter_pw/view-debug", "./account/setup/bind/enter_pw/tpl/main-debug.handlebars", "./account/setup/bind/enter_pw/model-debug", "./account/register/login_phone/index-debug", "./account/register/login_phone/view-debug", "./account/register/login_phone/tpl/main-debug.handlebars", "./account/register/login_phone/model-debug", "./account/register/login_pw/index-debug", "./account/register/login_pw/view-debug", "./account/register/login_pw/tpl/main-debug.handlebars", "./comment/index-debug", "./comment/view-debug", "./comment/tpl/main-debug.handlebars", "./comment/tpl/cameraman-debug.handlebars", "./comment/tpl/event-debug.handlebars", "./comment/tpl/model-debug.handlebars", "./comment/list/index-debug", "./comment/list/view-debug", "./comment/list/tpl/main-debug.handlebars", "./comment/list/tpl/item-debug.handlebars", "./comment/list/collection-debug", "./comment/list/model-debug", "./rank/index-debug", "./rank/view-debug", "./rank/tpl/main-debug.handlebars", "./rank/tpl/item-debug.handlebars", "./rank/tpl/top_3-debug.handlebars", "./rank/collection-debug", "./rank/model-debug", "./model_date/agreement/index-debug", "./mine/info/index-debug", "./mine/info/view-debug", "./mine/info/tpl/main-debug.handlebars", "./mine/info/tpl/insert-debug.handlebars", "./mine/info/model-debug", "./topic/info/index-debug", "./topic/info/view-debug", "./topic/tpl/info-debug.handlebars", "./topic/tpl/main_info-debug.handlebars", "./report/index-debug", "./report/view-debug", "./report/tpl/main-debug.handlebars", "./report/tpl/item-debug.handlebars", "./report/model-debug", "./account/fans_follows/index-debug", "./account/fans_follows/view-debug", "./account/fans_follows/tpl/main-debug.handlebars", "./account/fans_follows/collection-debug", "./account/fans_follows/model-debug", "./account/register/reg/index-debug", "./account/register/reg/view-debug", "./account/register/reg/tpl/main-debug.handlebars", "./model_date/v2_validation/index-debug", "./model_date/v2_validation/view-debug", "./model_date/v2_validation/tpl/main-debug.handlebars", "./model_date/v2_validation/model-debug", "./mine/date_cancel_reason/index-debug", "./mine/date_cancel_reason/view-debug", "./mine/date_cancel_reason/tpl/main-debug.handlebars", "./topic/index-debug", "./account/login_tips/index-debug", "./account/login_tips/view-debug", "./account/login_tips/tpl/main-debug.handlebars", "./account/login_tips/model-debug", "./edit_page/index-debug", "./edit_page/view-debug", "./edit_page/tpl/main-debug.handlebars", "./topic/person_order/index-debug", "./topic/person_order/view-debug", "./topic/person_order/tpl/main-debug.handlebars", "./mine/explain/index-debug", "./mine/explain/view-debug", "./mine/explain/tpl/main-debug.handlebars", "./act/pay_success/index-debug", "./act/pay_success/view-debug", "./act/pay_success/tpl/main-debug.handlebars", "./act/pay_success/model-debug", "./coupon/choose/index-debug", "./coupon/choose/view-debug", "./coupon/choose/tpl/main-debug.handlebars", "./coupon/choose/model-debug" ], function(require, exports, module) {
    console.log("App 启动");
    /**
     * @param {String}  errorMessage   错误信息
     * @param {String}  scriptURI      出错的文件
     * @param {Long}    lineNumber     出错代码的行号
     * @param {Long}    columnNumber   出错代码的列号
     */
    window.onerror = function(errorMessage, scriptURI, lineNumber, columnNumber) {
        // 有callback的情况下，将错误信息传递到options.callback中
        if (typeof callback === "function") {
            callback({
                message: errorMessage,
                script: scriptURI,
                line: lineNumber,
                column: columnNumber
            });
        } else {
            // 其他情况，都以alert方式直接提示错误信息
            var err_log_src = "http://www.yueus.com/mobile_app/log/save_log.php?from_str=weixin&err_level=2&url=" + encodeURIComponent(window.location.href);
            var img = new Image();
            var msgs = [];
            msgs.push("代码有错。。。");
            msgs.push("\n错误信息：", errorMessage);
            msgs.push("\n出错文件：", scriptURI);
            msgs.push("\n出错位置：", lineNumber + "行，" + columnNumber + "列");
            if (window.location.href.indexOf("webdev") != -1) {
                console.log(msgs.join(""));
            } else {
                img.src = err_log_src + "&err_str=" + encodeURIComponent(msgs.join(""));
            }
        }
    };
    // 引用基本模块
    var $ = require("$-debug");
    var page_control = require("./frame/page_control-debug");
    var ua = require("./frame/ua-debug");
    var utility = require("./common/utility-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    var mine = require("./mine/model-debug");
    var global_config = require("./common/global_config-debug");
    var system = require("./common/system-debug");
    var m_alert = require("./ui/m_alert/view-debug");
    var WeixinApi = require("./common/I_WX-debug");
    var WeiXinSDK = require("./common/WX_JSSDK-debug");
    // 设置不可后退的路由
    window._rootHash = {
        hot: 1,
        find: 1,
        mine: 1,
        "act/list": 1,
        location: 1,
        "model_date/submit_success": 1,
        "account/register/reg": 1
    };
    /**
     * 1、重写ajax方法，目的是增加一些统计点和统一交互
     * 2、backone的请求方法也应该生效
     */
    // 超时时间
    var ajaxSettings = {
        timeout: 1e4
    };
    $.extend($.ajaxSettings, ajaxSettings);
    (function($) {
        //备份ajax方法
        var _ajax = $.ajax;
        //重写ajax方法
        $.ajax = function(opt) {
            //备份opt中error和success方法
            var fn = {
                beforeSend: function(XMLHttpRequest, settings) {},
                error: function(XMLHttpRequest, textStatus, errorThrown) {},
                success: function(data, textStatus) {},
                complete: function(XMLHttpRequest, settings) {}
            };
            if (opt.beforeSend) {
                fn.beforeSend = opt.beforeSend;
            }
            if (opt.error) {
                fn.error = opt.error;
            }
            if (opt.success) {
                fn.success = opt.success;
            }
            if (opt.complete) {
                fn.complete = opt.complete;
            }
            var url = opt.url;
            // 预留扩展参数
            opt.data = $.extend({}, opt.data, {
                _page_mode: window._PAGE_MODE
            });
            //扩展增强处理
            var _opt = $.extend(opt, {
                data: fn.data,
                beforeSend: function(XMLHttpRequest, settings) {
                    console.log("%c请求前，请求路径是:" + url, "color:#66ccff");
                    fn.beforeSend(XMLHttpRequest, settings);
                },
                success: function(data, textStatus) {
                    //成功回调方法扩展处理
                    console.log("%c请求成功，请求路径是:" + url, "color:#00dd00");
                    fn.success(data, textStatus);
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    //错误方法扩展处理
                    console.log("%c请求失败，请求路径是:" + url, "color:#ff5544");
                    utility.err_log(1, url, XMLHttpRequest.response);
                    console.log("http://www.poco.cn&err_str=" + XMLHttpRequest.response);
                    fn.error(XMLHttpRequest, textStatus, errorThrown);
                },
                complete: function(XMLHttpRequest, settings) {
                    fn.complete(XMLHttpRequest, settings);
                }
            });
            _ajax(_opt);
        };
    })($);
    // app页面最顶级容器
    var $app_page_conatainer = $("[data-app-page-container]");
    var loc = window.location;
    /*//默认
    var data_share =
    {
        title: "444模特邀约第一移动平台", // 分享标题
        desc: "44模特邀约第一移动平台", // 分享描述
        link: loc.origin + loc.pathname + loc.search + "&for_share=timeline" + loc.hash, // 分享链接
        imgUrl:'http://yp.yueus.com/m/images/weixi_yueyue_icon.png?' + new Date().getTime(), // 分享图标
        type: 'link', // 分享类型,music、video或link，不填默认为link
        dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
        success: function () {
            // 用户确认分享后执行的回调函数
            alert("分分分成功")
        },
        cancel: function () {
            // 用户取消分享后执行的回调函数
            alert("分分分失败")
        }
    };
    */
    //微信配置初始化
    (function() {
        var ua_str = navigator.userAgent.toLowerCase();
        if (WeiXinSDK.isWeiXin() || WeixinApi.isWexXin()) {
            var version_str = (ua_str.match(/micromessenger\/(\d+\.\d+\.\d+)/) || ua_str.match(/micromessenger\/(\d+\.\d+)/))[1];
            if (version_str) {
                global_config.WeiXin_Version = version_str;
            }
        }
        if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") //(global_config.WeiXin_Version.indexOf('6.0.2') != -1|| global_config.WeiXin_Version.indexOf('6.1') != -1)
        {
            utility.ajax_request({
                url: global_config.ajax_url.wx_get_js_api_sign_package,
                data: {
                    url: loc.origin + loc.pathname + loc.search
                },
                cache: false,
                beforeSend: function(xhr, options) {},
                success: function(response, xhr, options) {
                    WeiXinSDK.setConfig(response.result_data);
                },
                error: function(collection, response, options) {},
                complete: function(xhr, status) {}
            });
        }
    })();
    /**
     * 解决场景切换时，文本框焦点丢失让手机键盘隐藏处理
     */
    $app_page_conatainer.on("tap", function(event) {
        var target = event.target;
        var targetNodeName = target.nodeName;
        var activeElement = document.activeElement;
        var activeElementNodeName = activeElement.nodeName;
        if (targetNodeName !== activeElementNodeName && (activeElementNodeName === "INPUT" || activeElementNodeName === "TEXTAREA")) {
            activeElement.blur();
        }
    });
    // 触发窗体发生变化的函数
    window.addEventListener("resize", function() {
        page_control.window_change_page_triger();
    }, false);
    // 引用页面
    var App = require("./common/I_APP-debug");
    var WeiXin = require("./common/I_WX-debug");
    require("./model_date/hot/index-debug");
    require("./location/index-debug");
    require("./model_date/find/index-debug");
    require("./model_date/search/index-debug");
    require("./model_date/search_result/index-debug");
    // 模特卡页面需要的模块
    require("./model_date/model_card/index-debug");
    /*
     require('./model_date/model_card/edit/index');
     require('./model_date/model_card/edit_all/index');
     require('./model_date/model_card/price_style_select/index');
     require('./model_date/model_card/edit_condition/index');
     */
    // 约拍流程和支付流程
    require("./model_date/model_style/index-debug");
    require("./model_date/submit_application/index-debug");
    require("./model_date/payment/index-debug");
    require("./model_date/submit_success/index-debug");
    require("./model_date/complete_application/index-debug");
    require("./mine/index-debug");
    require("./mine/zone/index-debug");
    require("./mine/consider/index-debug");
    require("./mine/edit/index-debug");
    //require('./mine/authentication/index');
    //require('./mine/authentication_list/index');
    //require('./mine/profile/index');
    require("./mine/consider_details_camera/index-debug");
    //require('./mine/consider_details_model/index');
    //require('./mine/consider_details_model/receive/index');
    //require('./mine/consider_details_model/refuse/index');
    /* 有关活动的模块*/
    require("./mine/status/index-debug");
    require("./act/list/index-debug");
    require("./act/apply/index-debug");
    require("./act/signin/index-debug");
    require("./act/detail/index-debug");
    require("./act/pub/info/index-debug");
    require("./act/pub/intro/index-debug");
    require("./act/pub/arrange/index-debug");
    require("./act/payment/index-debug");
    require("./act/security/index-debug");
    require("./account/login/index-debug");
    //require('./account/front/index');
    //require('./account/setting/index');
    //require('./mine/money/withdrawal/index');
    require("./mine/money/bill/index-debug");
    //require('./account/setup/index');
    //require('./account/setup/bind/index');
    require("./account/setup/bind/enter_phone/index-debug");
    require("./account/setup/bind/enter_pw/index-debug");
    //require('./mine/money/recharge/index');
    require("./account/register/login_phone/index-debug");
    require("./account/register/login_pw/index-debug");
    //require('./account/register/change_phone/index');
    //require('./account/register/bind_phone/index');
    //require('./account/agreement_login/index');
    // 数字码签到
    //require('./mine/checkins/index');
    // 评论
    require("./comment/index-debug");
    require("./comment/list/index-debug");
    // 排行榜
    require("./rank/index-debug");
    require("./model_date/agreement/index-debug");
    require("./mine/info/index-debug");
    require("./topic/info/index-debug");
    require("./report/index-debug");
    require("./account/fans_follows/index-debug");
    require("./account/register/reg/index-debug");
    require("./model_date/v2_validation/index-debug");
    //require('./account/about/index');
    // 信用金
    //require('./mine/credit/index');
    // 消息模块
    //require('./message/index');
    // 绑定支付宝
    //require('./mine/money/bind-alipay/index');
    require("./mine/date_cancel_reason/index-debug");
    require("./topic/index-debug");
    require("./account/login_tips/index-debug");
    require("./edit_page/index-debug");
    require("./topic/person_order/index-debug");
    require("./mine/explain/index-debug");
    require("./act/pay_success/index-debug");
    require("./coupon/choose/index-debug");
    // 设置默认地区
    var default_location = {
        location_id: 101029001,
        location_name: "广州"
    };
    if (!cookie.get("yue_location_id")) {
        // 设置cookie ，默认地区是广州
        cookie.set("yue_location_id", default_location.location_id);
    }
    // 缓存地区
    var cache_location = utility.storage.get("location");
    if (!cache_location) {
        utility.storage.set("location", default_location);
    }
    // 设置路由
    var default_rote = global_config.default_index_route;
    // 获取登录用户信息
    utility.user = new mine();
    /*// 第一次进来app
     if(!utility.storage.get('is_frist_time_open_app'))
     {
     // 注册页面
     default_rote = 'account/register/reg/1';

     }*/
    var header_obj = null;
    // 转场初始化
    page_control.init($app_page_conatainer, {
        default_title: "约约",
        default_index_route: default_rote,
        before_route: function(page_his_buff) {
            //统计pv
            utility.page_pv_stat_action();
        },
        after_route: function(page_his_buff) {
            console.log(window.location);
            // 路由跳转后锁屏解除
            setTimeout(function() {
                $("body").css("pointer-events", "auto");
                if ($(".ui-dialog").length > 0) {
                    $(".ui-dialog").addClass("fn-hide");
                }
            }, 100);
            if (!$("#J-splashscreens-progress-radial").hasClass("fn-hide")) {
                $("#J-splashscreens").addClass("fn-hide");
                $("#J-splashscreens-progress-radial").addClass("complete");
                clearInterval(window._splashscreens_interval);
            }
            // 微信取消右上角按钮
            //WeiXin.isWexXin() && WeiXin.hideOptionMenu();
            // 头部滑下问题
            header_obj = null;
            var url_hash = window.location.hash;
            url_hash = url_hash.replace("#", "");
            var slash_pos = url_hash.indexOf("/");
            if (slash_pos > 0) url_hash = url_hash.substr(0, slash_pos);
            if ($.inArray(url_hash, global_config.fixed_header_pos_page) != -1) {
                var current_page_view = page_control.return_current_page_view();
                header_obj = current_page_view.$el.find('[data-role="slide-header"]');
                animating_end();
            }
            var hash = utility.getHash();
            var show_btn = true;
            /*
                var ua_str = navigator.userAgent.toLowerCase();

                var wx_str = 'micromessenger';

                var weixin_version_contain = ua_str.substring(ua_str.indexOf(wx_str),ua_str.length);

                var weixin_version;

                if(ua_str.indexOf(wx_str) == -1)
                {
                    weixin_version = false;

                    return false
                }
                else
                {
                    if(weixin_version_contain.indexOf(' ') == -1)
                    {
                        weixin_version = weixin_version_contain.substring(wx_str.length+1,weixin_version_contain.length);
                    }
                    else if(weixin_version_contain.indexOf(' ') != -1)
                    {
                        weixin_version = weixin_version_contain.substring(wx_str.length+1,weixin_version_contain.indexOf(' '));
                    }
                    else
                    {
                        //alert("unknow_version",ua_str)
                    }
                }

                if(weixin_version)
                {
                    //alert(weixin_version);

                    global_config.WeiXin_Version = weixin_version;
                }
                */
            //区分6.0.2 或其他版本
            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") //(global_config.WeiXin_Version.indexOf('6.0.2') != -1|| global_config.WeiXin_Version.indexOf('6.1') != -1)
            {
                //隐藏右上角按钮判断 2015-1-19 nolest //新接口
                var complete_hash = window.location.hash;
                var submit_application_str = "#model_date/submit_application";
                if (complete_hash.indexOf("#comment") == 0 && complete_hash.indexOf("#comment/list") == -1) {
                    show_btn = false;
                } else if (complete_hash.indexOf("#model_date/submit_application") && complete_hash.length == submit_application_str.length) {
                    show_btn = false;
                } else {
                    $.each(global_config.no_share_pages, function(i, obj) {
                        if (window.location.hash.indexOf(global_config.no_share_pages[i]) != -1) {
                            show_btn = false;
                        }
                    });
                }
                if (!show_btn) {
                    WeiXinSDK.ready(function() {
                        WeiXinSDK.hideOptionMenu();
                    });
                } else {
                    WeiXinSDK.ready(function() {
                        WeiXinSDK.showOptionMenu();
                    });
                }
                var loc = window.location;
                var share_store = utility.wei_xin.get_share_new(loc.hash);
                var wxData, wx_Data_Timeline;
                if (share_store) {
                    wxData = share_store.wxData;
                    wx_Data_Timeline = share_store.wxData_Timeline;
                } else {
                    wxData = {
                        title: "【约yue】 100000+模特随心约",
                        // 分享标题
                        desc: "来模特邀约第一移动平台，不经意的遇上最美丽的风景",
                        // 分享描述
                        link: loc.href,
                        imgUrl: "http://yp.yueus.com/m/images/weixi_yueyue_icon.png?" + new Date().getTime(),
                        // 分享图标
                        type: "link",
                        // 分享类型,music、video或link，不填默认为link
                        dataUrl: "",
                        // 如果type是music或video，则要提供数据链接，默认为空
                        success: function() {
                            // 用户确认分享后执行的回调函数
                            //alert("分分分成功")
                            utility.stat_action({
                                tj_point: "touch",
                                tj_touch_type: "share",
                                tj_extend_params: {
                                    hash: loc.hash
                                }
                            });
                        },
                        cancel: function() {}
                    };
                    wx_Data_Timeline = {
                        title: "【约yue】 100000+模特随心约",
                        // 分享标题
                        desc: "来模特邀约第一移动平台，不经意的遇上最美丽的风景",
                        // 分享描述
                        link: loc.origin + loc.pathname + loc.search + "&for_share=timeline" + loc.hash,
                        // 分享链接
                        imgUrl: "http://yp.yueus.com/m/images/weixi_yueyue_icon.png?" + new Date().getTime(),
                        // 分享图标
                        type: "link",
                        // 分享类型,music、video或link，不填默认为link
                        dataUrl: "",
                        // 如果type是music或video，则要提供数据链接，默认为空
                        success: function() {
                            // 用户确认分享后执行的回调函数
                            //alert("分分分成功")
                            utility.stat_action({
                                tj_point: "touch",
                                tj_touch_type: "share",
                                tj_extend_params: {
                                    hash: loc.hash
                                }
                            });
                        },
                        cancel: function() {}
                    };
                    utility.wei_xin.set_share_new(loc.hash, wxData, wx_Data_Timeline);
                }
                WeiXinSDK.ready(function() {
                    WeiXinSDK.ShareToFriend(wxData);
                    WeiXinSDK.ShareTimeLine(wx_Data_Timeline);
                    WeiXinSDK.ShareQQ(wxData);
                });
            } else {
                //隐藏右上角按钮判断 2015-1-15 nolest //新接口
                if (WeixinApi.isWexXin()) //(WeiXinSDK.isWeiXin())
                {
                    var complete_hash = window.location.hash;
                    var submit_application_str = "#model_date/submit_application";
                    if (complete_hash.indexOf("#comment") == 0 && complete_hash.indexOf("#comment/list") == -1) {
                        show_btn = false;
                    } else if (complete_hash.indexOf("#model_date/submit_application") && complete_hash.length == submit_application_str.length) {
                        show_btn = false;
                    } else {
                        $.each(global_config.no_share_pages, function(i, obj) {
                            if (window.location.hash.indexOf(global_config.no_share_pages[i]) != -1) {
                                show_btn = false;
                            }
                        });
                    }
                }
                //微信分享功能默认设置 2015-1-14 nolest //旧接口
                if (WeixinApi.isWexXin()) {
                    var self = this;
                    WeixinApi.ready(function(Api) {
                        if (!show_btn) {
                            Api.hideOptionMenu();
                        } else {
                            Api.showOptionMenu();
                        }
                        var loc = window.location;
                        var share_store = utility.wei_xin.get_share(loc.hash);
                        var wxData, wx_Data_Timeline, wxCallbacks;
                        if (share_store) {
                            wxData = share_store.wxData;
                            wx_Data_Timeline = share_store.wxData_Timeline;
                            wxCallbacks = share_store.wxCallbacks;
                        } else {
                            wxData = {
                                appId: "wx25fbf6e62a52d11e",
                                // 服务号可以填写appId
                                imgUrl: "http://yp.yueus.com/m/images/weixi_yueyue_icon.png?" + new Date().getTime(),
                                link: loc.href,
                                desc: "【约yue】 100000+模特随心约",
                                title: "来模特邀约第一移动平台，不经意的遇上最美丽的风景"
                            };
                            wx_Data_Timeline = {
                                appId: "wx25fbf6e62a52d11e",
                                // 服务号可以填写appId
                                imgUrl: "http://yp.yueus.com/m/images/weixi_yueyue_icon.png?" + new Date().getTime(),
                                link: loc.origin + loc.pathname + loc.search + "&for_share=timeline" + loc.hash,
                                desc: "【约yue】 100000+模特随心约",
                                title: "来模特邀约第一移动平台，不经意的遇上最美丽的风景"
                            };
                            // 分享的回调
                            wxCallbacks = {
                                // 收藏操作不执行回调，默认是开启(true)的
                                favorite: false,
                                // 分享操作开始之前
                                ready: function() {},
                                // 分享被用户自动取消
                                cancel: function(resp) {},
                                // 分享失败了
                                fail: function(resp) {},
                                // 分享成功
                                confirm: function(resp) {
                                    // 分享成功了，我们是不是可以做一些分享统计呢？
                                    //alert("分享成功，msg=" + resp.err_msg);
                                    utility.stat_action({
                                        tj_point: "touch",
                                        tj_touch_type: "share",
                                        tj_extend_params: {
                                            hash: loc.hash
                                        }
                                    });
                                },
                                // 整个分享过程结束
                                all: function(resp, shareTo) {}
                            };
                            utility.wei_xin.set_share(loc.hash, wxData, wx_Data_Timeline, wxCallbacks);
                        }
                        // 安卓好友
                        Api.shareToFriend(wxData, wxCallbacks);
                        // 安卓朋友圈
                        Api.shareToTimeline(wx_Data_Timeline, wxCallbacks);
                        // 腾讯微博
                        //WeixinApi.shareToWeibo(wxData, wxCallbacks);
                        // iOS好友/朋友圈
                        Api.generalShare(wxData, wxCallbacks);
                    });
                }
            }
        }
    });
    $(document.body).on("swipeup", function() {
        fixed_header_pos(false);
    });
    $(document.body).on("swipedown", function() {
        fixed_header_pos(true);
    });
    // 页面头部元素滑动隐藏
    // 1.在header元素后加入[data-role="slide-header"] 和 类 fn-hide
    // 2.在global_config的fixed_header_pos_page数组内加入对应页hash
    // 3.header 布局必须为absolute
    // 2014-10-10 nolest
    function fixed_header_pos(show) {
        if (header_obj) {
            //下拉
            if (show == true) {
                header_obj.removeClass("pull-up fn-hide").addClass("drop-down");
                header_obj.attr("is_drop", "drop");
            } else {
                header_obj.removeClass("drop-down").addClass("pull-up");
                header_obj.attr("is_drop", "undrop");
            }
        }
    }
    //动画完成监听事件
    function animating_end() {
        header_obj.on("webkitAnimationEnd", function() {
            if (header_obj.attr("is_drop") == "drop") {
                header_obj.addClass("");
            } else {
                header_obj.addClass("fn-hide");
            }
        });
    }
    // 保存设备信息
    if (App.isPaiApp) {
        App.save_device();
    }
    // 判断是否登录
    if (utility.login_id > 0) {
        var local_user = utility.storage.get("user");
        if (local_user && local_user.user_id) {
            utility.user.set(local_user);
        }
        // 已经登录
        utility.user.once("success:get_info:fetch", function(reponse) {
            var data = reponse.result_data.data;
            if (data) {
                utility.user.set(data);
            }
        }).once("complete:get_info:fetch", function(xhr, state) {
            state == "success" || utility.user.get_info();
        }).get_info();
        page_control.route_start();
    } else {
        utility.login_id = 0;
        page_control.route_start();
    }
    function _show_upload_progress(progress) {
        m_alert.show(progress, "right", {
            delay: 500
        });
    }
    function _show_upload_finish() {
        m_alert.show("上传完毕", "right", {
            delay: 1e3
        });
    }
});

/**
 * 页面导航 + 转场控制
 */
define("pai/wx-1.1.0/frame/page_control-debug", [ "utility/backbone/1.1.2/backbone-debug", "$-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug" ], function(require, exports) {
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var $ = require("$-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var gloabal_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var page_class = require("pai/wx-1.1.0/frame/page-debug");
    var underscore = require("utility/underscore/1.6.0/underscore-debug");
    var zIndex = 1e4;
    var PAGE_HIS_BUFF = [];
    var _MOVE = null;
    var _ORIGINAL_CONTAINER;
    var _LAST_PAGE_VIEW = null;
    var _PAGE_PARAMS_ARR = [];
    var _TEMP_STATE = {};
    var TO_PAGE_VIEW = {};
    var FROM_PAGE_VIEW = {};
    var DEFAULT_INDEX_ROUTE;
    var DEFAULT_TITLE;
    var BEFORE_ROUTE;
    var AFTER_ROUTE;
    var IS_BACKWARD = null;
    var NAVIGATE_WIHTOUT_HIS = null;
    var NAVIGATE_CUSTOM_TANSITION = null;
    var PAGE_IS_TRANSIT = false;
    var PAGE_ROUTE_INDEX = 0;
    var ANDROID_NO_TRANSITION = true;
    //android是否转场动画
    var pageViewMaps = {};
    //if( utility.is_other_browser_or_not_weixin_yueyue())
    if (ua.ios_version >= "7.0.0" && ua.ios_version <= "7.1.2") {
        var historyUrl = [];
        historyUrl.push(location.hash);
        window.addEventListener("hashchange", function() {
            historyUrl.push(location.hash);
        });
        console.log(historyUrl);
        window.history.back = function() {
            if (historyUrl.length <= 1) {
                location.hash = gloabal_config.default_index_route;
                return;
            }
            historyUrl.pop();
            var hash = historyUrl.pop();
            window.location.hash = hash;
        };
    }
    function IS_FUNCTION(judge_obj) {
        return typeof judge_obj == "function";
    }
    //    function SEARCH_PAGE_IN_BUFF(url_hash)
    //    {
    //        var search_page_view = false;
    //
    //        $(PAGE_HIS_BUFF).each(function(index , buff_obj)
    //        {
    //            for (key in buff_obj)
    //            {
    //                if(key==url_hash)
    //                {
    //                    search_page_view = buff_obj[key];
    //
    //                    return false;
    //                }
    //            }
    //        });
    //
    //        return search_page_view;
    //    }
    //路由配置
    var APP_ROUTE = new Backbone.Router();
    exports.init = function(original_container, options) {
        var that = this;
        options || (options = {});
        DEFAULT_INDEX_ROUTE = options.default_index_route || "";
        DEFAULT_TITLE = options.default_title || "";
        BEFORE_ROUTE = options.before_route || "";
        AFTER_ROUTE = options.after_route || "";
        _ORIGINAL_CONTAINER = original_container;
        if (DEFAULT_INDEX_ROUTE) {
            //匹配修正跳转链接 没有带hash的情况  add by manson 2013.6.28
            APP_ROUTE.route("", "", function() {
                that.navigate_to_page(DEFAULT_INDEX_ROUTE, {}, true);
            });
        }
    };
    exports.route_start = function() {
        Backbone.history.start();
    };
    var replacePageHash;
    exports.navigate_to_page = function(page, state, replace, transition) {
        if (PAGE_IS_TRANSIT) return;
        _TEMP_STATE = state;
        _MOVE = "forward";
        //var replace = (replace==null) ? false : replace;
        replace = !!replace;
        var trigger = trigger == null ? true : trigger;
        replacePageHash = replace ? get_current_url() : null;
        //NAVIGATE_WIHTOUT_HIS = replace;
        NAVIGATE_CUSTOM_TANSITION = transition == null ? false : transition;
        _LAST_PAGE_VIEW && (_LAST_PAGE_VIEW.without_his = replace);
        console.log("===========");
        console.log(replacePageHash);
        APP_ROUTE.navigate(page, {
            trigger: true,
            replace: replace
        });
    };
    exports.back = function() {
        if (PAGE_IS_TRANSIT) return;
        if (PAGE_HIS_BUFF.length <= 1) {
            if (DEFAULT_INDEX_ROUTE != "") {
                this.navigate_to_page(DEFAULT_INDEX_ROUTE);
                setTimeout(function() {
                    if (IS_FUNCTION(FROM_PAGE_VIEW)) {
                        FROM_PAGE_VIEW.page_before_remove.call(FROM_PAGE_VIEW);
                    }
                    FROM_PAGE_VIEW.remove();
                }, 1e3);
            }
            return false;
        }
        _MOVE = "backward";
        window.history.back();
        return false;
    };
    exports.page_history = function() {
        return PAGE_HIS_BUFF;
    };
    exports.window_change_page_triger = function() {
        if (IS_FUNCTION(TO_PAGE_VIEW.window_change)) {
            TO_PAGE_VIEW.window_change.call(this, TO_PAGE_VIEW);
        }
    };
    //返回当前页面view
    exports.return_current_page_view = function() {
        return TO_PAGE_VIEW;
    };
    //返回转场状态
    exports.page_transit_status = function() {
        return PAGE_IS_TRANSIT;
    };
    var slice = Array.prototype.slice;
    exports.add_page = function(page_controller_arr) {
        var that = this;
        var page_entity;
        while (page_entity = page_controller_arr.shift()) {
            if (!IS_FUNCTION(page_entity)) {
                continue;
            }
            var page_options = page_entity();
            var route = page_options.route || false;
            if (route) {
                var key;
                for (key in route) {
                    (function(page_entity) {
                        APP_ROUTE.route(key, route[key], function() {
                            var args = slice.call(arguments, 0);
                            args.unshift(page_entity);
                            args.unshift(page_options);
                            trriger_page_route.apply(that, args);
                        });
                    })(page_entity);
                }
            }
        }
    };
    function get_current_url() {
        //return window.location.href;
        return window.location.hash.substr(1);
    }
    function get_obj_key_value(obj) {
        var key, value;
        for (key in obj) {
            key = key;
            value = obj[key];
        }
        return {
            key: key,
            value: value
        };
    }
    function getKey(obj) {
        var key;
        var keys = [];
        for (key in obj) {
            if (obj.hasOwnProperty(key)) {
                keys.push(key);
            }
        }
        return keys;
    }
    function new_page_entity(page_entity) {
        //var page_options = page_entity({ custom_tansition : NAVIGATE_CUSTOM_TANSITION , without_his : NAVIGATE_WIHTOUT_HIS });
        var page_options = page_entity();
        page_options.custom_tansition = NAVIGATE_CUSTOM_TANSITION;
        //        page_options.without_his = NAVIGATE_WIHTOUT_HIS;
        var new_page_view = page_class.new_page(page_options);
        return new_page_view;
    }
    function trriger_page_route() {
        var that = this;
        //修正兼容用浏览器前进后退的情况  add by manson 2013.7.23
        if (PAGE_IS_TRANSIT) return;
        var args = slice.call(arguments, 0);
        var page_options = args[0];
        var page_entity = args[1];
        _PAGE_PARAMS_ARR = args[2] ? args.slice(2) : [];
        //_PAGE_PARAMS_ARR = [];
        //_PAGE_PARAMS_ARR.push(params);
        //_PAGE_PARAMS_ARR.push(params_2);
        //_PAGE_PARAMS_ARR.push(params_3);
        var url_hash = get_current_url();
        if (IS_FUNCTION(BEFORE_ROUTE)) {
            BEFORE_ROUTE.call(that, PAGE_HIS_BUFF);
        }
        var have_exist = false;
        // edit kidney at 2014-05-22
        //var have_exist = $(_ORIGINAL_CONTAINER).find('[page-url="'+url_hash+'"]').length;
        pageViewMaps[url_hash] && (have_exist = pageViewMaps[url_hash].length);
        IS_BACKWARD = check_route_is_backward();
        //前进操作
        if (!IS_BACKWARD) {
            if (have_exist && !page_options.ignore_exist) {
                // edit kidney at 2014-05-22
                //var exist_view = $(_ORIGINAL_CONTAINER).find('[page-url="'+url_hash+'"]').data('page-view');
                var exist_view = pageViewMaps[url_hash][0];
                if (exist_view) {
                    exist_view.$el.css("top", "0px");
                    _transit_page(_LAST_PAGE_VIEW, exist_view, exist_view.transition_type, false);
                } else {
                    var new_page_view = new_page_entity(page_entity);
                    create_page(new_page_view, false);
                }
            } else {
                var new_page_view = new_page_entity(page_entity);
                create_page(new_page_view, false);
            }
        } else {
            var lastPageView = PAGE_HIS_BUFF.pop();
            var lastPageViewHash = getKey(lastPageView)[0];
            if (have_exist) {
                //var exist_buff = PAGE_HIS_BUFF[PAGE_HIS_BUFF.length - 1]
                //var exist_view = get_obj_key_value(exist_buff).value
                // edit kidney at 2014-05-22
                //var exist_view = $(_ORIGINAL_CONTAINER).find('[page-url="'+url_hash+'"]').data('page-view');
                pageViewMaps[lastPageViewHash].shift();
                if (!pageViewMaps[lastPageViewHash].length) {
                    delete pageViewMaps[lastPageViewHash];
                }
                var exist_view = pageViewMaps[url_hash][0] || false;
                if (!exist_view) {
                    throw new Error("exist_view is invalid");
                }
                //console.log('>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>' , exist_view)
                _transit_page(_LAST_PAGE_VIEW, exist_view, _LAST_PAGE_VIEW.transition_type, true);
                setTimeout(function() {
                    exist_view.$el.css("top", "0px");
                }, 10);
            } else {
                var new_page_view = new_page_entity(page_entity);
                create_page(new_page_view, true);
            }
        }
        if (IS_FUNCTION(AFTER_ROUTE)) {
            AFTER_ROUTE.call(that, PAGE_HIS_BUFF);
        }
    }
    function create_page(page_obj, is_back) {
        var that = this;
        var page_view = page_obj;
        var url_hash = get_current_url();
        page_view.$el.attr({
            "data-page-url": url_hash,
            "data-cid": page_view.cid
        });
        // edit kidney at 2014-05-22
        //page_view.$el.data('page-view',page_view);
        pageViewMaps[url_hash] || (pageViewMaps[url_hash] = []);
        pageViewMaps[url_hash].unshift(page_view);
        //新建页面
        page_view.$el.css({
            visibility: "hidden",
            top: 0,
            zIndex: zIndex
        }).attr({
            "data-page-index": PAGE_ROUTE_INDEX
        });
        zIndex++;
        PAGE_ROUTE_INDEX++;
        $(_ORIGINAL_CONTAINER).prepend(page_view.$el);
        //page_init
        if (IS_FUNCTION(page_view.page_init)) {
            // edit kidney at 2014-06-26
            //page_view.page_init.call(that , page_view,_PAGE_PARAMS_ARR,_TEMP_STATE);
            page_view.page_init(page_view, _PAGE_PARAMS_ARR, _TEMP_STATE);
        }
        var transition_type = page_view.transition_type;
        _transit_page(_LAST_PAGE_VIEW, page_view, transition_type, is_back);
    }
    function _transit_page(from_view, page_view, transition_type, is_back) {
        var url_hash = get_current_url();
        //转场处理
        _start_page_transition(from_view, page_view, transition_type, is_back);
        //页面历史记录处理
        if (!is_back) {
            var buff_obj = {};
            buff_obj[url_hash] = page_view;
            //if(page_view.without_his)
            if (from_view && from_view.without_his) {
                //特殊路由
                if (replacePageHash && pageViewMaps[replacePageHash]) {
                    pageViewMaps[replacePageHash].shift();
                    if (!pageViewMaps[replacePageHash].length) {
                        delete pageViewMaps[replacePageHash];
                    }
                    replacePageHash = null;
                }
                if (!PAGE_HIS_BUFF.length) {
                    PAGE_HIS_BUFF.push(buff_obj);
                } else {
                    PAGE_HIS_BUFF[PAGE_HIS_BUFF.length - 1] = buff_obj;
                }
            } else {
                PAGE_HIS_BUFF.push(buff_obj);
            }
        }
        _LAST_PAGE_VIEW = TO_PAGE_VIEW;
    }
    function check_route_is_backward() {
        //var url_hash = location.href;
        var url_hash = get_current_url();
        var history_length = PAGE_HIS_BUFF.length;
        if (history_length > 1) {
            var last_two_buff = PAGE_HIS_BUFF[history_length - 2];
            var result = false;
            var key;
            for (key in last_two_buff) {
                if (_MOVE != "forward" && key == url_hash) {
                    result = true;
                }
            }
            return result;
        } else {
            return false;
        }
    }
    function _start_page_transition(from_page_view, to_page_view, transition_type, is_back) {
        var that = this;
        var __slide_transition_time = "400ms";
        var __slideup_transition_time = "400ms";
        var __fade_transition_time = "400ms";
        var __ease_timingfunction = "ease";
        var to_page_element_keyframe, from_page_element_keyframe;
        TO_PAGE_VIEW = to_page_view;
        FROM_PAGE_VIEW = from_page_view;
        //android低版本系统忽略转场动画
        if (ANDROID_NO_TRANSITION && ua.isAndroid) {
            transition_type = "none";
        }
        // edit kidney at 2014-07-08
        //to_page_view.$el.removeClass('fn-hide');
        //console.log('to_page_view:'+to_page_view.cid+' removeClass fn-hide done');
        //页面即将进入转场前触发   add by manson 2013.5.30
        if (IS_FUNCTION(to_page_view.page_before_show)) {
            // edit kidney at 2014-06-26
            //to_page_view.page_before_show.call(that,to_page_view,_PAGE_PARAMS_ARR,_TEMP_STATE);
            to_page_view.page_before_show(to_page_view, _PAGE_PARAMS_ARR, _TEMP_STATE);
        }
        from_page_view && from_page_view.open_cover();
        //上一页面即将离开转场前触发   add by manson 2013.7.31
        if (from_page_view && IS_FUNCTION(from_page_view.page_before_hide)) {
            // edit kidney at 2014-06-26
            //from_page_view.page_before_hide.call(that,from_page_view);
            from_page_view.page_before_hide(from_page_view);
        }
        var animation_timing_function;
        var animation_duration;
        switch (transition_type) {
          case "slide":
            if (!is_back) {
                to_page_element_keyframe = "slideinfromright";
                from_page_element_keyframe = "slideoutfromleft";
            } else {
                to_page_element_keyframe = "slideinfromleft";
                from_page_element_keyframe = "slideoutfromright";
            }
            animation_timing_function = __ease_timingfunction;
            animation_duration = __slide_transition_time;
            break;

          case "slide_reverse":
            if (!is_back) {
                to_page_element_keyframe = "slideinfromleft";
                from_page_element_keyframe = "slideoutfromright";
            } else {
                to_page_element_keyframe = "slideinfromleft";
                from_page_element_keyframe = "slideoutfromright";
            }
            animation_timing_function = __ease_timingfunction;
            animation_duration = __slide_transition_time;
            break;

          case "slideup":
            if (!is_back) {
                to_page_element_keyframe = "slideupinfrombottom";
                from_page_element_keyframe = "slideupoutfromtop";
            } else {
                to_page_element_keyframe = "slideupinfromtop";
                from_page_element_keyframe = "slideupoutfrombottom";
            }
            animation_timing_function = __ease_timingfunction;
            animation_duration = __slideup_transition_time;
            break;

          case "fade":
            to_page_element_keyframe = "fadein";
            from_page_element_keyframe = "fadeout";
            animation_timing_function = __ease_timingfunction;
            animation_duration = __fade_transition_time;
            break;

          default:
            to_page_element_keyframe = "none";
            from_page_element_keyframe = "none";
            animation_timing_function = __ease_timingfunction;
            animation_duration = "10ms";
            break;
        }
        //正在转场
        PAGE_IS_TRANSIT = true;
        if (to_page_element_keyframe) {
            var to_page_element = TO_PAGE_VIEW.el;
            //进场页面
            to_page_element.style.webkitAnimationDuration = animation_duration;
            to_page_element.style.webkitAnimationTimingFunction = animation_timing_function;
            to_page_element.style.visibility = "visible";
            to_page_element.style.webkitAnimationName = to_page_element_keyframe;
            //退场页面
            if (FROM_PAGE_VIEW) {
                var from_page_element = FROM_PAGE_VIEW.el;
                from_page_element.style.webkitAnimationDuration = animation_duration;
                from_page_element.style.webkitAnimationTimingFunction = animation_timing_function;
                from_page_element.style.webkitAnimationName = from_page_element_keyframe;
            } else {
                PAGE_IS_TRANSIT = false;
            }
            setTimeout(function() {
                TO_PAGE_VIEW.close_cover();
                TO_PAGE_VIEW.el.style.webkitAnimationDuration = "0ms";
                if (IS_FUNCTION(TO_PAGE_VIEW.page_back_show) && IS_BACKWARD) {
                    TO_PAGE_VIEW.page_back_show.call(that, TO_PAGE_VIEW, _PAGE_PARAMS_ARR, _TEMP_STATE);
                }
                if (IS_FUNCTION(TO_PAGE_VIEW.page_show)) {
                    // edit kidney at 2014-06-26
                    //TO_PAGE_VIEW.page_show.call(that,TO_PAGE_VIEW,_PAGE_PARAMS_ARR,_TEMP_STATE);
                    TO_PAGE_VIEW.page_show(TO_PAGE_VIEW, _PAGE_PARAMS_ARR, _TEMP_STATE);
                }
                __tansition_end_page_dom_control();
            }, parseInt(animation_duration));
        }
        $("body").css("point-events", "none");
    }
    function __tansition_end_page_dom_control() {
        PAGE_IS_TRANSIT = false;
        var that = this;
        var from_page_element = FROM_PAGE_VIEW && FROM_PAGE_VIEW.el;
        var to_page_element = TO_PAGE_VIEW.el;
        //页面转换动态改变title   add by manson 2013.11.15
        /*if(TO_PAGE_VIEW.manual_title!=true)
        {
            if(TO_PAGE_VIEW.title)
            {
                document.title = TO_PAGE_VIEW.title;
            }
            else
            {
                document.title = DEFAULT_TITLE;
            }
        }*/
        if (from_page_element) {
            $(from_page_element).css("top", "-3000px");
            if (IS_FUNCTION(FROM_PAGE_VIEW.page_hide)) {
                // edit kidney at 2014-06-26
                //FROM_PAGE_VIEW.page_hide.call(that);
                FROM_PAGE_VIEW.page_hide();
            }
            // edit kidney at 2014-07-08
            //FROM_PAGE_VIEW.$el.addClass('fn-hide');
            //console.log('FROM_PAGE_VIEW:'+FROM_PAGE_VIEW.cid+' addClass fn-hide done');
            //移除页面
            if (FROM_PAGE_VIEW.dom_not_cache == true && IS_BACKWARD) {
                if (FROM_PAGE_VIEW) {
                    IS_FUNCTION(FROM_PAGE_VIEW.page_before_remove) && FROM_PAGE_VIEW.page_before_remove.call(FROM_PAGE_VIEW);
                    //console.log('FROM_PAGE_VIEW:'+FROM_PAGE_VIEW.cid+' dom_not_cache page_before_remove done');
                    FROM_PAGE_VIEW.remove();
                }
            }
            //if(TO_PAGE_VIEW.without_his)
            if (FROM_PAGE_VIEW.without_his) {
                if (FROM_PAGE_VIEW) {
                    IS_FUNCTION(FROM_PAGE_VIEW.page_before_remove) && FROM_PAGE_VIEW.page_before_remove.call(FROM_PAGE_VIEW);
                    //console.log('FROM_PAGE_VIEW:'+FROM_PAGE_VIEW.cid+' page_before_remove done');
                    FROM_PAGE_VIEW.remove();
                }
            }
        }
        _MOVE = null;
        IS_BACKWARD = null;
        setTimeout(function() {
            $("body").css("point-events", "auto");
        }, 50);
    }
});

define("pai/wx-1.1.0/frame/ua-debug", [], function(require, exports) {
    var ua = {};
    var win = window;
    var nav = win.navigator;
    var app_version = nav.appVersion;
    //访问来自手机
    ua.isMobile = /(iphone|ipod|android|ios|ipad|nokia|blackberry|tablet|symbian)/.test(nav.userAgent.toLowerCase());
    //手机系统
    ua.isAndroid = /android/gi.test(app_version);
    ua.isIDevice = /iphone|ipad/gi.test(app_version);
    ua.isTouchPad = /hp-tablet/gi.test(app_version);
    ua.isIpad = /ipad/gi.test(app_version);
    ua.otherPhone = !(ua.isAndroid || ua.isIDevice);
    //浏览器品牌类型
    ua.is_uc = /uc/gi.test(app_version);
    ua.is_chrome = /CriOS/gi.test(app_version) || /Chrome/gi.test(app_version);
    ua.is_qq = /QQBrowser/gi.test(app_version);
    ua.is_real_safari = /safari/gi.test(app_version) && !ua.is_chrome && !ua.is_qq;
    //真正的原生IOS safari浏览器
    ua.is_weixin = /micromessenger/gi.test(app_version);
    //iphone safari是否全屏
    ua.is_standalone = window.navigator.standalone ? true : false;
    ua.window_width = window.innerWidth;
    ua.window_height = window.innerHeight;
    //ua.window_height = $(window).height()
    //手机版本
    if (ua.isAndroid) {
        var android_version = parseFloat(app_version.slice(app_version.indexOf("Android") + 8));
        ua.android_version = android_version;
    } else if (ua.isIDevice) {
        var v = app_version.match(/OS (\d+)_(\d+)_?(\d+)?/);
        var ios_version = v[1];
        if (v[2]) ios_version += "." + v[2];
        if (v[3]) ios_version += "." + v[3];
        ua.ios_version = ios_version;
    }
    ua.is_iphone_safari_no_fullscreen = ua.isIDevice && ua.ios_version < "7" && !ua.isIpad && ua.is_real_safari && !ua.is_standalone;
    return ua;
});

/**
 * 全局参数设置
 */
define("pai/wx-1.1.0/common/global_config-debug", [], function(require, exports) {
    var action_ver = "action";
    // 处理origin兼容性问题
    if (!window.location.origin) {
        window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : "");
    }
    // 根目录地址
    var root_address = window.location.origin;
    var action_name = "action";
    var _action_mode = window._action_mode;
    // 切换版本来使用不同的action
    if (_action_mode == "action_beta") {
        action_name = "action_beta";
    } else {
        action_name = action_ver;
    }
    var ajax_root = root_address + "/m/" + action_name + "/";
    var config = {
        ajax_url: {
            find: ajax_root + "find.php",
            hot: ajax_root + "index.php",
            search: ajax_root + "search.php",
            search_result: ajax_root + "search_result.php",
            ad_pic: ajax_root + "ad_pic.php",
            //hot : ajax_root + "index_t.php",
            model_card: ajax_root + "model_card.php",
            location_city: ajax_root + "hot_location.php",
            model_style: ajax_root + "model_style.php",
            pay: ajax_root + "pay.php",
            get_user_info: ajax_root + "get_user_info.php",
            act_list: ajax_root + "act_list.php",
            act_info: ajax_root + "act_info.php",
            pay_return_url: ajax_root + "pay_return.php",
            get_club: ajax_root + "get_club_list.php",
            add_act: ajax_root + "add_act.php",
            //login : 'https://ypays.yueus.com/action/login.php',
            login: ajax_root + "login.php",
            update_user_info: ajax_root + "update_user_info.php",
            get_act_ticket: ajax_root + "get_act_ticket.php",
            get_act_joiners: ajax_root + "get_act_joiners.php",
            join_act: ajax_root + "join_act.php",
            follow_act: ajax_root + "follow_act.php",
            consider_list: ajax_root + "get_date_list.php",
            zone_info: ajax_root + "get_zone_info.php",
            accept_invite: ajax_root + "send_date_ret.php",
            status_list: ajax_root + "get_my_act_list.php",
            withdraw: ajax_root + "withdraw.php",
            bind_act: ajax_root + "bind_act.php",
            reg: ajax_root + "reg.php",
            follow_user: ajax_root + "follow_user.php",
            get_model_card_base_info: ajax_root + "model_card_base_info.php",
            save_model_card: ajax_root + "save_model_card.php",
            recharge: ajax_root + "pay_recharge.php",
            bill_act: ajax_root + "bill_act.php",
            logout: ajax_root + "logout.php",
            fans_or_follow: ajax_root + "get_fans_or_follow.php",
            get_enroll_detail_info: ajax_root + "get_enroll_detail_info.php",
            join_again_act: ajax_root + "join_again_act.php",
            del_enroll_act: ajax_root + "del_enroll_act.php",
            set_event_end_act: ajax_root + "set_event_end_act.php",
            get_date_by_date_id: ajax_root + "get_date_by_date_id.php",
            set_event_cancel_act: ajax_root + "set_event_cancel_act.php",
            verify_code: ajax_root + "verify_code.php",
            a_img: root_address + "/a_img.php",
            add_cameraman_comment: ajax_root + "add_cameraman_comment_act.php",
            add_model_comment: ajax_root + "add_model_comment_act.php",
            add_event_comment: ajax_root + "add_event_comment_act.php",
            get_comment: ajax_root + "get_comment.php",
            get_model_date_rank_list: ajax_root + "get_model_date_rank_list.php",
            get_model_score_rank_list: ajax_root + "get_model_score_rank_list.php",
            sso_login: ajax_root + "sso_login.php",
            change_role: ajax_root + "change_role.php",
            get_act_ticket_detail: ajax_root + "get_act_ticket_detail.php",
            get_location_by_gps: ajax_root + "get_location_by_gps.php",
            get_topic_list: ajax_root + "get_topic_list.php",
            get_bail_available_balance: ajax_root + "get_bail_available_balance.php",
            check_cameraman_require: ajax_root + "check_cameraman_require.php",
            report_model: ajax_root + "add_examine_report.php",
            submit_date_cancel_application: ajax_root + "submit_date_cancel_application.php",
            force_refund: ajax_root + "force_refund.php",
            update_agree_status: ajax_root + "update_agree_status.php",
            bind_alipay: ajax_root + "bind_alipay.php",
            level_list: ajax_root + "level_list.php",
            level_detail: ajax_root + "level_detail.php",
            add_id: ajax_root + "add_id.php",
            get_topic_info: ajax_root + "get_topic_info.php",
            get_scan_code: ajax_root + "get_scan_code.php",
            test_wx_pay: ajax_root + "__get_pay_code.php",
            // 临时测试 测试完毕要删除 hudw 2014.12.2
            auth_act: ajax_root + "auth_act.php",
            get_model_rank_list: ajax_root + "get_model_rank_list.php",
            get_city_change: ajax_root + "get_location_by_id.php",
            get_ip_location_by_cookie: ajax_root + "get_ip_location_by_cookie.php",
            location_data_v2: ajax_root + "location_data_v2.php",
            person_order_info: ajax_root + "person_order_info.php",
            send_person_order: ajax_root + "send_person_order.php",
            wx_get_js_api_sign_package: ajax_root + "wx_get_js_api_sign_package.php",
            get_intro_text: ajax_root + "get_intro_text.php",
            pay_finish_text: ajax_root + "pay_finish_text.php",
            tag_result: ajax_root + "tag_result.php",
            send_share_coupon: ajax_root + "send_share_coupon.php"
        },
        romain: root_address + "/m/app",
        debug_romain: root_address + "/m/appbeta",
        default_index_route: "hot",
        _show_footer_hash: {
            hot: 1,
            find: 1,
            mine: 1,
            "act/list": 1,
            message: 1
        },
        WeiXin_Version: "default",
        fixed_header_pos_page: [],
        //["model_card"]
        no_share_pages: [ "#mine", "#mine/consider", "#mine/consider_details_camera", "#act/security", "#mine/money/bill", "#comment/model", "#model_date/submit_application", "#model_date/submit_success", "#model_date/payment", "#account/fans_follows", "#edit_page" ]
    };
    return config;
});

/**
 * 工具集
 * hdw  2014.8.13
 */
define("pai/wx-1.1.0/common/utility-debug", [ "$-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var $win = $(window);
    var storage = window.localStorage;
    var cross_domain_storage = require("pai/wx-1.1.0/common/cross_domain_storage-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    var underscrore = require("utility/underscore/1.6.0/underscore-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var login_id = parseInt(cookie.get("yue_member_id"));
    var _ = underscrore._;
    var window_location = window.location;
    // 处理origin兼容性问题
    if (!window_location.origin) {
        window_location.origin = window_location.protocol + "//" + window_location.hostname + (window_location.port ? ":" + window_location.port : "");
    }
    if (/wifi/.test(window_location.origin)) {
        var origin = window_location.origin.replace("-wifi", "");
    } else {
        var split_origin = window_location.origin.split(".");
        var origin = split_origin[0] + "-wifi" + "." + split_origin[1] + "." + split_origin[2];
    }
    console.log(origin);
    var cdstorage = new cross_domain_storage(origin, "/mobile/crossd_iframe.html");
    console.log(cdstorage);
    // 此函数用于回调获取跨域的localstroage
    function cdstorage_callback(key, val) {}
    //微信分享数组
    window._wx_share = [];
    //微信新版分享数组
    window._wx_share_new = [];
    var utility = {
        get_view_port_height: function(type) {
            var nav_bar_height = 45;
            var tab_bar_height = 45;
            var height = $win.height();
            switch (type) {
              case "nav":
                height = height - tab_bar_height;
                break;

              case "tab":
                height = height - nav_bar_height;
                break;

              case "all":
                height = height - tab_bar_height - nav_bar_height;
                break;

              default:
                height;
            }
            return height;
        },
        get_view_port_width: function() {
            return $win.width();
        },
        /**
         * 转化为整型
         * @param s
         * @returns {Number}
         */
        "int": function(s) {
            return parseInt(s, 10) || 0;
        },
        /**
         * 转换为浮点型
         * @param s
         * @returns {Number}
         */
        "float": function(s) {
            return parseFloat(s);
        },
        /**
         * 保留指定小数
         * @param number
         * @param fractionDigits
         * @returns {number}
         */
        format_float: function(number, fractionDigits) {
            fractionDigits = fractionDigits || 0;
            var pow = Math.pow(10, fractionDigits);
            return Math.round(number * pow) / pow;
        },
        /**
         * 获取hash
         * @returns {string}
         */
        getHash: function() {
            return window.location.hash.substr(1);
        },
        /**
         * 换取缩放宽
         * @param ori_width
         * @param ori_height
         * @param zoom_width
         * @returns {Number}
         */
        get_zoom_height_by_zoom_width: function(ori_width, ori_height, zoom_width) {
            return parseInt(ori_height * zoom_width / ori_width);
        },
        /**
         * 本地存储器
         */
        storage: {
            /**
             * 前缀
             */
            prefix: "poco-yuepai-app-",
            /**
             * 设置
             * @param key
             * @param val
             * @returns {*}
             */
            set: function(key, val) {
                if (typeof val == "undefined") {
                    return utility.storage.remove(key);
                }
                cdstorage.setItem(utility.storage.prefix + key, JSON.stringify(val));
                storage.setItem(utility.storage.prefix + key, JSON.stringify(val));
                return val;
            },
            /**
             * 获取
             * @param key
             * @returns {*}
             */
            get: function(key) {
                var item = storage.getItem(utility.storage.prefix + key);
                if (!item) {
                    return item;
                } else {
                    return JSON.parse(item);
                }
            },
            /**
             * 删除
             * @param key
             * @returns {*}
             */
            remove: function(key) {
                return storage.removeItem(utility.storage.prefix + key);
            }
        },
        select_time: {
            year: function(end_year) {
                var date = new Date();
                var year = date.getFullYear();
                var end_year = end_year || year + 3;
                var data = get_arr_by_start_and_end(year, end_year);
                var arr = [];
                for (var i = 0; i < data.length; i++) {
                    arr.push({
                        text: data[i],
                        value: data[i]
                    });
                }
                return arr;
            },
            month: function() {
                var data = get_arr_by_start_and_end(1, 12);
                var arr = [];
                for (var i = 0; i < data.length; i++) {
                    arr.push({
                        text: data[i],
                        value: data[i]
                    });
                }
                return arr;
            },
            day: function(cur_year, cur_month) {
                var d = new Date();
                var cur_year = cur_year || d.getFullYear();
                var cur_month = cur_month || d.getMonth() + 1;
                if (cur_month % 2 != 0 || cur_month == 7 || cur_month == 8) {
                    var data = get_arr_by_start_and_end(1, 31);
                } else {
                    if (cur_month == 2) {
                        if (!utility.select_time.is_leap_year(cur_year)) {
                            var data = get_arr_by_start_and_end(1, 28);
                        } else {
                            var data = get_arr_by_start_and_end(1, 29);
                        }
                    } else {
                        var data = get_arr_by_start_and_end(1, 30);
                    }
                }
                var arr = [];
                for (var i = 0; i < data.length; i++) {
                    arr.push({
                        text: data[i],
                        value: data[i]
                    });
                }
                return arr;
            },
            hour: function() {
                var data = get_arr_by_start_and_end(0, 23);
                var arr = [];
                for (var i = 0; i < data.length; i++) {
                    arr.push({
                        text: data[i],
                        value: data[i]
                    });
                }
                return arr;
            },
            min: function() {
                return [ {
                    value: "00"
                }, {
                    value: "15"
                }, {
                    value: "30"
                }, {
                    value: "45"
                } ];
            },
            is_leap_year: function(year) {
                return year % 400 == 0 || year % 100 != 0 && year % 4 == 0;
            },
            today_is: function() {
                var d = new Date();
                var cur_year = d.getFullYear();
                var cur_month = d.getMonth() + 1;
                var cur_date = d.getDate();
                return {
                    year: cur_year,
                    month: cur_month,
                    date: cur_date,
                    full_date: cur_year + "-" + cur_month + "-" + cur_date
                };
            },
            mix_date: function() {
                var self = this;
                var d = new Date();
                var cur_month = new Date().getMonth() + 1;
                var cur_day = new Date().getDate();
                var cur_year = utility.select_time.today_is().year;
                var year = utility.select_time.year();
                var month = utility.select_time.month();
                var hour = utility.select_time.hour();
                var min = utility.select_time.min();
                var date_arr = {};
                var hour_arr = {};
                var min_arr = {};
                var temp_month_arr_1 = [];
                var temp_month_arr_2 = [];
                var month_arr = [];
                /*****************整合今年和明年的时间，但不是最优的解决方案*********************/
                if (cur_month == 12) {
                    temp_month_arr_1.push(month[month.length - 1]);
                    temp_month_arr_1.push(month[0]);
                } else {
                    temp_month_arr_1.push(month[cur_month - 1]);
                    temp_month_arr_1.push(month[cur_month]);
                }
                month_arr = temp_month_arr_1;
                /*****************整合今年和明年的时间，但不是最优的解决方案*********************/
                // 整合日期
                for (var n = 0; n < month_arr.length; n++) {
                    var day = utility.select_time.day(cur_year, month_arr[n].value);
                    for (var m = 0; m < day.length; m++) {
                        var date = month_arr[n].value + "月" + day[m].value + "日";
                        var selected_cur_year = cur_year;
                        /****************今年和明年的时间整理，但不是最好的算法******************/
                        if (cur_month < month_arr[n].value) {
                            if (day[m].value > cur_day) {
                                selected_cur_year = cur_year;
                            }
                        } else if (month_arr[n].value == cur_month) {
                            if (day[m].value >= cur_day) {
                                selected_cur_year = cur_year;
                            } else {
                                selected_cur_year = cur_year + 1;
                                continue;
                            }
                        } else {
                            selected_cur_year = cur_year + 1;
                        }
                        /****************今年和明年的时间整理，但不是最好的算法******************/
                        //console.log('日期:'+selected_cur_year + "--" + month_arr[n].value+'月'+day[m].value+'日');
                        var obj = {
                            value: selected_cur_year + "-" + month_arr[n].value + "-" + day[m].value,
                            text: date,
                            selected: cur_month == month_arr[n].value && cur_day == day[m].value
                        };
                        date_arr[date] = obj;
                    }
                }
                // 整合时
                for (var n = 0; n < hour.length; n++) {
                    hour[n].selected = n == 0;
                    hour_arr[hour[n].value + "时"] = {
                        value: hour[n].value,
                        text: hour[n].value + "时",
                        selected: n == 0
                    };
                }
                // 整合分
                for (var n = 0; n < min.length; n++) {
                    min[n].selected = n == 0;
                    min_arr[hour[n].value + "分"] = {
                        value: min[n].value,
                        text: min[n].value + "分",
                        selected: n == 0
                    };
                }
                return {
                    date_arr: date_arr,
                    hour_arr: hour_arr,
                    min_arr: min_arr
                };
            }
        },
        /**
         * 订单信息
         */
        date_info: {
            set: function(info) {
                var self = this;
                utility.storage.set("date-info", info);
            },
            get: function() {
                var self = this;
                return utility.storage.get("date-info");
            },
            clear: function() {
                var self = this;
                utility.storage.remove("date-info");
            }
        },
        is_bigger_time: function(t1, t2) {
            var d1 = new Date(t1.replace(/\-/g, "/"));
            var d2 = new Date(t2.replace(/\-/g, "/"));
            return d1 > d2;
        },
        obj_Equal: function(obj_a, obj_b) {
            return _.isEqual(obj_a, obj_b);
        },
        is_empty: function(check_obj) {
            var obj_type = typeof check_obj;
            //console.log(obj_type)
            switch (obj_type) {
              case "undefined":
                var is_empty = true;
                break;

              case "boolean":
                var is_empty = !check_obj;
                break;

              case "number":
                if (check_obj > 0) {
                    var is_empty = false;
                } else {
                    var is_empty = true;
                }
                break;

              case "string":
                if (check_obj == "" || check_obj <= "0" && !isNaN(parseInt(check_obj))) {
                    var is_empty = true;
                } else {
                    var is_empty = false;
                }
                break;

              case "object":
                if (_.isEmpty(check_obj)) {
                    var is_empty = true;
                } else if (check_obj instanceof Array) {
                    if (check_obj.length == 0) {
                        var is_empty = true;
                    } else {
                        var is_empty = false;
                    }
                } else {
                    var is_empty = true;
                    for (var name in check_obj) {
                        is_empty = false;
                    }
                }
                break;

              default:
                var is_empty = false;
            }
            return is_empty;
        },
        ajax_request: function(options) {
            var options = options || {};
            var url = options.url;
            var data = options.data || {};
            var cache = options.cache || false;
            var beforeSend = options.beforeSend || function() {};
            var success = options.success || function() {};
            var error = options.error || function() {};
            var complete = options.complete || function() {};
            var type = options.type || "GET";
            var dataType = options.dataType || "json";
            $.ajax({
                url: url,
                type: type,
                data: data,
                cache: cache,
                dataType: dataType,
                beforeSend: beforeSend,
                success: success,
                error: error,
                complete: complete
            });
        },
        auth: {
            is_login: function() {
                return utility.login_id > 0;
            }
        },
        wei_xin: {
            url_head: window.location.origin + "/m/" + window._page_mode + "?" + window.location.search.replace("?", "") + "#",
            is_authority: function() {
                return cookie.get("yueus_openid");
            },
            weixin_authority_scope: function() {
                return cookie.get("yueus_scope");
            },
            set_share: function(hash, wxData, wxData_Timeline, wxCallbacks) {
                /*hash:#hot*/
                //{hash:'model',obj:{},pbj2:{}},{hash:'hot',obj:{},pbj2:{}}
                var inside = false;
                $.each(window._wx_share, function(i, obj) {
                    //替换
                    if (obj.hash == hash) {
                        inside = true;
                        window._wx_share[i] = {
                            hash: hash,
                            wxData: wxData,
                            wxData_Timeline: wxData_Timeline,
                            wxCallbacks: wxCallbacks
                        };
                    }
                });
                if (!inside) {
                    //插入
                    window._wx_share.push({
                        hash: hash,
                        wxData: wxData,
                        wxData_Timeline: wxData_Timeline,
                        wxCallbacks: wxCallbacks
                    });
                }
                console.log(window._wx_share);
                console.log(hash);
            },
            get_share: function(hash) {
                var inside = false;
                var return_obj;
                $.each(window._wx_share, function(i, obj) {
                    if (window._wx_share[i].hash == hash) {
                        inside = true;
                        return_obj = obj;
                    }
                });
                if (inside) {
                    return return_obj;
                } else {
                    return false;
                }
            },
            set_share_new: function(hash, wxData, wxData_Timeline) {
                var inside = false;
                $.each(window._wx_share_new, function(i, obj) {
                    //替换
                    if (obj.hash == hash) {
                        inside = true;
                        window._wx_share_new[i] = {
                            hash: hash,
                            wxData: wxData,
                            wxData_Timeline: wxData_Timeline
                        };
                    }
                });
                if (!inside) {
                    //插入
                    window._wx_share_new.push({
                        hash: hash,
                        wxData: wxData,
                        wxData_Timeline: wxData_Timeline
                    });
                }
                console.log(window._wx_share_new);
                console.log(hash);
            },
            get_share_new: function(hash) {
                var inside = false;
                var return_obj;
                $.each(window._wx_share_new, function(i, obj) {
                    if (window._wx_share_new[i].hash == hash) {
                        inside = true;
                        return_obj = obj;
                    }
                });
                console.log("------------", return_obj);
                if (inside) {
                    return return_obj;
                } else {
                    return false;
                }
            }
        },
        //图片转换size
        matching_img_size: function(img_url, size) {
            var sort_size = size;
            return change_img_resize(img_url, sort_size);
        },
        /**
         * 设置不可返回页面
         * @param hash
         */
        set_no_page_back: function(hash) {
            // 设置后退按钮是否可用
            if (ua.isAndroid) {
                var hash_obj = {};
                hash_obj[hash] = 1;
                window._rootHash = $.extend(window._rootHash, hash_obj);
            }
        },
        get_grid_size: function(type) {
            var width = 0;
            var height = 0;
            var special_size = 0;
            var temp_size = 0;
            var view_width = utility.get_view_port_width();
            /*if(view_width%3 == 0)
             {
             temp_size = view_width/3;
             }
             else if ((view_width+1)%3 == 0)
             {
             temp_size = (view_width+1)/3;
             }
             else if((view_width+2)%3 == 0)
             {
             temp_size = (view_width+2)/3;
             }*/
            special_size = utility.int(view_width / 3);
            switch (type) {
              case "one":
              case "special":
                width = special_size;
                height = view_width - special_size * 2;
                break;

              case "middle":
                width = special_size - 2;
                height = view_width - special_size * 2;
                break;

              case "double":
                width = special_size * 2 - 1;
                height = (view_width - special_size * 2) * 2 + 1;
                break;
            }
            return {
                width: width,
                height: height
            };
        },
        /**
         * 在线状态更变
         * @param fn
         */
        online_change: function(fn) {
            typeof fn == "function" && onlineChangeEvent.push(fn);
        },
        /**
         * 错误日志
         * @param lv
         * @param url
         * @param err_str
         */
        err_log: function(lv, url, err_str) {
            var self = this;
            var lv = lv || 1;
            var url = encodeURIComponent(url) || encodeURIComponent(window.location.href);
            var err_str = encodeURIComponent(err_str) || "";
            var err_log_src = "http://www.yueus.com/mobile_app/log/save_log.php?from_str=weixin&err_level=" + lv + "&url=" + url;
            var img = new Image();
            img.src = err_log_src + "&err_str=" + err_str;
        },
        get_url_params: function(url, paramName) {
            var oRegex = new RegExp("[?&]" + paramName + "=([^&]+)", "i");
            //var oMatch = oRegex.exec( window.top.location.search ) ; //获取当前窗口的URL
            var oMatch = oRegex.exec(url);
            if (oMatch && oMatch.length > 1) {
                return oMatch[1];
            } else {
                return "";
            }
        },
        /**
         * 统计页面pv
         */
        page_pv_stat_action: function(opt) {
            var opt = opt || {};
            var tj_point = opt.tj_point || "page";
            var tj_touch_type = opt.tj_touch_type || "";
            var url_hash = window.location.hash;
            url_hash = url_hash.replace("#", "");
            var tj_query = "hash_params=" + url_hash;
            tj_query = encodeURIComponent(tj_query);
            if (tj_point == "page") {
                var stat_url = "http://imgtj.yueus.com/pocotj_touch.css?url=touch://yueyue/weixin/" + tj_point + "?" + tj_query + "&t=" + new Date().getTime();
            } else if (tj_point == "touch") {
                var stat_url = "http://imgtj.yueus.com/pocotj_touch.css?url=touch://yueyue/weixin/" + tj_point + "?for_click_" + tj_touch_type + "&t=" + new Date().getTime();
            } else {
                var stat_url = "http://imgtj.yueus.com/pocotj_touch.css?url=touch://yueyue/weixin/" + tj_point + "?" + "t=" + new Date().getTime();
            }
            var stat_img = new Image();
            stat_img.src = stat_url;
        },
        /**
         * 整合统计触发事件
         * @param opt
         */
        stat_action: function(opt) {
            var opt = opt || {};
            var tj_point = opt.tj_point || "page";
            var tj_touch_type = opt.tj_touch_type || "";
            var tj_extend_params = opt.tj_extend_params || {};
            tj_extend_params = $.param(tj_extend_params);
            if (tj_point == "touch") {
                var stat_url = "http://imgtj.yueus.com/pocotj_touch.css?url=touch://yueyue/weixin/" + tj_point + "?for_click_" + tj_touch_type + "&tj_extend_params=" + tj_extend_params + "t=" + new Date().getTime();
            } else {
                var stat_url = "http://imgtj.yueus.com/pocotj_touch.css?url=touch://yueyue/weixin/" + tj_point + "?" + "t=" + new Date().getTime();
            }
            console.log("%c统计路径:" + stat_url, "color:#E45050");
            var stat_img = new Image();
            stat_img.src = stat_url;
        },
        is_dev_mode: function() {
            return window._page_mode == "webdev" || window._page_mode == "webbeta";
        },
        /**
         * 判断是否为第三方浏览器和非微信yueyue
         * @returns {boolean}
         */
        is_other_browser_or_not_weixin_yueyue: function() {
            var self = this;
            var flag = !ua.is_weixin || ua.is_weixin && /is_other_gzh/.test(window.location.search);
            if (ua.is_weixin && self.is_dev_mode()) {
                return false;
            }
            return flag;
        },
        /**
         * 判断网页跳转app
         * @param options
         */
        judge_go_to_app: function(options) {
            var self = this;
            var timeout, t = 1e3, hasApp = true;
            options.before_send.call(this);
            setTimeout(function() {
                if (hasApp) {
                    //安装了约约app
                    options.has_app_callback.call(this);
                } else {
                    //未安装约yueapp
                    options.has_not_app_callback.call(this);
                    clearTimeout(timeout);
                }
                document.body.removeChild(ifr);
            }, 2e3);
            var t1 = Date.now();
            var ifr = document.createElement("iframe");
            ifr.setAttribute("src", options.url);
            ifr.setAttribute("style", "display:none");
            document.body.appendChild(ifr);
            timeout = setTimeout(function() {
                var t2 = Date.now();
                if (!t1 || t2 - t1 < t + 100) {
                    hasApp = false;
                }
            }, t);
        },
        user: {},
        login_id: login_id || 0
    };
    var onlineChangeEvent = [];
    $win.on("online offline", function(event) {
        for (var i = 0, len = onlineChangeEvent.length; i < len; i++) {
            onlineChangeEvent[i].call(this, event);
        }
    });
    /**
     * 切换图片size
     * @param img_url
     * @param size
     * @returns {*}
     */
    function change_img_resize(img_url, size) {
        var size_str = "";
        size = size || "";
        if ($.inArray(size, [ 120, 165, 640, 600, 145, 440, 230, 260 ]) != -1) {
            size_str = "_" + size;
        } else {
            size_str = "";
        }
        // 解析img_url
        var url_reg = /^http:\/\/(img|image)\d*(-c|-wap|-d)?\.poco\.cn.*\.jpg|gif|png|bmp/i;
        var reg = /_165.jpg|_640.jpg|_120.jpg|_600.jpg|_145.jpg|_260.jpg|_440.jpg/i;
        if (url_reg.test(img_url)) {
            if (reg.test(img_url)) {
                img_url = img_url.replace(reg, size_str + ".jpg");
            } else {
                img_url = img_url.replace("/(.d*).jpg|.jpg|.gif|.png|.bmp/i", size_str + ".jpg");
            }
        }
        return img_url;
    }
    function get_arr_by_start_and_end(start, end) {
        var arr = [];
        for (start; start <= end; start++) {
            arr.push(start);
        }
        return arr;
    }
    module.exports = utility;
});

/**
 *  跨域处理localStorage
 *  hdw 2014.11.8
 */
define("pai/wx-1.1.0/common/cross_domain_storage-debug", [ "$-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    /**
     * Cross domain storage.
     * Based on: http://www.nczonline.net/blog/2010/09/07/learning-from-xauth-cross-domain-localstorage/
     * @author Juan Ramón González Hidalgo
     *
     * @param origin Iframe URL
     * @param path Path to iframe html file in origin
     */
    function CDStorage(origin, path) {
        var _iframe = null;
        var _iframeReady = false;
        var _origin = origin;
        var _path = path;
        var _queue = [];
        var _requests = {};
        var _id = 0;
        var supported = function() {
            try {
                return window.postMessage && window.JSON && "localStorage" in window && window["localStorage"] !== null;
            } catch (e) {
                return false;
            }
        }();
        //private methods
        var _sendRequest = function(data) {
            if (_iframe) {
                _requests[data.request.id] = data;
                _iframe.contentWindow.postMessage(JSON.stringify(data.request), _origin);
            }
        };
        var _iframeLoaded = function() {
            _iframeReady = true;
            if (_queue.length) {
                for (var i = 0, len = _queue.length; i < len; i++) {
                    _sendRequest(_queue[i]);
                }
                _queue = [];
            }
        };
        var _handleMessage = function(event) {
            if (event.origin == _origin) {
                var data = JSON.parse(event.data);
                if (typeof _requests[data.id].deferred != "undefined") {
                    _requests[data.id].deferred.resolve(data.value);
                }
                if (typeof _requests[data.id].callback == "function") {
                    _requests[data.id].callback(data.key, data.value);
                }
                delete _requests[data.id];
            }
        };
        //Public methods
        this.getItem = function(key, callback) {
            if (supported) {
                var request = {
                    id: ++_id,
                    type: "get",
                    key: key
                }, data = {
                    request: request,
                    callback: callback
                };
                if (window.jQuery) {
                    data.deferred = jQuery.Deferred();
                }
                if (_iframeReady) {
                    _sendRequest(data);
                } else {
                    _queue.push(data);
                }
                if (window.jQuery) {
                    return data.deferred.promise();
                }
            }
        };
        this.setItem = function(key, value) {
            if (supported) {
                var request = {
                    id: ++_id,
                    type: "set",
                    key: key,
                    value: value
                }, data = {
                    request: request
                };
                if (window.jQuery) {
                    data.deferred = jQuery.Deferred();
                }
                if (_iframeReady) {
                    _sendRequest(data);
                } else {
                    _queue.push(data);
                }
                if (window.jQuery) {
                    return data.deferred.promise();
                }
            }
        };
        //Init
        if (!_iframe && supported) {
            _iframe = document.createElement("iframe");
            _iframe.style.cssText = "position:absolute;width:1px;height:1px;left:-9999px;";
            document.body.appendChild(_iframe);
            if (window.addEventListener) {
                _iframe.addEventListener("load", function() {
                    _iframeLoaded();
                }, false);
                window.addEventListener("message", function(event) {
                    _handleMessage(event);
                }, false);
            } else if (_iframe.attachEvent) {
                _iframe.attachEvent("onload", function() {
                    _iframeLoaded();
                }, false);
                window.attachEvent("onmessage", function(event) {
                    _handleMessage(event);
                });
            }
            _iframe.src = _origin + _path;
        }
    }
    module.exports = CDStorage;
});

define("pai/wx-1.1.0/frame/page-debug", [ "$-debug", "utility/zepto/modules/data/1.1.4/data-debug", "pai/wx-1.1.0/frame/ua-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports) {
    var $ = require("$-debug");
    require("utility/zepto/modules/data/1.1.4/data-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    require("utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug");
    $(document.body).hammer();
    exports.new_page = function(options) {
        var Backbone = require("utility/backbone/1.1.2/backbone-debug");
        options || (options = {});
        var page_view_class = Backbone.View.extend({
            tagName: "div",
            className: "apps_page",
            title: options.title,
            manual_title: options.manual_title,
            dom_not_cache: options.dom_not_cache,
            transition_type: options.transition_type,
            ignore_exist: options.ignore_exist || false,
            without_his: options.without_his || false,
            events: options.events,
            render: options.render,
            page_show: options.page_show,
            page_before_show: options.page_before_show,
            page_back_show: options.page_back_show,
            page_init: options.page_init,
            window_change: options.window_change,
            page_before_hide: options.page_before_hide,
            page_hide: options.page_hide,
            page_before_remove: options.page_before_remove,
            page_lock: false,
            initialize: function() {
                var self = this;
                self.$cover = $('<div class="tran_cover fn-hide"></div>');
                //转场防事件穿透遮罩层  add by manson 2014.3.5
                self.$el.append(self.$cover);
                if (typeof options.initialize == "function") {
                    options.initialize.call(self);
                }
            },
            open_cover: function() {
                this.$cover.removeClass("fn-hide");
            },
            close_cover: function(delay) {
                var that = this;
                if (delay === -1) {
                    that.$cover.addClass("fn-hide");
                } else {
                    setTimeout(function() {
                        that.$cover.addClass("fn-hide");
                    }, delay || 300);
                }
            }
        });
        return new page_view_class();
    };
});

/**
 * 我的 模型
 * hdw 2014.8.29
 */
define("pai/wx-1.1.0/mine/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "$-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        url: global_config.ajax_url.get_user_info,
        "default": {
            user_icon: "",
            user_id: "",
            nickname: "",
            sex: "",
            birthday: "",
            location_id: "",
            phone: "",
            attendance: "0",
            user_level: "",
            organizer_level: "0",
            model_level: "0",
            cameraman_level: "0",
            add_time: "",
            last_login_time: "0",
            last_login_location: "0",
            code: "",
            role: "",
            set_top: "0",
            pv: "0",
            available_balance: "0.00",
            balance: "0.00",
            is_login: false,
            zone_info: {}
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.once("success:get_info:fetch", function() {}).on("success:update_info:save", function(response) {}).on("before:get_info:fetch", function(xhr) {
                self._get_info_xhr = xhr;
            }).on("success:get_info:fetch", function(response) {
                self.update_user(response.result_data.data);
            }).on("complete:get_info:fetch", function() {
                delete self._get_info_xhr;
            });
        },
        parse: function(response) {
            if (response.result_data) {
                return response.result_data.data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        get_zone_info: function(role, user_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.zone_info,
                data: {
                    role: role,
                    user_id: user_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_zone_info:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:get_zone_info:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:get_zone_info:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_zone_info:fetch", xhr, status);
                }
            });
            return self;
        },
        get_info: function() {
            var self = this;
            self.fetch({
                url: self.url,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_info:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.update_user(response.result_data.data);
                    self.trigger("success:get_info:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:get_info:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_info:fetch", xhr, status);
                }
            });
        },
        update_info: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.update_user_info,
                cache: false,
                data: data,
                beforeSend: function(xhr, options) {
                    self.trigger("before:update_info:save", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:update_info:save", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:update_info:save", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:update_info:save", xhr, status);
                }
            });
        },
        /*_update_info: function(key, val, options) {
            var self = this;

            var attrs;
            if (key == null || typeof key === 'object') {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }

            options || (options = {});

            options.url = global_config.ajax_url.update_user_info;
            var paramData = [];
            for (var key in attrs) {
                paramData.push(key + '=' + attrs[key]);
            }
            options.data = paramData.join('&');
            options.beforeSend = function(xhr, options) {
                self.trigger('before:update_info:save', xhr, options);
            };
            options.success = function(model, response, options) {
                self.trigger('success:update_info:save', response, options);
            };
            options.error = function(model, xhr, options) {
                self.trigger('error:update_info:save', model, xhr, options);
            };
            options.complete = function(xhr, status) {
                self.trigger('complete:update_info:save', xhr, status);
            };

            self.save(attrs, options);

            return self;
        },*/
        update_user: function(data) {
            var self = this;
            utility.storage.set("user", data);
            self.set(data);
        },
        send_recharge: function(data) {
            var self = this;
            var location = window.location;
            if (data.redirect) {
                var redirect_url = location.origin + "/mobile/" + window._page_mode + "#" + data.redirect;
            } else {
                var redirect_url = location.origin + "/mobile/" + window._page_mode + "#mine";
            }
            // 用于刷新整个网页
            if (data.is_refresh) {
                var rand = new Date().getTime();
                var redirect_url = location.origin + "/mobile/" + window._page_mode + "?" + rand + "#" + data.redirect;
            }
            redirect_url = encodeURIComponent(redirect_url);
            data = $.extend(data, {
                redirect_url: redirect_url
            });
            self.fetch({
                url: global_config.ajax_url.recharge,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:send_rechare:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:send_rechare:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:send_rechare:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:send_rechare:fetch", xhr, status);
                }
            });
        },
        get_date_by_date_id: function(date_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_date_by_date_id,
                cache: false,
                data: {
                    date_id: date_id
                },
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_date_by_date_id:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:get_date_by_date_id:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:get_date_by_date_id:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_date_by_date_id:fetch", xhr, status);
                }
            });
        },
        /**
         * 转换角色
         */
        change_role: function() {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.change_role,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:change_role:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:change_role:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:change_role:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:change_role:fetch", xhr, status);
                }
            });
        },
        /**
         * 注册功能
         * @param data
         */
        reg: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.reg,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:reg", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:reg", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:reg", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:reg", xhr, status);
                }
            });
        },
        get_bail_available_balance: function() {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_bail_available_balance,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch:get_bail_available_balance", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch:get_bail_available_balance", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch:get_bail_available_balance", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch:get_bail_available_balance", xhr, status);
                }
            });
        },
        get_level_list: function() {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.level_list,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:authentication_list:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:authentication_list:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:authentication_list:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:authentication_list:fetch", xhr, status);
                }
            });
        },
        get_level_detail: function() {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.level_detail,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:authentication_detail:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:authentication_detail:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:authentication_detail:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:authentication_detail:fetch", xhr, status);
                }
            });
        },
        add_authentication_pic: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.add_id,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:authentication_pic:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:authentication_pic:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:authentication_pic:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:authentication_pic:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 系统功能处理
 * hdw  2014.9.16
 */
define("pai/wx-1.1.0/common/system-debug", [ "$-debug", "matcha/cookie/1.0.0/cookie-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/I_APP-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    var login_id = parseInt(cookie.get("member_id"));
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var system = {
        sso_login: function(options) {
            var options = options || {};
            utility.ajax_request({
                url: global_config.ajax_url.sso_login,
                data: options.data,
                success: function(response) {
                    if (response.result_data.user_info) {
                        utility.user.update_user(response.result_data.user_info);
                        utility.login_id = response.result_data.user_id;
                        var icon = response.result_data.user_info.user_icon;
                        if (typeof options.success == "function") {
                            options.success.call(this, {
                                code: 1,
                                data: response,
                                msg: "登录成功"
                            });
                        }
                        var params = {
                            pocoid: utility.login_id,
                            username: utility.user.get("nickname"),
                            icon: icon
                        };
                        if (App.isPaiApp) {
                            App.login(params);
                            // 保存设备信息
                            App.save_device();
                        }
                        if (!utility.user.get("role")) {
                            /**
                             * 登录成功，但用户信息没有角色数据，此用户为有poco_id但没有执行过约拍流程
                             * 应该根据选择的角色重新跑约拍流程
                             */
                            if (self.get("is_model_first_time")) {
                                page_control.navigate_to_page("model_date/model_card/0");
                            } else {
                                page_control.navigate_to_page("mine/profile/" + utility.login_id + "/1");
                            }
                        } else {
                            /**
                             * 登录成功，并且有角色数据，此用户是约拍的用户
                             * 但要区分进来登录的页面是从封面页还是其他页面
                             */
                            if (utility.storage.get("is_frist_time_open_app")) {
                                page_control.navigate_to_page(global_config.default_index_route);
                            } else {
                                page_control.back();
                            }
                        }
                    } else {
                        if (typeof options.success == "function") {
                            options.success.call(this, {
                                code: 0,
                                data: response,
                                msg: "登录失败"
                            });
                        }
                    }
                },
                error: function() {
                    if (typeof options.error == "function") {
                        options.error.call(this);
                    }
                }
            });
        },
        logout: function(params) {
            var params = params || {};
            utility.ajax_request({
                url: global_config.ajax_url.logout,
                data: {
                    user_id: utility.login_id
                },
                success: function(data) {
                    if (data.result_data.code) {
                        utility.storage.set("user", "");
                        utility.storage.set("user-role", "");
                        var cookieOptions = {
                            domain: "yueus.com",
                            path: "/"
                        };
                        cookie.del("session_id", cookieOptions);
                        cookie.del("g_session_id", cookieOptions);
                        cookie.del("member_id", cookieOptions);
                        cookie.del("fav_userid", cookieOptions);
                        cookie.del("session_auth_hash", cookieOptions);
                        if (App.isPaiApp) {
                            App.logout();
                        }
                        typeof params.success == "function" && params.success.call(this, data);
                        var url = window.location.origin + window.location.pathname;
                        setTimeout(function() {
                            console.log("refresh page");
                            window.location.href = url;
                        }, 500);
                    } else {
                        alert(data.result_data.msg);
                        if (typeof params.error == "function") {
                            params.error.call(this, data);
                        }
                    }
                },
                error: function() {
                    if (typeof params.error == "function") {
                        params.error.call(this);
                    }
                }
            });
        },
        update_mine_msg: function(data) {
            var sys_msg = data.sys_msg;
            var act_msg = data.act_msg;
            var $notice_list = $('[data-role="ui-mine-msg-container"]');
            var unread_act_msg = utility.storage.get("unread_act_msg");
            var $sq_notice_container = $('[data-role="notice_security_container"]');
            if ($notice_list.length > 0) {
                var $msg_num = $notice_list.find('[data-role="notice_msg_num"]');
                var notice_security_num = $notice_list.find('[data-role="notice_security_num"]');
                var $notice_security_container = $notice_list.find('[data-role="notice_security_container"]');
                if (sys_msg > 0) {
                    //$sq_notice_container.removeClass('fn-hide');
                    $msg_num.removeClass("fn-hide").html(sys_msg);
                } else {
                    //$sq_notice_container.addClass('fn-hide');
                    $msg_num.addClass("fn-hide").html(0);
                }
                console.log(act_msg, unread_act_msg);
            }
        }
    };
    module.exports = system;
});

/**
 * App 接口
 */
define("pai/wx-1.1.0/common/I_APP-debug", [ "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var appBridge = window.PocoWebViewJavascriptBridge;
    var isPaiApp = typeof appBridge !== "undefined";
    var prefix = "poco.yuepai.";
    if (isPaiApp) {
        appBridge.init();
        // 留接口比app调用
        var pocoAppEventTrigger = $.extend({}, Backbone.Events);
        window.pocoAppEventTrigger = function() {
            return pocoAppEventTrigger.trigger.apply(pocoAppEventTrigger, arguments);
        };
    }
    var App = {
        isPaiApp: isPaiApp,
        on: function() {
            if (!App.isPaiApp) {
                return;
            }
            return pocoAppEventTrigger.on.apply(pocoAppEventTrigger, arguments);
        },
        off: function() {
            if (!App.isPaiApp) {
                return;
            }
            return pocoAppEventTrigger.off.apply(pocoAppEventTrigger, arguments);
        },
        once: function() {
            if (!App.isPaiApp) {
                return;
            }
            return pocoAppEventTrigger.once.apply(pocoAppEventTrigger, arguments);
        },
        /**
         * 私信
         * @param options
         */
        chat: function(options) {
            var self = this;
            appBridge.callHandler(prefix + "function.chat", options, function() {
                typeof options.callback == "function" && options.callback.call(this);
            });
        },
        /**
         * 扫二维码
         */
        qrcodescan: function(options) {
            var self = this;
            var options = options || {};
            var is_nav_page = options.is_nav_page == null ? true : false;
            var success = options.success || function() {};
            appBridge.callHandler(prefix + "function.qrcodescan", options, function(data) {
                if (data.code == "0000") {
                    // 创建location对象
                    var a = document.createElement("a");
                    a.href = data.scanresult;
                    if (!window.location.origin) {
                        window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : "");
                    }
                    // 替换正确的路由
                    var href = a.href.replace(a.origin, window.location.origin);
                    console.log(href);
                    utility.ajax_request({
                        url: href,
                        beforeSend: function() {
                            m_alert.show("发送中", "right");
                        },
                        success: function(response) {
                            var data = response.result_data;
                            m_alert.show(data.msg, "right");
                            if (data.code > 0) {
                                // 设置扫描后进行跳页
                                if (is_nav_page) {
                                    page_control.navigate_to_page(data.type);
                                } else {
                                    success.call(this, data);
                                }
                            }
                        },
                        error: function() {
                            m_alert.show("网络异常", "error");
                        }
                    });
                }
            });
        },
        /**
         * 检查是否登录
         * @param callback
         */
        check_login: function(callback) {
            appBridge.callHandler(prefix + "info.login", {}, function(poco_id) {
                callback.call(this, poco_id);
            });
        },
        /**
         * 登录
         */
        login: function(options) {
            var self = this;
            var options = options || {};
            appBridge.callHandler(prefix + "function.login", {
                pocoid: options.pocoid,
                username: options.username,
                icon: options.icon
            }, function() {});
        },
        /**
         * 退出登录
         * @param options
         */
        logout: function() {
            var self = this;
            console.log("APP logout");
            appBridge.callHandler(prefix + "function.logout", {}, function() {});
        },
        /**
         * 保存设备
         */
        save_device: function(tag, callback) {
            var self = this;
            var tag = tag || false;
            appBridge.callHandler(prefix + "info.device", {}, function(data) {
                console.log(data);
                data = $.extend(data, {
                    user_id: utility.login_id
                });
                if (!tag) {
                    utility.ajax_request({
                        url: global_config.ajax_url.a_img,
                        data: data
                    });
                } else {
                    if (typeof callback == "function") {
                        callback.call(this, data);
                    }
                }
            });
        },
        /**
         * 获取聊天信息
         * @param callback
         */
        get_chat_info: function(callback) {
            var self = this;
            appBridge.callHandler(prefix + "info.chat", {}, function(data) {
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 获取登录信息
         * @param success
         */
        get_login_info: function(success) {
            var self = this;
            appBridge.callHandler(prefix + "info.login", {}, function(data) {
                if (typeof success == "function") {
                    success.call(this, data);
                }
            });
        },
        /**
         * 支付宝支付
         * @param params
         */
        alipay: function(params, callback) {
            var self = this;
            if (!params) {
                alert("no params");
                return;
            }
            console.log(params);
            appBridge.callHandler(prefix + "function.alipay", params, function(data) {
                console.log("======支付宝支付回调参数======");
                console.log(data);
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 微信支付
         * @param params
         */
        wxpay: function(params, callback) {
            var self = this;
            if (!params) {
                alert("no params");
                return;
            }
            console.log(params);
            appBridge.callHandler(prefix + "function.wxpay", params, function(data) {
                console.log("======微信支付回调参数======");
                console.log(data);
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 上传图片
         * @param params
         * @param callback
         */
        upload_img: function(type, params, callback) {
            var self = this;
            console.log("upload img");
            var url = "";
            var photosize = params.photosize || 640;
            //var domain = 'http://imgup-yue.yueus.com';
            var is_wifi = window.APP_NET_STATUS == "wifi" ? "-wifi" : "";
            console.log("net status:" + window.APP_NET_STATUS);
            var icon_domain = "http://sendmedia" + is_wifi + ".yueus.com:8078/";
            var pics_domain = "http://sendmedia" + is_wifi + ".yueus.com:8079/";
            if (!params) {
                alert("no params");
                return;
            }
            if (!type) {
                alert("no type");
                return;
            }
            var operation = "";
            var src_opts = "";
            switch (type) {
              case "header_icon":
                //url = domain + '/ultra_upload_service/yueyue_upload_user_icon_act.php';
                url = icon_domain + "icon.cgi";
                operation = "modify_headicon";
                src_opts = "camera_album";
                break;

              case "single_img":
                //url = domain + '/ultra_upload_service/yueyue_upload_act.php';
                url = pics_domain + "upload.cgi";
                src_opts = "camera_album";
                break;

              case "multi_img":
                /*if(params.is_zip == 1)
                     {
                         url = domain + '/ultra_upload_service/yueyue_multi_upload_act.php';
                     }
                     else
                     {
                        url = domain +  '/ultra_upload_service/yueyue_upload_act.php';
                     }*/
                url = pics_domain + "upload.cgi";
                src_opts = "camera_album";
                break;
            }
            params = $.extend(params, {
                url: url,
                photosize: photosize,
                operation: operation,
                src_opts: src_opts
            });
            console.log("-----upload img params-----");
            console.log(params);
            appBridge.callHandler(prefix + "function.uploadpic", params, function(data) {
                callback.call(this, data);
            });
        },
        /**
         * 打开聊天列表
         */
        show_chat_list: function() {
            appBridge.callHandler(prefix + "function.openchatlist", {}, function() {});
        },
        /**
         * 调试模式
         * url：待调试的首页链接
           cache_onoff：是否开启缓存，0关闭，1开启
           debug：0/1 ,是否启用调试模式，0关闭，1开启
         */
        debug: function(options) {
            var data = data || {};
            if (options.cache) {
                data.url = global_config.romain;
            } else {
                data.url = global_config.debug_romain;
            }
            data.debug = options.debug ? 1 : 0;
            data.cache_onoff = options.cache ? 1 : 0;
            appBridge.callHandler(prefix + "function.debug", data, function() {});
        },
        /**
         * 放大图
         * @param data
         */
        show_alumn_imgs: function(data) {
            var data = data || {};
            appBridge.callHandler(prefix + "function.show_album_imgs", data, function() {});
        },
        /**
         * 获取网络状态
         * @param callback
         */
        get_netstatus: function(callback) {
            var data = data || {};
            appBridge.callHandler(prefix + "info.netstatus", {}, function(data) {
                //type off、wifi、mobile
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 第三方登录
         * @param params
         * @param callback
         * 传入参数：
           platform：qzone/sina
           返回参数：
           code：0000-成功，1000-失败
           message：错误信息
           uid：用户id
           token：令牌
           tokensecret：
         */
        sso_login: function(params, callback) {
            appBridge.callHandler(prefix + "function.bind_account", params, function(data) {
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 获取地理信息
         * @param params
         * @param callback
         * return
         *
            code：0000-成功，1000-失败，1002-超时
         　　long：经度
         　　lat：纬度
         */
        get_gps: function(params, callback) {
            appBridge.callHandler(prefix + "function.getgps", params, function(data) {
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 软件设置
           传入参数：
           msgvibrate：收到消息时手机震动 0/1
           msgsound：收到消息时声音提示 0/1
           返回参数：无
         * @param params
         * @param callback
         */
        set_setting: function(params, callback) {
            appBridge.callHandler(prefix + "function.setting", params, function(data) {
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 获取软件设置

           传入参数：无
           返回参数：
           msgvibrate：收到消息时手机震动 0/1
           msgsound：收到消息时声音提示 0/1
           remote_notify_setting：是否接收消息 0/1 (iphone)
         * @param params
         * @param callback
         */
        get_setting: function(params, callback) {
            appBridge.callHandler(prefix + "info.setting", params, function(data) {
                console.log(data);
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        },
        /**
         * 点击过去清除缓存
         */
        clear_cache: function() {
            appBridge.callHandler(prefix + "function.clearcache", {}, function(data) {});
        },
        /**
         * 移走封面图
         */
        remove_front: function(page) {
            var hash = utility.getHash() || "";
            var highlight = "";
            // 特殊处理 从支付宝跳转过来的页面
            if (/mine\/payment_no_/.test(hash)) {
                hash = "mine";
            }
            // 显示底部的路由
            if (global_config._show_footer_hash[hash]) {
                highlight = hash;
            }
            console.log("function.notifypageready hash:" + hash);
            appBridge.callHandler(prefix + "function.notifypageready", {
                page: hash,
                highlight: highlight
            }, function(data) {});
        },
        /**
         * 移走底部bar
         */
        show_bottom_bar: function(show) {
            console.log("function.showbottombar");
            appBridge.callHandler(prefix + "function.showbottombar", {
                show: show
            }, function(data) {});
        },
        /**
         *  检查app更新
            poco.yuepai.function.checkupdate
            传入参数：无
            返回参数：无
         */
        check_update: function() {
            appBridge.callHandler(prefix + "function.checkupdate", {}, function(data) {});
        },
        /**
         *   模拟app返回键
             poco.yuepai.function.back
             传入参数：无
             返回参数：无
         */
        app_back: function() {
            console.log("App Back");
            appBridge.callHandler(prefix + "function.back", {}, function(data) {});
        },
        /**
         * 获取app信息 主要用于显示红点
         */
        app_info: function(callback) {
            console.log("App app-info");
            appBridge.callHandler(prefix + "info.app", {}, function(data) {
                console.log(data);
                if (typeof callback == "function") {
                    callback.call(this, data);
                }
            });
        }
    };
    module.exports = App;
    function isFunction(o) {
        return typeof o === "function";
    }
});

/**
 * 提示层
 * hdw 2014.8.29
 */
define("pai/wx-1.1.0/ui/m_alert/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tpl = require("pai/wx-1.1.0/ui/m_alert/tpl/m_alert-debug.handlebars");
    module.exports = new (View.extend({
        attrs: {
            className: "ui-alert"
        },
        events: {
            /*'webkitTransitionEnd': '_transition_end',
            'transitionEnd': '_transition_end'*/
            webkitTransitionEnd: "_transition_end",
            transitionend: "_transition_end"
        },
        _setup_event: function() {
            var self = this;
        },
        setup: function() {
            var self = this;
            self._setup_event();
        },
        /**
         * 显示浮层
         * @param text
         * @param type
         * @param options
         * @returns {*}
         */
        show: function(text, type, options) {
            var self = this;
            text = String(text);
            if (!text) {
                return;
            }
            if (typeof type !== "string") {
                options = type;
                type = "";
            }
            if (!self.rendered) {
                self.render();
            }
            options || (options = {});
            var iconClass = "icon ";
            switch (type) {
              case "right":
                iconClass += "icon-check-circle";
                break;

              case "error":
                iconClass += "icon-info-circle";
                break;

              case "loading":
                iconClass += "icon-spinner ui-loading-animate";
                break;

              default:
                iconClass += "";
                break;
            }
            console.log(type);
            var htmlStr = tpl({
                text: text,
                iconClass: iconClass
            });
            self.$el.html(htmlStr).removeClass("fn-hide");
            clearTimeout(self._clearTimer);
            clearTimeout(self._triggerHideTimer);
            var delay_time = options.delay || 0;
            if (utility.int(delay_time) > -1) {
                self._triggerHideTimer = setTimeout(function() {
                    self.hide();
                }, options.delay || 2400);
            }
            self._visible = true;
            return self;
        },
        /**
         * 隐藏浮层
         * @returns {*}
         */
        hide: function(options) {
            options || (options = {});
            var self = this;
            clearTimeout(self._clearTimer);
            clearTimeout(self._triggerHideTimer);
            if (utility.int(options.delay) === -1) {
                self.$el.addClass("fn-hide");
            } else {
                self._clearTimer = setTimeout(function() {
                    if (self._visible) {
                        //self.$el.addClass('fadeout');
                        self.$el.addClass("fn-hide").removeClass("fadeout");
                        self._visible = false;
                    }
                }, options.delay);
            }
            return self;
        },
        _transition_end: function(event) {
            var self = this;
            if (event.propertyName == "opacity" && !self._visible) {
                self.$el.addClass("fn-hide").removeClass("fadeout");
            }
        }
    }))();
});

define("pai/wx-1.1.0/common/view-debug", [ "$-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    // 实例缓存
    var cachedInstances = {};
    // 编译过的模版缓存
    var compiledTemplates = {};
    /**
     * 默认属性
     * @type {{id: null, className: null, template: null, templateModel: null, parentNode: HTMLElement}}
     */
    var defaultAttr = {
        // 基本属性
        id: null,
        className: null,
        // 默认模板
        template: null,
        // 默认模版数据模型
        templateModel: null,
        // 组件的默认父节点
        parentNode: document.body
    };
    var View = Backbone.View.extend({
        /**
         * Handlebars 的 helpers
         */
        templateHelpers: null,
        /**
         * Handlebars 的 partials
         */
        templatePartials: null,
        /**
         * 渲染Handlebars模版
         * @param template
         * @param templateModel
         * @returns {*}
         * @private
         */
        _renderElement: function(template, templateModel) {
            var self = this;
            template || (template = self.get("template"));
            // 模版套入的数据
            templateModel || (templateModel = self.get("templateModel")) || (templateModel = {});
            if (templateModel.toJSON) {
                templateModel = templateModel.toJSON();
                console.log(templateModel);
            }
            // handlebars runtime
            if (isFunction(template)) {
                return template(templateModel, {
                    helpers: self.templateHelpers,
                    partials: compilePartial(self.templatePartials)
                });
            }
            var helpers = self.templateHelpers;
            var partials = self.templatePartials;
            // 注册 helpers
            if (helpers) {
                var helper;
                for (helper in helpers) {
                    if (helpers.hasOwnProperty(helper)) {
                        Handlebars.registerHelper(helper, helpers[helper]);
                    }
                }
            }
            // 注册 partials
            if (partials) {
                var partial;
                for (partial in partials) {
                    if (partials.hasOwnProperty(partial)) {
                        Handlebars.registerPartial(partial, partials[partial]);
                    }
                }
            }
            var compiledTemplate = compiledTemplates[template];
            if (!compiledTemplate) {
                compiledTemplate = compiledTemplates[template] = Handlebars.compile(template);
            }
            // 生成 html
            var html = compiledTemplate(templateModel);
            // 卸载 helpers
            if (helpers) {
                var helper;
                for (helper in helpers) {
                    if (helpers.hasOwnProperty(helper)) {
                        delete Handlebars.helpers[helper];
                    }
                }
            }
            // 卸载 partials
            if (partials) {
                var partial;
                for (partial in partials) {
                    if (partials.hasOwnProperty(partial)) {
                        delete Handlebars.partials[partial];
                    }
                }
            }
            return html;
        },
        /**
         * 从模版上制造element
         * @private
         */
        _parseElementFromTemplate: function() {
            var self = this;
            // template 支持 id 选择器
            var $template, template = self.get("template");
            if (/^#/.test(template) && ($template = $(template))) {
                template = $template.html();
                self.set("template", template);
            }
            self.el = self._renderElement(template);
        },
        /**
         * 覆盖方法(Backbone.View._ensureElement)
         * @private
         */
        _ensureElement: function() {},
        /**
         * 构建element
         * @private
         */
        _parseElement: function() {
            var self = this;
            var isTemplate = !self.el && self.get("template");
            // 未传入 el 时，从 template 构建
            if (isTemplate) {
                self._parseElementFromTemplate();
                self.setElement(self.el, false);
                // 是否由 template 初始化
                self._isTemplate = true;
            } else {
                Backbone.View.prototype._ensureElement.apply(self);
            }
            // 如果对应的 DOM 元素不存在，则报错
            if (!self.$el || !self.$el[0]) {
                throw new Error("element is invalid");
            }
        },
        /**
         * 让 element 与 View 实例建立关联
         * @private
         */
        _stamp: function() {
            var self = this;
            var cid = self.cid;
            cachedInstances[cid] = self;
        },
        _initAttrs: function(options) {
            var self = this;
            // 组件属性与默认属性融合
            self.attrs = $.extend(true, {}, defaultAttr, self.attrs || {}, options);
        },
        /**
         * 初始化
         * @param options
         * @returns {View}
         */
        initialize: function(options) {
            options || (options = {});
            var self = this;
            // 初始化属性
            self._initAttrs(options);
            // 兼容 backbone.view
            var elementId = self.get("id");
            if (elementId) {
                self.id = elementId;
            }
            var elementClassName = self.get("className");
            if (elementClassName) {
                self.className = elementClassName;
            }
            // 构建 element
            self._parseElement();
            // 子类自定义的初始化
            self.setup();
            // 保存实例信息
            self._stamp();
            return self;
        },
        get: function(name) {
            return this.attrs[name] || null;
        },
        set: function(name, value) {
            var self = this;
            self.attrs[name] = value;
            return self;
        },
        /**
         * 提供给子类覆盖的初始化方法
         */
        setup: function() {},
        /**
         * 渲染
         * @returns {View}
         */
        render: function(type) {
            var self = this;
            if (!self.rendered) {
                self.rendered = true;
            }
            var parentNode = self.get("parentNode");
            if (parentNode && !isInDocument(self.el)) {
                if (type && type == "prepend") {
                    parentNode.prepend(self.$el);
                } else {
                    self.$el.appendTo(parentNode);
                }
            }
            return self;
        },
        /**
         * 移除
         * @returns {View}
         */
        remove: function() {
            var self = this;
            delete cachedInstances[self.cid];
            // 注销所有事件,Zepto的remove只是单纯移除DOM
            self.undelegateEvents().$el.off();
            Backbone.View.prototype.remove.apply(self);
            return self;
        },
        /**
         * 销毁实例
         * @returns {View}
         */
        destroy: function() {
            var self = this;
            for (var p in self) {
                if (self.hasOwnProperty(p)) {
                    delete self[p];
                }
            }
            // 此方法只能运行一次
            self.destroy = function() {};
            return self;
        }
    });
    module.exports = View;
    // For memory leak
    $(window).unload(function() {
        var cid, instance;
        for (cid in cachedInstances) {
            instance = cachedInstances[cid];
            instance && instance.destroy();
        }
    });
    // Helps
    // ------------------------------
    function isFunction(o) {
        return typeof o === "function";
    }
    function isInDocument(element) {
        return $.contains(document.documentElement, element);
    }
    function compilePartial(partials) {
        if (!partials) return {};
        var result = {}, name, partial;
        for (name in partials) {
            partial = partials[name];
            result[name] = isFunction(partial) ? partial : Handlebars.compile(partial);
        }
        return result;
    }
    module.exports = View;
});

define("pai/wx-1.1.0/ui/m_alert/tpl/m_alert-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div class="ui-alert-container" data-role="container">\r\n    <div class="ui-alert-content" data-role="content">\r\n        <i class="';
        if (helper = helpers.iconClass) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.iconClass;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '"></i><span>';
        if (helper = helpers.text) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.text;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</span>\r\n    </div>\r\n</div>";
        return buffer;
    });
});

/**
 * Created by hdw on 2014/12/21.
 * 微信接口
 */
define("pai/wx-1.1.0/common/I_WX-debug", [ "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    /**
     * 定义WeixinApi
     */
    var WeixinApi = {
        version: 3.2
    };
    // 将WeixinApi暴露到window下：全局可使用，对旧版本向下兼容
    window.WeixinApi = WeixinApi;
    /////////////////////////// CommonJS /////////////////////////////////
    if (typeof define === "function" && (define.amd || define.cmd)) {
        if (define.amd) {
            // AMD 规范，for：requirejs
            define(function() {
                return WeixinApi;
            });
        } else if (define.cmd) {
            // CMD 规范，for：seajs
            define(function(require, exports, module) {
                module.exports = WeixinApi;
            });
        }
    }
    /**
     * 对象简单继承，后面的覆盖前面的，继承深度：deep=1
     * @private
     */
    var _extend = function() {
        var result = {}, obj, k;
        for (var i = 0, len = arguments.length; i < len; i++) {
            obj = arguments[i];
            if (typeof obj === "object") {
                for (k in obj) {
                    result[k] = obj[k];
                }
            }
        }
        return result;
    };
    /**
     * 内部私有方法，分享用
     * @private
     */
    var _share = function(cmd, data, callbacks) {
        callbacks = callbacks || {};
        // 分享过程中的一些回调
        var progress = function(resp) {
            switch (true) {
              // 用户取消
                case /\:cancel$/i.test(resp.err_msg):
                callbacks.cancel && callbacks.cancel(resp);
                break;

              // 发送成功
                case /\:(confirm|ok)$/i.test(resp.err_msg):
                callbacks.confirm && callbacks.confirm(resp);
                break;

              // fail　发送失败
                case /\:fail$/i.test(resp.err_msg):
              default:
                callbacks.fail && callbacks.fail(resp);
                break;
            }
            // 无论成功失败都会执行的回调
            callbacks.all && callbacks.all(resp);
        };
        // 执行分享，并处理结果
        var handler = function(theData, argv) {
            // 新的分享接口，单独处理
            if (cmd.menu === "menu:general:share") {
                // 如果是收藏操作，并且在wxCallbacks中配置了favorite为false，则不执行回调
                if (argv.shareTo == "favorite" || argv.scene == "favorite") {
                    if (callbacks.favorite === false) {
                        return argv.generalShare(theData, function() {});
                    }
                }
                argv.generalShare(theData, progress);
            } else {
                WeixinJSBridge.invoke(cmd.action, theData, progress);
            }
        };
        // 监听分享操作
        WeixinJSBridge.on(cmd.menu, function(argv) {
            if (callbacks.async && callbacks.ready) {
                WeixinApi["_wx_loadedCb_"] = callbacks.dataLoaded || new Function();
                if (WeixinApi["_wx_loadedCb_"].toString().indexOf("_wx_loadedCb_") > 0) {
                    WeixinApi["_wx_loadedCb_"] = new Function();
                }
                callbacks.dataLoaded = function(newData) {
                    // 这种情况下，数据仍需加工
                    var theData = _extend(data, newData);
                    if (cmd.menu == "menu:share:timeline" || cmd.menu == "menu:general:share" && argv.shareTo == "timeline") {
                        theData = {
                            appid: theData.appId ? theData.appId : "",
                            img_url: theData.imgUrl,
                            link: theData.link,
                            desc: theData.title,
                            title: theData.desc,
                            img_width: "640",
                            img_height: "640"
                        };
                    }
                    WeixinApi["_wx_loadedCb_"](theData);
                    handler(theData, argv);
                };
                // 然后就绪
                if (!(argv && (argv.shareTo == "favorite" || argv.scene == "favorite") && callbacks.favorite === false)) {
                    callbacks.ready && callbacks.ready(argv, data);
                }
            } else {
                // 就绪状态
                if (!(argv && (argv.shareTo == "favorite" || argv.scene == "favorite") && callbacks.favorite === false)) {
                    callbacks.ready && callbacks.ready(argv, data);
                }
                handler(data, argv);
            }
        });
    };
    /**
     * 分享到微信朋友圈
     * @param       {Object}    data       待分享的信息
     * @p-config    {String}    appId      公众平台的appId（服务号可用）
     * @p-config    {String}    imgUrl     图片地址
     * @p-config    {String}    link       链接地址
     * @p-config    {String}    desc       描述
     * @p-config    {String}    title      分享的标题
     *
     * @param       {Object}    callbacks  相关回调方法
     * @p-config    {Boolean}   async                   ready方法是否需要异步执行，默认false
     * @p-config    {Function}  ready(argv, data)       就绪状态
     * @p-config    {Function}  dataLoaded(data)        数据加载完成后调用，async为true时有用，也可以为空
     * @p-config    {Function}  cancel(resp)    取消
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  confirm(resp)   成功
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.shareToTimeline = function(data, callbacks) {
        _share({
            menu: "menu:share:timeline",
            action: "shareTimeline"
        }, {
            appid: data.appId ? data.appId : "",
            img_url: data.imgUrl,
            link: data.link,
            desc: data.title,
            title: data.desc,
            img_width: "640",
            img_height: "640"
        }, callbacks);
    };
    /**
     * 发送给微信上的好友
     * @param       {Object}    data       待分享的信息
     * @p-config    {String}    appId      公众平台的appId（服务号可用）
     * @p-config    {String}    imgUrl     图片地址
     * @p-config    {String}    link       链接地址
     * @p-config    {String}    desc       描述
     * @p-config    {String}    title      分享的标题
     *
     * @param       {Object}    callbacks  相关回调方法
     * @p-config    {Boolean}   async                   ready方法是否需要异步执行，默认false
     * @p-config    {Function}  ready(argv, data)       就绪状态
     * @p-config    {Function}  dataLoaded(data)        数据加载完成后调用，async为true时有用，也可以为空
     * @p-config    {Function}  cancel(resp)    取消
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  confirm(resp)   成功
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.shareToFriend = function(data, callbacks) {
        _share({
            menu: "menu:share:appmessage",
            action: "sendAppMessage"
        }, {
            appid: data.appId ? data.appId : "",
            img_url: data.imgUrl,
            link: data.link,
            desc: data.desc,
            title: data.title,
            img_width: "640",
            img_height: "640"
        }, callbacks);
    };
    /**
     * 分享到腾讯微博
     * @param       {Object}    data       待分享的信息
     * @p-config    {String}    link       链接地址
     * @p-config    {String}    desc       描述
     *
     * @param       {Object}    callbacks  相关回调方法
     * @p-config    {Boolean}   async                   ready方法是否需要异步执行，默认false
     * @p-config    {Function}  ready(argv, data)       就绪状态
     * @p-config    {Function}  dataLoaded(data)        数据加载完成后调用，async为true时有用，也可以为空
     * @p-config    {Function}  cancel(resp)    取消
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  confirm(resp)   成功
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.shareToWeibo = function(data, callbacks) {
        _share({
            menu: "menu:share:weibo",
            action: "shareWeibo"
        }, {
            content: data.desc,
            url: data.link
        }, callbacks);
    };
    /**
     * 新的分享接口
     * @param       {Object}    data       待分享的信息
     * @p-config    {String}    appId      公众平台的appId（服务号可用）
     * @p-config    {String}    imgUrl     图片地址
     * @p-config    {String}    link       链接地址
     * @p-config    {String}    desc       描述
     * @p-config    {String}    title      分享的标题
     *
     * @param       {Object}    callbacks  相关回调方法
     * @p-config    {Boolean}   async                   ready方法是否需要异步执行，默认false
     * @p-config    {Function}  ready(argv, data)       就绪状态
     * @p-config    {Function}  dataLoaded(data)        数据加载完成后调用，async为true时有用，也可以为空
     * @p-config    {Function}  cancel(resp)    取消
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  confirm(resp)   成功
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.generalShare = function(data, callbacks) {
        _share({
            menu: "menu:general:share"
        }, {
            appid: data.appId ? data.appId : "",
            img_url: data.imgUrl,
            link: data.link,
            desc: data.desc,
            title: data.title,
            img_width: "640",
            img_height: "640"
        }, callbacks);
    };
    /**
     * 调起微信Native的图片播放组件。
     * 这里必须对参数进行强检测，如果参数不合法，直接会导致微信客户端crash
     *
     * @param {String} curSrc 当前播放的图片地址
     * @param {Array} srcList 图片地址列表
     */
    WeixinApi.imagePreview = function(curSrc, srcList) {
        if (!curSrc || !srcList || srcList.length == 0) {
            return;
        }
        WeixinJSBridge.invoke("imagePreview", {
            current: curSrc,
            urls: srcList
        }, function() {
            alert("error");
        });
    };
    /**
     * 显示网页右上角的按钮
     */
    WeixinApi.showOptionMenu = function() {
        WeixinJSBridge.call("showOptionMenu");
    };
    /**
     * 隐藏网页右上角的按钮
     */
    WeixinApi.hideOptionMenu = function() {
        WeixinJSBridge.call("hideOptionMenu");
    };
    /**
     * 显示底部工具栏
     */
    WeixinApi.showToolbar = function() {
        WeixinJSBridge.call("showToolbar");
    };
    /**
     * 隐藏底部工具栏
     */
    WeixinApi.hideToolbar = function() {
        WeixinJSBridge.call("hideToolbar");
    };
    /**
     * 返回如下几种类型：
     *
     * network_type:wifi     wifi网络
     * network_type:edge     非wifi,包含3G/2G
     * network_type:fail     网络断开连接
     * network_type:wwan     2g或者3g
     *
     * 使用方法：
     * WeixinApi.getNetworkType(function(networkType){
     *
     * });
     *
     * @param callback
     */
    WeixinApi.getNetworkType = function(callback) {
        if (callback && typeof callback == "function") {
            WeixinJSBridge.invoke("getNetworkType", {}, function(e) {
                // 在这里拿到e.err_msg，这里面就包含了所有的网络类型
                callback(e.err_msg);
            });
        }
    };
    /**
     * 关闭当前微信公众平台页面
     * @param       {Object}    callbacks       回调方法
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  success(resp)   成功
     */
    WeixinApi.closeWindow = function(callbacks) {
        callbacks = callbacks || {};
        WeixinJSBridge.invoke("closeWindow", {}, function(resp) {
            switch (resp.err_msg) {
              // 关闭成功
                case "close_window:ok":
                callbacks.success && callbacks.success(resp);
                break;

              // 关闭失败
                default:
                callbacks.fail && callbacks.fail(resp);
                break;
            }
        });
    };
    /**
     * 当页面加载完毕后执行，使用方法：
     * WeixinApi.ready(function(Api){
     *     // 从这里只用Api即是WeixinApi
     * });
     * @param readyCallback
     */
    WeixinApi.ready = function(readyCallback) {
        if (readyCallback && typeof readyCallback == "function") {
            var Api = this;
            var wxReadyFunc = function() {
                readyCallback(Api);
            };
            if (typeof window.WeixinJSBridge == "undefined") {
                if (document.addEventListener) {
                    document.addEventListener("WeixinJSBridgeReady", wxReadyFunc, false);
                } else if (document.attachEvent) {
                    document.attachEvent("WeixinJSBridgeReady", wxReadyFunc);
                    document.attachEvent("onWeixinJSBridgeReady", wxReadyFunc);
                }
            } else {
                wxReadyFunc();
            }
        }
    };
    /**
     * 判断当前网页是否在微信内置浏览器中打开
     */
    WeixinApi.isWexXin = function() {
        return /MicroMessenger/i.test(navigator.userAgent);
    };
    /*
     * 打开扫描二维码
     * @param       {Object}    callbacks       回调方法
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  success(resp)   成功
     */
    WeixinApi.scanQRCode = function(callbacks) {
        callbacks = callbacks || {};
        WeixinJSBridge.invoke("scanQRCode", {}, function(resp) {
            switch (resp.err_msg) {
              // 打开扫描器成功
                case "scan_qrcode:ok":
                callbacks.success && callbacks.success(resp);
                break;

              // 打开扫描器失败
                default:
                callbacks.fail && callbacks.fail(resp);
                break;
            }
        });
    };
    /**
     * 检测应用程序是否已安装
     *         by mingcheng 2014-10-17
     *
     * @param       {Object}    data               应用程序的信息
     * @p-config    {String}    packageUrl      应用注册的自定义前缀，如 xxx:// 就取 xxx
     * @p-config    {String}    packageName        应用的包名
     *
     * @param       {Object}    callbacks       相关回调方法
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  success(resp)   成功，如果有对应的版本信息，则写入到 resp.version 中
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.getInstallState = function(data, callbacks) {
        callbacks = callbacks || {};
        WeixinJSBridge.invoke("getInstallState", {
            packageUrl: data.packageUrl || "",
            packageName: data.packageName || ""
        }, function(resp) {
            var msg = resp.err_msg, match = msg.match(/state:yes_?(.*)$/);
            if (match) {
                resp.version = match[1] || "";
                callbacks.success && callbacks.success(resp);
            } else {
                callbacks.fail && callbacks.fail(resp);
            }
            callbacks.all && callbacks.all(resp);
        });
    };
    /**
     * 从网页里直接调起微信地图
     *
     * @param       {Object}    data             打开地图所需要的数据
     * @p-config    {String}    latitude         纬度
     * @p-config    {String}    longitude        经度
     * @p-config    {String}    name             POI名称
     * @p-config    {String}    adress           地址
     * @p-config    {String}    scale            缩放
     * @p-config    {String}    infoUrl          查看位置界面底部的超链接
     *
     * @param       {Object}    callbacks       相关回调方法
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  success(resp)   成功
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.openLocation = function(data, callbacks) {
        callbacks = callbacks || {};
        WeixinJSBridge.invoke("openLocation", {
            latitude: data.latitude,
            longitude: data.longitude,
            name: data.name,
            address: data.address,
            scale: data.scale || 14,
            infoUrl: data.infoUrl || ""
        }, function(resp) {
            if (resp.err_msg === "open_location:ok") {
                callbacks.success && callbacks.success(resp);
            } else {
                callbacks.fail && callbacks.fail(resp);
            }
            callbacks.all && callbacks.all(resp);
        });
    };
    /**
     * 发送邮件
     * @param       {Object}  data      邮件初始内容
     * @p-config    {String}  subject   邮件标题
     * @p-config    {String}  body      邮件正文
     *
     * @param       {Object}    callbacks       相关回调方法
     * @p-config    {Function}  fail(resp)      失败
     * @p-config    {Function}  success(resp)   成功
     * @p-config    {Function}  all(resp)       无论成功失败都会执行的回调
     */
    WeixinApi.sendEmail = function(data, callbacks) {
        callbacks = callbacks || {};
        WeixinJSBridge.invoke("sendEmail", {
            title: data.subject,
            content: data.body
        }, function(resp) {
            if (resp.err_msg === "send_email:sent") {
                callbacks.success && callbacks.success(resp);
            } else {
                callbacks.fail && callbacks.fail(resp);
            }
            callbacks.all && callbacks.all(resp);
        });
    };
    /**
     * 开启Api的debug模式，比如出了个什么错误，能alert告诉你，而不是一直很苦逼的在想哪儿出问题了
     * @param    {Function}  callback(error) 出错后的回调，默认是alert
     */
    WeixinApi.enableDebugMode = function(callback) {
        /**
         * @param {String}  errorMessage   错误信息
         * @param {String}  scriptURI      出错的文件
         * @param {Long}    lineNumber     出错代码的行号
         * @param {Long}    columnNumber   出错代码的列号
         */
        window.onerror = function(errorMessage, scriptURI, lineNumber, columnNumber) {
            // 有callback的情况下，将错误信息传递到options.callback中
            if (typeof callback === "function") {
                callback({
                    message: errorMessage,
                    script: scriptURI,
                    line: lineNumber,
                    column: columnNumber
                });
            } else {
                // 其他情况，都以alert方式直接提示错误信息
                var err_log_src = "http://www.yueus.com/mobile_app/log/save_log.php?err_level=2&url=" + encodeURIComponent(window.location.href);
                var img = new Image();
                var msgs = [];
                msgs.push("代码有错。。。");
                msgs.push("\n错误信息：", errorMessage);
                msgs.push("\n出错文件：", scriptURI);
                msgs.push("\n出错位置：", lineNumber + "行，" + columnNumber + "列");
                img.src = err_log_src + "&err_str=" + encodeURIComponent(msgs.join(""));
            }
        };
    };
    WeixinApi.wxPay = function(data, callback) {
        callback = callback || function() {};
        WeixinJSBridge.invoke("getBrandWCPayRequest", data, function(res) {
            var code = 0;
            var err_log_src = "http://www.yueus.com/mobile_app/log/save_log.php?err_level=1&url=" + encodeURIComponent(window.location.href);
            var img = new Image();
            if (res.err_msg == "get_brand_wcpay_request:ok") {
                //支付成功
                code = 1;
            } else if (res.err_msg == "get_brand_wcpay_request:cancel") {
                //支付过程中
                code = 10;
            } else if (res.err_msg == "get_brand_wcpay_request:fail") {
                //支付失败
                code = -3;
                img.src = err_log_src + "&err_str=" + encodeURIComponent(res.err_msg);
                console.log("url=" + window.location.href + "&err_str=" + res.err_msg);
                alert("支付失败:" + res.err_msg);
            } else {
                img.src = err_log_src + "&err_str=" + encodeURIComponent(res.err_msg);
                console.log("url=" + window.location.href + "&err_str=" + res.err_msg);
                alert("支付失败，由于网络问题提交失败，请点击左上角关闭并重新进入");
            }
            callback.call(this, {
                code: code
            });
        });
    };
    WeixinApi.ready();
    WeixinApi.enableDebugMode();
    module.exports = WeixinApi;
    function isFunction(o) {
        return typeof o === "function";
    }
});

/**
 * Created by nolest on 2015/1/15.
 *
 * 微信6.0.2 JSSDK
 */
define("pai/wx-1.1.0/common/WX_JSSDK-debug", [ "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    //微信debug模式开关 true | false
    var WeiXinDebugMode = false;
    var WeiXinSDK = {
        version: "default"
    };
    // Config_data格式 ：
    // Config_data =
    // {
    //      appId:appId，
    //      timestamp:timestamp，
    //      nonceStr:nonceStr，
    //      signature:signature
    // }
    WeiXinSDK.setConfig = function(Config_data) {
        var data = Config_data;
        wx.config({
            debug: WeiXinDebugMode,
            // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
            appId: data.appId,
            // 必填，公众号的唯一标识
            timestamp: data.timestamp,
            // 必填，生成签名的时间戳
            nonceStr: data.nonceStr,
            // 必填，生成签名的随机串
            signature: data.signature,
            // 必填，签名，见附录1
            jsApiList: [ "checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "hideMenuItems", "showMenuItems", "hideAllNonBaseMenuItem", "showAllNonBaseMenuItem", "getNetworkType", "openLocation", "getLocation", "hideOptionMenu", "showOptionMenu", "closeWindow", "scanQRCode", "chooseWXPay", "openProductSpecificView" ]
        });
    };
    //ready回调
    WeiXinSDK.ready = function(callback) {
        wx.ready(function() {
            var Api = this;
            if (typeof callback == "function") {
                callback.call(this, Api);
            }
        });
    };
    WeiXinSDK.ShareToFriend = function(Share_data) {
        var data = Share_data;
        console.log(Share_data);
        wx.onMenuShareAppMessage({
            title: Share_data.title,
            // 分享标题
            desc: Share_data.desc,
            // 分享描述
            link: Share_data.link,
            // 分享链接
            imgUrl: Share_data.imgUrl,
            // 分享图标
            type: Share_data.type,
            // 分享类型,music、video或link，不填默认为link
            dataUrl: Share_data.dataUrl,
            // 如果type是music或video，则要提供数据链接，默认为空
            success: function() {
                // 用户确认分享后执行的回调函数
                if (Share_data.success && typeof Share_data.success === "function") Share_data.success();
            },
            cancel: function() {
                // 用户取消分享后执行的回调函数
                if (Share_data.cancel && typeof Share_data.cancel === "function") Share_data.cancel();
            }
        });
    };
    WeiXinSDK.ShareTimeLine = function(Share_data) {
        var data = Share_data;
        wx.onMenuShareTimeline({
            title: Share_data.desc,
            // 分享标题
            link: Share_data.link,
            // 分享链接
            imgUrl: Share_data.imgUrl,
            // 分享图标
            success: function() {
                // 用户确认分享后执行的回调函数
                if (Share_data.success && typeof Share_data.success === "function") Share_data.success();
            },
            cancel: function() {
                // 用户取消分享后执行的回调函数
                if (Share_data.cancel && typeof Share_data.cancel === "function") Share_data.cancel();
            }
        });
    };
    WeiXinSDK.ShareQQ = function(Share_data) {
        var data = Share_data;
        wx.onMenuShareQQ({
            title: Share_data.title,
            // 分享标题
            desc: Share_data.desc,
            // 分享描述
            link: Share_data.link,
            // 分享链接
            imgUrl: Share_data.imgUrl,
            // 分享图标
            success: function() {
                // 用户确认分享后执行的回调函数
                if (Share_data.success && typeof Share_data.success === "function") Share_data.success();
            },
            cancel: function() {
                // 用户取消分享后执行的回调函数
                if (Share_data.cancel && typeof Share_data.cancel === "function") Share_data.cancel();
            }
        });
    };
    WeiXinSDK.isWeiXin = function() {
        return /MicroMessenger/i.test(navigator.userAgent);
    };
    WeiXinSDK.hideOptionMenu = function() {
        wx.hideOptionMenu();
    };
    WeiXinSDK.showOptionMenu = function() {
        wx.showOptionMenu();
    };
    WeiXinSDK.getLocation = function(options) {
        wx.getLocation({
            success: function(res) {
                //alert("success" + JSON.stringify(res))
                if (options.success && typeof options.success === "function") options.success(res);
            },
            cancel: function(res) {
                //alert("cancel" + JSON.stringify(res))
                if (options.cancel && typeof options.cancel === "function") options.cancel(res);
            },
            fail: function(res) {
                //alert("fail" + JSON.stringify(res))
                if (options.fail && typeof options.fail === "function") options.fail(res);
            }
        });
    };
    WeiXinSDK.chooseWXPay = function(data, success, fail) {
        if (data.appId) {
            delete data.appId;
        }
        data.timestamp = data.timeStamp;
        var callback = {
            success: function(res) {
                debugger;
                console.log(res);
                var code = 0;
                var err_log_src = "http://www.yueus.com/mobile_app/log/save_log.php?err_level=1&url=" + encodeURIComponent(window.location.href);
                var img = new Image();
                if (res.errMsg == "chooseWXPay:ok") {
                    //支付成功
                    code = 1;
                } else if (res.errMsg == "chooseWXPay:cancel") {
                    //支付过程中
                    code = 10;
                } else if (res.errMsg == "chooseWXPay:fail") {
                    //支付失败
                    code = -3;
                    img.src = err_log_src + "&err_str=" + encodeURIComponent(res.errMsg);
                    console.log("url=" + window.location.href + "&err_str=" + res.errMsg);
                    alert("支付失败:" + res.err_msg);
                } else {
                    img.src = err_log_src + "&err_str=" + encodeURIComponent(res.errMsg);
                    console.log("url=" + window.location.href + "&err_str=" + res.errMsg);
                    alert("支付失败，由于网络问题提交失败，请点击左上角关闭并重新进入");
                }
                if (typeof success == "function") {
                    success.call(this, {
                        code: code
                    });
                }
            },
            fail: function(res) {
                console.log(res);
                if (typeof fail == "function") {
                    fail.call(this, res);
                }
            },
            complete: function(res) {
                debugger;
            },
            cancel: function(res) {
                debugger;
            }
        };
        data = $.extend({}, data, callback);
        wx.chooseWXPay(data);
    };
    module.exports = WeiXinSDK;
});

/**
 * 首页 - 热门 基础页面框架
 * hudw 2014.8.4
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/model_date/hot/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/hot/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/widget/iscroll_slide/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/ui/select_drop/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/model_date/hot/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/ui/guide/view-debug", "pai/wx-1.1.0/model_date/hot/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var hot_view = require("pai/wx-1.1.0/model_date/hot/view-debug");
    var hot_collection = require("pai/wx-1.1.0/model_date/hot/collection-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var guide = require("pai/wx-1.1.0/ui/guide/view-debug");
    var first_guide_tpl = require("pai/wx-1.1.0/ui/guide/tpl/guide_hot-debug.handlebars");
    var model = require("pai/wx-1.1.0/model_date/hot/model-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    page_control.add_page([ function() {
        return {
            title: "约yue",
            route: {
                hot: "hot"
            },
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var location = utility.storage.get("location");
                var collection = new hot_collection({
                    location: location
                });
                //  引导图
                // if( !utility.storage.get('is_frist_time_open_app_hot') )
                // {
                //     self.guide_page = new guide
                //     ({
                //         page_tpl: first_guide_tpl,
                //         parentNode : self.$el
                //     }).render();
                //     self.guide_page.on('guide_hide',function()
                //     {
                //         self.guide_page.hide();
                //         self.hot_view_obj = new hot_view
                //         ({
                //             collection : collection,
                //             model : new model,
                //             parentNode : self.$el
                //         });
                //         utility.storage.set('is_frist_time_open_app_hot',1);
                //         self.hot_view_obj.render();
                //     });
                // }
                // else
                // {
                //     self.hot_view_obj = new hot_view
                //     ({
                //         collection : collection,
                //         model : new model,
                //         parentNode : self.$el
                //     });
                //     self.hot_view_obj.render();
                // }
                self.hot_view_obj = new hot_view({
                    templateModel: {
                        is_android: ua.isAndroid
                    },
                    collection: collection,
                    model: new model(),
                    parentNode: self.$el
                });
                self.hot_view_obj.render();
                self.hot_view_obj && self.hot_view_obj.set("location", utility.storage.get("location"));
            },
            page_before_show: function() {
                var self = this;
                // 切换地区
                if (self.hot_view_obj && self.hot_view_obj.location && utility.storage.get("location") && self.hot_view_obj.location.location_id != utility.storage.get("location").location_id) {
                    self.hot_view_obj.set_location(utility.storage.get("location"));
                    self.hot_view_obj.refresh();
                }
            },
            page_show: function() {
                var self = this;
                //返回时重启自动轮播
                if (self.hot_view_obj.iscroll_slide_view) {
                    var iscroll_slide_view = self.hot_view_obj.iscroll_slide_view;
                    !iscroll_slide_view.interval_running && iscroll_slide_view.setup_auto_slider();
                }
            },
            page_before_show: function() {
                var self = this;
                setTimeout(function() {
                    self.hot_view_obj.show();
                }, 50);
            },
            page_before_hide: function() {
                var self = this;
                self.hot_view_obj.hide();
                //离开时关闭自动轮播
                self.hot_view_obj.iscroll_slide_view && self.hot_view_obj.iscroll_slide_view.clear_interval();
            },
            page_hide: function() {
                var self = this;
                //换页前清理下拉菜单
                self.hot_view_obj.select_drop_obj.stay();
            },
            window_change: function() {
                var self = this;
                console.log(self);
            }
        };
    } ]);
});

define("pai/wx-1.1.0/model_date/hot/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/widget/iscroll_slide/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/ui/select_drop/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/dialog/index-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    //var slide_v2 = require('../../widget/slide_v2/view');
    var iscroll_slide = require("pai/wx-1.1.0/widget/iscroll_slide/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var select_drop = require("pai/wx-1.1.0/ui/select_drop/view-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var pull_down = require("pai/wx-1.1.0/widget/pull_down/view-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    var main_tpl = require("pai/wx-1.1.0/model_date/hot/tpl/main-debug.handlebars");
    //var main_tpl_v2 = require('./tpl/main_v2.handlebars');
    var item_tpl = require("pai/wx-1.1.0/model_date/hot/tpl/item_v2-debug.handlebars");
    //var item_tpl = require('./tpl/item.handlebars');
    var line_tpl = require("pai/wx-1.1.0/model_date/hot/tpl/line_v2-debug.handlebars");
    //var line_tpl = require('./tpl/line.handlebars');
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var index_hot_view = view.extend({
        attrs: {
            //template : main_tpl_v2
            template: main_tpl
        },
        events: {
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="select-find"]': function(ev) {
                var self = this;
                page_control.navigate_to_page("find");
            },
            'tap [data-role="select-hot"]': function(ev) {
                var self = this;
            },
            'tap [data-role="head-refresh"]': function(ev) {
                var self = this;
                //self.refresh();
                page_control.navigate_to_page("find");
            },
            'tap [data-role="select-more"]': function() {
                var self = this;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                if (self.select_drop_obj.is_drop()) {
                    self.select_drop_obj.pull_up();
                } else {
                    self.select_drop_obj.drop_down();
                }
            },
            /*
                地区提示
            */
            'tap [data-role="select-loc"]': function() {
                var self = this;
                //跳转地区
                page_control.navigate_to_page("location/from_hot");
            },
            'tap [data-role="more"]': function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                var add_style = $target.attr("data-add");
                self._load_more(add_style);
            },
            'tap [data-role="grid"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var link_type = $cur_btn.attr("data-link-type");
                var link_address = $cur_btn.attr("data-url");
                if (utility.is_empty(link_address)) {
                    return;
                }
                switch (link_type) {
                  case "inner_web":
                    page_control.navigate_to_page(link_address);
                    break;

                  case "outside":
                    window.location.href = link_address;
                    break;

                  case "other":
                    break;
                }
            },
            'tap [data-role="search"]': function() {
                page_control.navigate_to_page("search");
            },
            /**
             * 根据参数去对应的排行榜
             * @param ev
             */
            "tap [data-to-rank]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                if ($cur_btn.hasClass("fn-hide")) {
                    return;
                }
                var rank_type = $cur_btn.attr("data-role").replace("to_", "");
                page_control.navigate_to_page("rank/" + rank_type);
            },
            'tap [data-role="ad-nav"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var link_type = $cur_btn.attr("data-link-type");
                var link_address = $cur_btn.attr("data-link-address");
                if (utility.is_empty(link_address)) {
                    return;
                }
                switch (link_type) {
                  case "inside":
                    page_control.navigate_to_page(link_address);
                    break;

                  case "outside":
                    break;

                  case "other":
                    break;
                }
            },
            'tap [data-role="pop-model-car-tips-v2"]': function() {
                window.location.href = "http://app.yueus.com/";
            }
        },
        _setup_events: function() {
            var self = this;
            // 模型事件
            // --------------------
            self.listenTo(self.collection, "reset", self._reset).listenTo(self.collection, "add", self._addOne).listenTo(self.collection, "before:fetch", self._before_fetch).listenTo(self.collection, "success:fetch", self._success_fetch).listenTo(self.collection, "error:fetch", self._error_fetch).listenTo(self.collection, "complete:fetch", self._complete_fetch).listenTo(self.model, "before:ad_pic:fetch", self._before_ad_pic_fetch).listenTo(self.model, "success:ad_pic:fetch", self._success_ad_pic_fetch).listenTo(self.model, "error:ad_pic:fetch", self._error_ad_pic_fetch).listenTo(self.model, "complete:ad_pic:fetch", self._complete_ad_pic_fetch);
            /*self.listenTo(self.collection, 'change', function()
            {
                console.log(1111)
            })*/
            self.on("render", function() {
                //获得广告图
                self.model.get_ad_pic({
                    position: "index",
                    is_display: window._action_mode == "action" ? 1 : 0
                });
            });
            self.refresh();
            self.on("update_list", function(response, xhrOptions) {
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.scrollTo(0, 0);
                    return;
                } else if (xhrOptions.reset) {
                    self.view_scroll_obj.resetLazyLoad();
                    self.view_scroll_obj.change_scroll_position();
                }
                self.view_scroll_obj.refresh();
                self.$(".index-hot .native_scroll > *").css("-webkit-transform", "inherit");
                setTimeout(function() {
                    self.$(".index-hot .native_scroll > *").css("-webkit-transform", "translateZ(0px)");
                }, 100);
            });
            self.model.on("before:get_city_change:fetch", function(response, xhr) {
                m_alert.show("定位中...", "loading");
            }).on("success:get_city_change:fetch", function(response, xhr) {
                m_alert.hide();
                var res = response.result_data;
                var compare_city = "广州";
                var fn_hide = "";
                /*if(res.data && res.data.level_2)
                    {
                        if(res.data.level_2.name == compare_city || res.data.level_2.name == compare_city+'市')
                        {
                            fn_hide = 'fn-hide';
                        }       
                    }*/
                // 存在两个既要销毁
                if (self.setup_city_change_dialog_obj) {
                    self.setup_city_change_dialog_obj.destroy();
                }
                self.setup_city_change_dialog_obj = new dialog({
                    content: '<p  class="pb5 f14">提示</p><p class="f14">目前约拍服务只开通城市 <span >【<lable data-role="city_render">广州</lable>】</span> <br /><p class="' + fn_hide + '">其它城市用户可通过私人订制服务进行约拍</p></p><button class="' + fn_hide + ' ui-button ui-button-primary ui-button-size-middle ui-button-block mt15 change_style_btn_mod"  data-role="button" data-name="btn_change_city"><span class="ui-button-content">【马上私人定制】<span ></span></span></button><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block change_style_btn_mod mt15 ui-button-color2"  data-role="button" data-name="btn_continue"><span class="ui-button-content">【继续查看 广州】</span></button>'
                });
                //城市节点
                self.$city_render = self.setup_city_change_dialog_obj.$el.find("[data-role=city_render]");
                self.setup_city_change_dialog_obj.on("tap:button:btn_change_city", function() {
                    // console.log(self.jump_url);
                    page_control.navigate_to_page(self.jump_url);
                }).on("tap:button:btn_continue", function() {
                    this.hide();
                });
                setTimeout(function() {
                    self.setup_city_change_dialog_obj.show();
                }, 300);
                if (res && res.data && res.data.level_2) {
                    self.jump_url = res.jump_url;
                }
            }).on("error:get_city_change:fetch", function(response, xhr) {
                m_alert.show("定位失败", "error", {
                    delay: 1e3
                });
            });
            // 是否显示切换城市弹窗口
            if (!cookie.get("session_ip_location")) {
                utility.ajax_request({
                    url: global_config.ajax_url.get_ip_location_by_cookie,
                    success: function(res) {
                        var res = res.result_data.data;
                        if (res.location_id) {
                            var province_login_ciy = res.location_id.toString().substr(0, 6);
                            if (utility.int(province_login_ciy) !== 101029) {
                                // 切换城市
                                self.setup_city_change_dialog();
                            }
                            // 定制需求提示
                            self.setup_custom_dialog();
                        }
                    },
                    error: function() {
                        m_alert.show("定位失败", "error");
                    }
                });
            } else {
                var province_login_ciy = cookie.get("session_ip_location").toString().substr(0, 6);
                if (utility.int(province_login_ciy) !== 101029) {
                    // 切换城市
                    self.setup_city_change_dialog();
                }
                // 定制需求提示
                self.setup_custom_dialog();
            }
        },
        // 定制需求提示
        setup_custom_dialog: function() {
            var self = this;
            self.setup_custom_dialog_obj = new dialog({
                content: '<p  class="pb5">提示</p><p>您的定制需求已提交完成， <br>客服工作人员将会尽快帮您找到<br>合适的模特，并完成拍摄。</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="success_btn"><span class="ui-button-content">完成</span></button>'
            });
            self.setup_custom_dialog_obj.on("tap:button:success_btn", function() {
                this.hide();
            });
        },
        // 切换城市
        setup_city_change_dialog: function() {
            var self = this;
            var login_ciy = cookie.get("session_ip_location") || 0;
            self.model.get_city_change({
                location_id: utility.int(login_ciy)
            });
        },
        _setup_pull_down: function() {
            var self = this;
            self.pull_down_obj = new pull_down({
                parentNode: self.$refresh_top_bar,
                templateModel: {
                    top: -45
                }
            }).render();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            //self.$container.css({'height': self.$container.height() + 75});
            var view_scroll_obj = scroll(self.$container, {
                lazyLoad: true,
                _startY: 45,
                prevent_tag: "slider",
                is_hide_dropdown: false
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        /**
         * 加载下一页数据
         * @private
         */
        _load_more: function(style) {
            var self = this;
            if (self.collection.get_state() == "free") {
                var current_page = self.collection.get_current_page(style);
                self.collection.get_datas({
                    type: style,
                    page: ++current_page
                });
            }
        },
        /**
             * /加载一行数据
             * @param style
             * @private
             */
        _add_line_item: function(response, xhrOptions) {
            var self = this;
            var render_queue = response.result_data.list;
            var html_str = line_tpl({
                lists: render_queue,
                max_w: self.img_max_w,
                max_h: self.img_max_h
            });
            self.$('[data-role="' + response.result_data.type + '"]').append(html_str);
            self.view_scroll_obj.change_scroll_position();
            self.trigger("update_list", response, xhrOptions);
            self._render_queue = [];
        },
        _render_item: function(response, xhrOptions) {
            var self = this;
            var render_queue = self._render_queue;
            self.img_max_w = Math.floor((utility.get_view_port_width() - 45) / 2);
            self.img_max_h = Math.floor(self.img_max_w / 3 * 4);
            self.img_max_w = self.img_max_w - 2;
            //减去2像素边框
            console.log(templateHelpers);
            var html_str = item_tpl({
                datas: render_queue,
                max_size: Math.ceil((utility.get_view_port_width() - 105) / 4),
                //向下取整
                max_w: self.img_max_w,
                max_h: self.img_max_h
            }, {
                helpers: {
                    if_equal: templateHelpers.if_equal
                }
            });
            if (response.result_data.empty) {
                self.abnormal_view = new abnormal({
                    templateModel: {
                        content_height: utility.get_view_port_height("all") - 75
                    },
                    parentNode: self.$item_wrap
                }).render();
            } else {
                self.$item_wrap.html(html_str);
            }
            // 重置下拉
            self._drop_reset();
            self.trigger("update_list", response, xhrOptions);
            self._render_queue = [];
        },
        _reset: function() {
            var self = this;
            self.collection.each(self._addOne, self);
        },
        _addOne: function(dataModel) {
            var self = this;
            self._render_queue.push(dataModel.toJSON());
            return self;
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _setup_select_drop: function() {
            var self = this;
            self.select_drop_obj = new select_drop({
                parentNode: self.$el,
                templateModel: {
                    is_model: utility.user.get("role") == "model" ? true : false
                }
            }).render();
        },
        /**
             * 安装广告滚动
             * @param contents
             * @private
             */
        _setup_ad_pic: function(contents) {
            if (!(contents.length > 0)) {
                return;
            }
            var self = this;
            //当只有一张图时不显示小圆点
            var no_single;
            contents.length > 1 ? no_single = true : no_single = false;
            //设置选中第一个
            contents[0].class = "current";
            self.$ad_pic_out = self.$("[data-role=ad-pic-out]");
            /*                self.slide_view = new slide({
                    templateModel :
                    {
                        contents : contents,
                        no_single : no_single
                    },
                    parentNode:self.$ad_pic_out
                }).set_options({
                        disableScroll : true, // 停止滚动冒泡
                        continuous : true,// 无限循环的图片切换效果
                        //auto : 1000,
                        startSlide : 0 //起始图片切换的索引位置
                    }).render();*/
            self.$ad_pic_out.html(contents[0].content);
            if (contents.length == 1) {
                // modify hudw 2014.12.16 临时处理 1张广告图时
                self.$ad_pic_out.append(contents[0].content).height(145);
            } else {
                self.slide_view = new slide_v2({
                    templateModel: {
                        contents: contents,
                        no_single: no_single,
                        height: 145
                    },
                    parentNode: self.$ad_pic_out
                }).set_options({
                    //loop : true,
                    grab_cursor: true,
                    pagination_clickable: no_single,
                    autoplay: 3e3
                }).render();
            }
        },
        _setup_iscroll_ad_pic: function(contents) {
            if (!(contents.length > 0)) {
                return;
            }
            var self = this;
            //当只有一张图时不显示小圆点
            var no_single;
            contents.length > 1 ? no_single = true : no_single = false;
            //设置选中第一个
            contents[0].class = "swiper-visible-switch";
            self.$ad_pic_out = self.$("[data-role=ad-pic-out]");
            console.log(contents);
            self.iscroll_slide_view = new iscroll_slide({
                templateModel: {
                    contents: contents,
                    no_single: no_single,
                    height: 145
                },
                auto_play: 5e3,
                height: 145,
                parentNode: self.$ad_pic_out
            }).render();
        },
        set_location: function(location) {
            var self = this;
            var location_name = location && location.location_name;
            self.location = location;
            self.$("[data-role=select-city]").html(location_name);
        },
        setup: function() {
            var self = this;
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$ad_pic = self.$("[data-role=ad-pic]");
            //广告图容器
            self.$item_wrap = self.$("[data-role=item-wrap]");
            self.$drop_btn = self.$("[data-role=drop]");
            self.$comment_score_top = self.$("[data-role=comment-score-top]");
            self.$hot_model = self.$("[data-role=hot-model]");
            // 安装事件
            self._setup_events();
            // 安装下拉选择组件
            self._setup_select_drop();
            // 安装底部导航
            self._setup_footer();
            // 设置地区
            self.set_location(utility.storage.get("location"));
            // 渲染队列
            self._render_queue = [];
            self.$refresh_top_bar = self.$("[data-role=refresh-bar-container]");
        },
        render: function() {
            var self = this;
            self._visible = true;
            view.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        _before_fetch: function() {
            tip.show("加载中...", "loading", {
                delay: -1
            });
        },
        _success_fetch: function(response, xhrOptions) {
            var self = this;
            if (self.pull_down_obj) {
                self.pull_down_obj.set_pull_down_style("loaded");
            }
            if (response.result_data.code) {
                if (response.result_data.type != "home_page") {
                    if (!self._visible) {
                        self.once("after_show", function() {
                            self._add_line_item(response, xhrOptions);
                        });
                    } else {
                        self._add_line_item(response, xhrOptions);
                    }
                } else {
                    if (!self._visible) {
                        self.once("after_show", function() {
                            self._render_item(response, xhrOptions);
                        });
                    } else {
                        self._render_item(response, xhrOptions);
                    }
                }
            }
            if (!response.result_data.has_next_page) {
                self.$('[data-add="' + response.result_data.type + '"]').addClass("fn-hide");
            }
            //self.view_scroll_obj.refresh();
            tip.hide();
        },
        _error_fetch: function() {
            var self = this;
            tip.show("网络异常", "error");
            /*tip.show('加载失败','error',{
                delay:1000
            });*/
            if (!self.view_scroll_obj) {
                self._setup_scroll();
            }
        },
        _complete_fetch: function() {},
        _before_ad_pic_fetch: function() {},
        _success_ad_pic_fetch: function(response, xhrOptions) {
            var self = this;
            //安装广告滚动(这个必需在渲染后安装，否则获取不到宽度)
            var pics = response.result_data.list;
            if (!pics) {
                return;
            }
            var len = pics.length;
            if (len == 0) {
                return;
            }
            var contents = [];
            //for v2
            for (var i = 0; i < pics.length; i++) {
                contents.push({
                    content: '<i data-role="ad-nav" data-link-type="' + pics[i].link_type + '" data-link-address="' + pics[i].link_address + '" class ="img image-img loaded" style="background-image: url(' + pics[i].img + ');"></i>'
                });
            }
            //===============================================
            //for v3
            /*            for(var i=0; i<pics.length; i++){
                contents.push({
                    width:'320px',
                    height:'75px',
                    content : '<i data-role="ad-nav" data-link-type="' + pics[i].link_type + '" data-link-address="' + pics[i].link_address + '" class ="img image-img loaded" style="background-image: url(' + pics[i].img + ');"></i>'
                })
            }*/
            //===============================================
            //self._setup_ad_pic(contents);
            self._setup_iscroll_ad_pic(contents);
        },
        _error_ad_pic_fetch: function() {},
        _complete_ad_pic_fetch: function() {},
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        refresh: function() {
            var self = this;
            self.$item_wrap.html("");
            self._render_queue = [];
            self.collection.get_datas({
                type: "",
                page: 1
            });
        },
        _pull_refresh: function() {
            var self = this;
            return;
            self.pull_down_obj.set_pull_down_style("loading");
            self.view_scroll_obj.minScrollY = 60;
            self.view_scroll_obj.scrollTo(0, 60);
            self.refresh();
        },
        show: function() {
            var self = this;
            var is_trigger = !self._visible;
            self._visible = true;
            is_trigger && self.trigger("after_show");
            self.$el.removeClass("fn-invisible");
            return self;
        },
        hide: function() {
            var self = this;
            self._visible = false;
            self.$el.addClass("fn-invisible");
            return self;
        }
    });
    module.exports = index_hot_view;
});

define("pai/wx-1.1.0/common/scroll-debug", [ "$-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/img-ready-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var IScroll = require("utility/iscroll/4.2.5/iscroll-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    var ImgReady = require("pai/wx-1.1.0/common/img-ready-debug");
    var UA = require("pai/wx-1.1.0/frame/ua-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var lazyLoadMaps = {};
    var error_maps = {};
    module.exports = function($element, options) {
        options || (options = {});
        var myScroll = $.extend({}, Backbone.Events);
        myScroll.$element = $element;
        // 此处的参数是用于下拉刷新的
        var args = {
            loadClass: "dropload-box",
            // 下拉容器class
            refreshDOM: '<div class="dropload-refresh"><i class="icon icon-more-24x32"></i><span>下拉刷新</span></div>',
            // 下拉DOM
            moreDOM: '<div class="dropload-refresh"><i class="icon icon-more-24x32"></i><span>加载更多</span></div>',
            // 上拉DOM
            updateDOM: '<div class="dropload-update"><i class="icon icon-more-24x32"></i><span>释放更新</span></div>',
            // 更新DOM
            afterMoreDom: '<div style="height:50px;line-height: 50px;text-align: center;width: 100%">释放更新</div>',
            loadDOM: '<div class="dropload-load"><i class="icon icon-loading ui-loading-animate"></i><span>加载中...</span></div>',
            // 加载DOM
            direction: "up",
            // 加载内容方向
            down_direction: "",
            distance: 50,
            // 下拉距离
            down_direction_distance: 200,
            prevent_tag: ""
        }, _startY = 0, _moveY = 0, _curY = 0, _offsetY = 0, _loadHeight = 0, _childrenHeight = 0, _scrollTop = 0, insertDOM = false, loading = false, loadName = "", is_hide_dropdown = false;
        options = $.extend({}, args, options);
        var loadName = "." + options.loadClass;
        // 绑定触摸
        myScroll.$element.on("touchstart", function(e) {
            if (loading) {
                return;
            }
            if ($(e.target).parents('[data-role="ad-pic"]').attr("data-prevent-scroll") == options.prevent_tag) {
                return;
            }
            myScroll.fnTouches(e);
            myScroll.fnTouchstart(e);
        });
        myScroll.$element.on("touchmove", function(e) {
            if (loading) {
                return;
            }
            if ($(e.target).parents('[data-role="ad-pic"]').attr("data-prevent-scroll") == options.prevent_tag) {
                return;
            }
            myScroll.fnTouches(e);
            myScroll.fnTouchmove(e);
        });
        myScroll.$element.on("touchend", function(e) {
            if (loading) {
                return;
            }
            if ($(e.target).parents('[data-role="ad-pic"]').attr("data-prevent-scroll") == options.prevent_tag) {
                return;
            }
            myScroll.fnTouchend();
        });
        myScroll.destroy = function() {
            var self = this;
            self._scrollEndTimer && clearTimeout(self._scrollEndTimer);
            lazyLoadMaps[currentHash] && delete lazyLoadMaps[currentHash];
            $element.off("scroll");
            myScroll.trigger("destroy");
        };
        myScroll.scrollTo = function(x, y) {
            $element.scrollLeft(x);
            $element.scrollTop(y);
        };
        myScroll.refresh = function() {
            collectElement();
        };
        myScroll.resetLazyLoad = function() {};
        myScroll.resetlazyLoad = function() {};
        /**
         * 强制读取图片
         */
        myScroll.force_load_img = function() {
            // to do
            var self = this;
            var wrapperHeight = getElementHeight($element);
            var offset = wrapperHeight / 2;
            var scrollTop = $element.scrollTop();
            checkElement({
                thresholdMin: scrollTop - offset,
                thresholdMax: wrapperHeight + scrollTop + offset,
                y: scrollTop
            });
        };
        /**
         * 注意，从这里添加的事件都是用于下拉刷新的
         * modify by hudw 2014.11.24
         */
        // touches
        myScroll.fnTouches = function(e) {
            if (options.is_hide_dropdown) {
                return;
            }
            if (!e.touches) {
                e.touches = e.originalEvent.touches;
            }
        };
        // touchstart
        myScroll.fnTouchstart = function(e) {
            if (options.is_hide_dropdown) {
                return;
            }
            var me = this;
            _startY = e.touches[0].pageY;
            _loadHeight = me.$element.height();
            _childrenHeight = me.$element.children().height();
            _scrollTop = me.$element.scrollTop();
        };
        // touchmove
        myScroll.fnTouchmove = function(e) {
            if (options.is_hide_dropdown) {
                return;
            }
            _curY = e.touches[0].pageY;
            _moveY = _curY - _startY;
            var me = this, _absMoveY = Math.abs(_moveY);
            // 加载上放
            if (options.direction == "up" && _scrollTop <= 0 && _moveY > 0) {
                me.touch_direction = options.direction;
                e.preventDefault();
                if (!insertDOM) {
                    me.$element.prepend('<div class="' + options.loadClass + '"></div>');
                    insertDOM = true;
                }
                fnTransition($(loadName), 0);
                // 下拉
                if (_absMoveY <= options.distance) {
                    _offsetY = _absMoveY;
                    $(loadName).html("").append(options.refreshDOM);
                } else if (_absMoveY > options.distance && _absMoveY <= options.distance * 2) {
                    _offsetY = options.distance + (_absMoveY - options.distance) * .5;
                    $(loadName).html("").append(options.updateDOM);
                } else {
                    _offsetY = options.distance + options.distance * .5 + (_absMoveY - options.distance * 2) * .2;
                }
                if (options.is_hide_dropdown) {
                    $(loadName).addClass("fn-invisible");
                }
                $(loadName).css({
                    height: _offsetY
                });
            }
            // 加载下方
            if (options.down_direction == "down" && _childrenHeight <= _loadHeight + _scrollTop && _moveY < 0) {
                e.preventDefault();
                me.touch_direction = options.down_direction;
                if (!insertDOM) {
                    me.$element.append('<div class="' + options.loadClass + '"></div>');
                    insertDOM = true;
                }
                fnTransition($(loadName), 0);
                // 下拉
                if (_absMoveY <= options.down_direction_distance) {
                    _offsetY = _absMoveY;
                    $(loadName).html("").append(options.moreDOM);
                } else if (_absMoveY > options.down_direction_distance && _absMoveY <= options.down_direction_distance * 2) {
                    _offsetY = options.down_direction_distance + (_absMoveY - options.down_direction_distance) * .5;
                    $(loadName).html("").append(options.afterMoreDom);
                } else {
                    _offsetY = options.down_direction_distance + options.down_direction_distance * .5 + (_absMoveY - options.down_direction_distance * 2) * .2;
                }
                $(loadName).css({
                    height: _offsetY
                });
                me.$element.scrollTop(_offsetY + _scrollTop);
            }
        };
        // touchend
        myScroll.fnTouchend = function() {
            var me = this, _absMoveY = Math.abs(_moveY);
            if (options.is_hide_dropdown) {
                $(loadName).addClass("fn-invisible");
            }
            if (insertDOM) {
                fnTransition($(loadName), 300);
                if (me.touch_direction == "down") {
                    if (_absMoveY > options.down_direction_distance) {
                        $(loadName).css({
                            height: $(loadName).children().height()
                        });
                        $(loadName).html("").append(options.loadDOM);
                        me.fnCallback("down");
                    } else {
                        $(loadName).css({
                            height: "0"
                        }).on("webkitTransitionEnd", function() {
                            insertDOM = false;
                            $(this).remove();
                        });
                    }
                } else {
                    if (_absMoveY > options.distance) {
                        $(loadName).css({
                            height: $(loadName).children().height()
                        });
                        $(loadName).html("").append(options.loadDOM);
                        me.fnCallback();
                    } else {
                        $(loadName).css({
                            height: "0"
                        }).on("webkitTransitionEnd", function() {
                            insertDOM = false;
                            $(this).remove();
                        });
                    }
                }
                _moveY = 0;
            }
        };
        // 回调
        myScroll.fnCallback = function(direction) {
            var me = this;
            loading = true;
            var direction = direction || "up";
            if (direction == "up") {
                myScroll.trigger("dropload", me);
            } else {
                myScroll.trigger("pullload", me);
            }
        };
        // 重置
        myScroll.resetload = function() {
            var me = this;
            if ($(loadName).length > 0) {
                $(loadName).css({
                    height: "0"
                }).on("transitionEnd webkitTransitionEnd", function() {
                    loading = false;
                    insertDOM = false;
                    $(this).remove();
                });
            } else {
                loading = false;
                insertDOM = false;
                $(this).remove();
            }
        };
        // 快速置顶
        // 重现置顶，顶替 scrollTo(0,0) 但不是最好的解决办法
        // hudw 2014.11.24
        myScroll.reset_top = function() {
            var self = this;
            myScroll.scrollTo(0, 1);
            myScroll.scrollTo(0, 0);
        };
        /**
         * 移动滚动条位置，主要用于后加载刷新
         */
        myScroll.change_scroll_position = function() {
            var self = this;
            myScroll.scrollTo(0, myScroll.$element.scrollTop() + 1);
        };
        $element.on("scroll", function(event) {
            myScroll.trigger("scrollEnd", event);
            myScroll._scrollEndTimer && clearTimeout(myScroll._scrollEndTimer);
            myScroll._scrollEndTimer = setTimeout(function() {
                myScroll.trigger("scrollEndAfter", event);
            }, 300);
        }).addClass("native_scroll");
        if (options.lazyLoad) {
            var currentHash = Utility.getHash();
            myScroll.on("scrollEndAfter", function(event) {
                var self = this;
                var wrapperHeight = getElementHeight(self.$element);
                var offset = wrapperHeight / 2;
                var scrollTop = self.$element.scrollTop();
                checkElement({
                    thresholdMin: scrollTop - offset,
                    thresholdMax: wrapperHeight + scrollTop + offset,
                    y: scrollTop
                });
            });
            myScroll.initLazyLoad = function() {
                var self = this;
                self._scrollEndTimer && clearTimeout(self._scrollEndTimer);
                var currentHash = Utility.getHash();
                // 重置后加载项目
                lazyLoadMaps[currentHash] = {
                    instance: myScroll,
                    $element: $element,
                    queue: []
                };
                collectElement();
                var wrapperHeight = getElementHeight($element);
                var offset = wrapperHeight / 2;
                var scrollTop = $element.scrollTop();
                checkElement({
                    thresholdMin: scrollTop - offset,
                    thresholdMax: wrapperHeight + scrollTop + offset,
                    y: scrollTop
                });
            };
            myScroll.initLazyLoad();
        }
        return myScroll;
    };
    // Helps
    // ----------
    /**
     * 筛选符合条件的后加载元素
     * @param options
     */
    function checkElement(options) {
        var hash = Utility.getHash();
        var info = lazyLoadMaps[hash];
        if (!info) {
            return;
        }
        var imgQueues = info.queue;
        if (!imgQueues.length) {
            return;
        }
        var reserveItem = [], $img, imgOffset, imgOffsetTop, queueInfo;
        while (queueInfo = imgQueues.shift()) {
            $img = queueInfo.$element;
            imgOffset = $img.offset();
            imgOffsetTop = imgOffset.top + options.y;
            if (options.thresholdMin <= imgOffsetTop && options.thresholdMax >= imgOffsetTop) {
                loadImg(queueInfo, info);
            } else {
                reserveItem.push(queueInfo);
            }
        }
        lazyLoadMaps[hash].queue = reserveItem;
    }
    /**
     * 收集后加载元素
     */
    function collectElement() {
        var hash = Utility.getHash();
        var info = lazyLoadMaps[hash];
        if (!lazyLoadMaps[hash]) {
            return;
        }
        var $images = info.$element.find("i[data-lazyload]");
        var i = 0, len = $images.length;
        var imgUrl, $img;
        for (;i < len; i++) {
            $img = $images.eq(i);
            imgUrl = $img.attr("data-lazyload");
            if (!imgUrl) {
                continue;
            }
            info.queue.push({
                uri: imgUrl,
                $element: $img
            });
            error_maps[imgUrl] = {};
            error_maps[imgUrl]["reload_idx"] = 0;
            $img.removeAttr("data-lazyload");
        }
    }
    /**
     * 加载图片
     * @param queueInfo 队列信息
     * @param MapInfo
     * @param force 是否强制
     */
    function loadImg(queueInfo, MapInfo, force) {
        var requestUri = queueInfo.uri;
        //requestUri = requestUri.replace('.poco.cn', '.poco.com');
        requestUri && ImgReady(requestUri, {
            load: function() {
                if (error_maps[queueInfo.uri]) {
                    error_maps[queueInfo.uri].reload_idx = 0;
                }
                var imgNode = this;
                var needRefresh = false;
                var $img = queueInfo.$element;
                var size = Utility.int($img.attr("data-size") || 0);
                var css = {
                    backgroundImage: "url(" + queueInfo.uri + ")"
                };
                if (size) {
                    needRefresh = true;
                    var oldWidth = imgNode.width;
                    var oldHeight = imgNode.height;
                    var newWidth = size;
                    var newHeight = newWidth * oldHeight / oldWidth;
                    css.width = Utility.int(newWidth);
                    css.height = Utility.int(newHeight);
                }
                if (force && imgNode.width > imgNode.height) {
                    css.backgroundSize = "auto 100%";
                }
                queueInfo.retry && $img.removeClass("refresh reload");
                $img.css(css).addClass("loaded");
                if (needRefresh) {
                    MapInfo.instance.refresh();
                }
            },
            error: function() {
                if (queueInfo.retry) {
                    queueInfo.$element.removeClass("refresh reload").addClass("error");
                    return;
                }
                var size = "";
                // 145、230和440图片格式错误时，提交修复请求
                if (requestUri.indexOf("_145.jpg") !== -1) {
                    size = 145;
                } else if (requestUri.indexOf("_230.jpg") !== -1) {
                    size = 230;
                } else if (requestUri.indexOf("_440.jpg") !== -1) {
                    size = 440;
                }
                //重新读取
                reload(queueInfo, MapInfo);
            }
        });
    }
    function reload(queueInfo, MapInfo) {
        /**
         * 重复加载烂图，如果加载3次都失败就取消加载
         */
        if (error_maps[queueInfo.uri] && error_maps[queueInfo.uri].reload_idx == 3) {
            return;
        }
        if (!error_maps[queueInfo.uri]) {
            error_maps[queueInfo.uri] = {};
            error_maps[queueInfo.uri]["reload_idx"] = 0;
        }
        error_maps[queueInfo.uri].reload_idx++;
        loadImg(queueInfo, MapInfo);
        console.log("%cImg now go to reload()", "color:#f90");
    }
    function getElementHeight($element) {
        return $element.height() - 44;
    }
    // css过渡
    function fnTransition(dom, num) {
        dom.css({
            "-webkit-transition": "all " + num + "ms",
            transition: "all " + num + "ms"
        });
    }
});

define("pai/wx-1.1.0/common/img-ready-debug", [], function(require, exports, module) {
    function isFunction(o) {
        return typeof o === "function";
    }
    module.exports = function(imgUrl, options) {
        var img = new Image();
        img.src = imgUrl;
        // 如果图片被缓存，则直接返回缓存数据
        if (img.complete) {
            isFunction(options.load) && options.load.call(img);
            return;
        }
        // 加载错误后的事件
        img.onerror = function() {
            isFunction(options.error) && options.error.call(img);
            img = img.onload = img.onerror = null;
        };
        // 完全加载完毕的事件
        img.onload = function() {
            isFunction(options.load) && options.load.call(img);
            // IE gif动画会循环执行onload，置空onload即可
            img = img.onload = img.onerror = null;
        };
    };
});

/**
 * 模板help
 * --------------------
 * handlebars模板引擎的helps
 *
 */
define("pai/wx-1.1.0/common/template-helpers-debug", [ "utility/handlebars/1.3.0/runtime-debug", "$-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var $ = require("$-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    var currentDate = new Date();
    currentDate.setTime(currentDate.getTime());
    var Helps = module.exports = {
        formatString: function(str) {
            return new Handlebars.SafeString(str);
        },
        img_zoom: function(imgWidth, imgHeight, oriWidth) {
            var new_width = Utility.get_zoom_height_by_zoom_width(imgWidth, imgHeight, oriWidth);
            return "width:" + new_width + "px;height:" + imgHeight + "px";
        },
        /**
         * 图片缩放
         * @param imgWidth
         * @param imgHeight
         * @param options
         */
        imageScale: function(imgWidth, imgHeight, options) {
            if (!imgWidth || !imgHeight) {
                return "";
            }
            var newWidth, newHeight;
            var maxWidth = options.hash.maxWidth;
            //var maxHeight = options.hash.maxHeight;
            if (imgWidth !== maxWidth) {
                newWidth = maxWidth;
                newHeight = Utility.int(imgHeight / (imgWidth / newWidth));
            } else {
                newWidth = imgWidth;
                newHeight = imgHeight;
            }
            return "width:" + newWidth + "px;height:" + newHeight + "px";
        },
        add_one: function() {
            //利用+1的时机，在父级循环对象中添加一个_index属性，用来保存父级每次循环的索引
            this._index = index + 1;
            //返回+1之后的结果
            return this._index;
        },
        /**
         * 日期格式化
         * @param timestamp
         * @returns {string}
         */
        formatDateTime: function(timestamp) {
            if (!timestamp) {
                return "";
            }
            var dateTime = new Date();
            dateTime.setTime(toInt(timestamp));
            var fullYear = dateTime.getFullYear();
            var month = toTwoDigitsNumber(dateTime.getMonth() + 1);
            var date = toTwoDigitsNumber(dateTime.getDate() + 1);
            var hours = dateTime.getHours();
            var minutes = toTwoDigitsNumber(dateTime.getMinutes());
            var seconds = toTwoDigitsNumber(dateTime.getSeconds());
            return [ [ fullYear, month, date ].join("-"), [ hours, minutes, seconds ].join(":") ].join(" ");
        },
        /**
         * 格式化时间
         * @param timestamp
         * @returns {string}
         */
        formatTime: function(timestamp) {
            if (!timestamp) {
                return "";
            }
            var messageDate = new Date();
            messageDate.setTime(toInt(timestamp));
            var currFullYear = currentDate.getFullYear();
            var msgFullYear = messageDate.getFullYear();
            var currMonth = currentDate.getMonth() + 1;
            var msgMonth = messageDate.getMonth() + 1;
            var currDate = currentDate.getDate();
            var msgDate = messageDate.getDate();
            var currHours = currentDate.getHours();
            var msgHours = toTwoDigitsNumber(messageDate.getHours());
            var msgMinutes = toTwoDigitsNumber(messageDate.getMinutes());
            // UTC时间
            var timeZone = new Date();
            timeZone.setTime(messageDate.getTime() + 288e5);
            var timeZoneYear = timeZone.getUTCFullYear();
            var timeZoneMonth = timeZone.getUTCMonth() + 1;
            var timeZoneDate = timeZone.getUTCDate();
            var timeZoneHours = toTwoDigitsNumber(timeZone.getUTCHours());
            var timeZoneMinutes = toTwoDigitsNumber(timeZone.getUTCMinutes());
            var beforeTime = currentDate - messageDate;
            beforeTime = beforeTime > 0 ? beforeTime : 0;
            beforeTime = beforeTime / 1e3;
            if (currFullYear != msgFullYear) {
                return timeZoneYear + "-" + timeZoneMonth + "-" + timeZoneDate + " " + timeZoneHours + ":" + timeZoneMinutes;
            }
            if (currMonth != msgMonth || currDate != msgDate) {
                return timeZoneMonth + "月" + timeZoneDate + "日 " + timeZoneHours + ":" + timeZoneMinutes;
            }
            if (currHours != msgHours && beforeTime > 3600) {
                return "今天 " + timeZoneHours + ":" + timeZoneMinutes;
            }
            if (beforeTime > 9 && beforeTime < 51) {
                beforeTime = beforeTime < 1 ? 1 : beforeTime;
                return Math.floor((beforeTime - 1) / 10) + 1 + "0秒前";
            }
            if (beforeTime <= 9) {
                return "刚刚";
            }
            return Math.floor(beforeTime / 60 + 1) + "分钟前";
        },
        /**
         * 判断两个指是否相等 (但准确度要扩展优化)
         * @param a
         * @param b
         * @param options
         * @returns {*}
         */
        if_equal: function(a, b, options) {
            if (a == b) {
                return options.fn(this);
            } else {
                return options.inverse(this);
            }
        }
    };
    // Helps
    // ---------
    function toInt(s) {
        return parseInt(s, 10);
    }
    /**
     * 转换为前导零的 2 位数字
     * @param s
     * @returns {boolean|string}
     */
    function toTwoDigitsNumber(s) {
        s < 10 && (s = "0" + s);
        return s;
    }
});

define("pai/wx-1.1.0/widget/footer/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var system = require("pai/wx-1.1.0/common/system-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var footer_tpl = require("pai/wx-1.1.0/widget/footer/tpl/footer-debug.handlebars");
    var n = 0;
    /**
     * 传入模板参数设置高亮
     * @ is_out_pai   外拍活动
     * @ is_model_pai 模特约拍
     * @ is_my_pai    我的
     */
    var footer = View.extend({
        attrs: {
            template: footer_tpl
        },
        events: {
            'tap [data-role="nav"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var nav_url = $cur_btn.attr("data-nav-url");
                if (nav_url == "message") {
                    if (!utility.login_id) {
                        page_control.navigate_to_page("account/login");
                        return;
                    }
                    App.isPaiApp && App.show_chat_list();
                }
                page_control.navigate_to_page(nav_url);
            }
        },
        /**
         * 构建元素
         * @private
         */
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("render", function() {});
        },
        setup: function() {
            var self = this;
            footer.all_bars.push(self);
            self._setup_events();
        },
        update_count: function(data) {
            var self = this;
            var sys_msg = utility.int(data.num);
            var act_msg = utility.int(utility.user.get("ticket_num")) || 0;
            var total = 0;
            total = sys_msg;
            var $footer_num = self.$('[data-flag="footer-msg"]').find('[data-role="num"]');
            if ($footer_num.length > 0) {
                if (total > 0) {
                    $footer_num.removeClass("fn-hide").html(total);
                } else {
                    $footer_num.addClass("fn-hide").html(0);
                }
            }
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = footer;
    footer.all_bars = [];
});

define("pai/wx-1.1.0/widget/footer/tpl/footer-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return "current";
        }
        buffer += '<footer class="tab-footer-new"  data-role="footer">\r\n    <ul>\r\n        <li data-role="nav" data-nav-url="act/list" >\r\n            <div class="nav-wrap ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_out_pai, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '"  data-role="footer-act">\r\n                <i class="icon icon-act">外拍</i>\r\n            </div>\r\n        </li>\r\n        <li data-role="nav" data-nav-url="hot">\r\n            <div class="nav-wrap ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_model_pai, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="footer-model">\r\n                <i class="icon icon-model">约拍</i>\r\n            </div>\r\n        </li>\r\n\r\n        <li data-role="nav" data-nav-url="message" class="msg fn-hide" data-flag="footer-msg">\r\n            <div class="nav-wrap ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_msg, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '"  data-role="footer-msg">\r\n                <span class="new-tips fn-hide" data-role="num">0</span>\r\n                <i class="icon icon-msg-f">消息</i>\r\n            </div>\r\n        </li>\r\n\r\n\r\n        <li data-role="nav" data-nav-url="mine" data-flag="footer-mine">\r\n            <div class="nav-wrap ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_my_pai, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="footer-my">\r\n                <i class="icon icon-my">我的</i>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</footer>';
        return buffer;
    });
});

/**
 * Created by zy on 2014/9/26.
 *
 *滑动图片组件
 *
 */
define("pai/wx-1.1.0/widget/iscroll_slide/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var iscroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var slide_tpl = require("pai/wx-1.1.0/widget/iscroll_slide/tpl/slide-debug.handlebars");
    var iscroll_slide = view.extend({
        attrs: {
            template: slide_tpl
        },
        events: {},
        /**
         * 构建element
         * @private
         */
        _parseElement: function() {
            var self = this;
            view.prototype._parseElement.apply(self);
        },
        _setup_iscroll: function() {
            var self = this;
            self.screen_width = utility.get_view_port_width();
            self.$ad_pic_point = self.$("[data-role=ad-pics-num]");
            //底部小点容器
            self.point_len = self.$ad_pic_point.children().length;
            self.options = $.extend({}, self.options, {
                bounce: self.get("bounce") || false,
                snap: self.get("snap") || true,
                snapThreshold: self.get("snap_threshold") || utility.get_view_port_width() / 5,
                momentum: self.get("momentum") || false,
                hScroll: self.get("h_scroll") || true,
                vScroll: self.get("v_scroll") || false,
                hScrollbar: self.get("h_scrollbar") || false,
                vScrollbar: self.get("v_scrollbar") || false,
                checkDOMChanges: self.get("check_dom_changes") || true
            });
            self.$('[data-role="ad-pic"]').width(self.screen_width * self.point_len);
            self.$el.find(".swiper-slide").width(self.screen_width).height(self.get("height"));
            self._swiper = new iscroll(self.$el, self.options);
            self._swiper.on("scrollEnd", function() {
                var _self = this;
                if (!self.is_auto_slide) {
                    self.slide_view_x = _self.x;
                    self.set_point_current(Math.abs(_self.x / self.screen_width));
                }
                self.is_auto_slide = false;
            });
            //是否自动播放
            self.get("auto_play") > 0 && self.setup_auto_slider();
        },
        set_point_current: function(idx) {
            var self = this;
            self.is_auto_slide = true;
            var $span = self.$ad_pic_point.find("span");
            $span.removeClass("swiper-visible-switch swiper-active-switch");
            $span.eq(idx).addClass("swiper-visible-switch swiper-active-switch");
            self.slide_view_pic_idx = idx;
            console.log(idx);
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                //安装滚动(这个必需在渲染后安装，否则获取不到宽度)
                self._setup_iscroll();
            });
        },
        setup_auto_slider: function() {
            var self = this;
            self.slide_view_x = 0;
            //当前滚动图片X位置
            self.slide_view_pic_idx = 0;
            //当前滚动图片索引
            self.interval_running = false;
            self.slider_interval = setInterval(function() {
                self.auto_slider();
            }, self.get("auto_play") || 3e3);
        },
        auto_slider: function() {
            var self = this;
            if (self.slide_view_x == -(utility.get_view_port_width() * (self.point_len - 1))) {
                self.slide_view_x = 0;
                self.slide_view_pic_idx = 0;
            } else {
                self.slide_view_x -= utility.get_view_port_width();
                self.slide_view_pic_idx++;
            }
            self._swiper.scrollTo(self.slide_view_x, 0, 300);
            self.set_point_current(self.slide_view_pic_idx);
        },
        setup: function() {
            var self = this;
            self.$ad_pic = self.$('[data-role="ad-pic"]');
            self.is_auto_slide = false;
            // 安装事件
            self._setup_events();
        },
        render: function(pic_list) {
            var self = this;
            view.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 设置参数
         * @param options
         * @return {*}
         */
        set_options: function(options) {
            var self = this;
            self.options = options;
            return self;
        },
        /**
         * 获得滚动图片组的长度
         * @returns {*}
         */
        get_length: function() {
            var self = this;
            return self.point_len;
        },
        clear_interval: function() {
            var self = this;
            self.interval_running = false;
            self.slider_interval && clearInterval(self.slider_interval);
        },
        /**
         * 销毁
         * @returns {slide}
         */
        destroy: function() {
            var self = this;
            view.prototype.remove.call(self);
            view.prototype.destroy.call(self);
            return self;
        }
    });
    module.exports = iscroll_slide;
});

/**
 * Created by hdw on 2014/11/23.
 */
define("pai/wx-1.1.0/common/new_iscroll-debug", [ "$-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var IScroll = require("utility/iscroll/4.2.5/iscroll-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    var ImgReady = require("pai/wx-1.1.0/common/img-ready-debug");
    var UA = require("pai/wx-1.1.0/base/ua-debug");
    var lazyLoadMaps = {};
    // 扩展后加载方法
    if (!IScroll.prototype.on) {
        IScroll.prototype.on = function(type, fn) {
            if (!this._events[type]) {
                this._events[type] = [];
            }
            this._events[type].push(fn);
            return this;
        };
        IScroll.prototype.off = function(type, fn) {
            if (!this._events[type]) {
                return;
            }
            var index = this._events[type].indexOf(fn);
            if (index > -1) {
                this._events[type].splice(index, 1);
            }
            return this;
        };
        IScroll.prototype._execEvent = function(type) {
            if (!this._events) {
                this._events = {};
            }
            if (!this._events[type]) {
                return;
            }
            var i = 0, l = this._events[type].length;
            if (!l) {
                return;
            }
            for (;i < l; i++) {
                this._events[type][i].apply(this, [].slice.call(arguments, 1));
            }
            return this;
        };
    }
    if (!IScroll.prototype.resetLazyLoad) {
        /**
         * 重置后加载项目
         * @returns {IScroll}
         */
        IScroll.prototype.resetLazyLoad = function() {
            var self = this;
            if (!self.options.lazyLoad) {
                return self;
            }
            self._scrollEndTimer && clearTimeout(self._scrollEndTimer);
            var currentHash = Utility.getHash();
            lazyLoadMaps[currentHash] = {
                instance: self,
                $element: $(self.scroller),
                queue: []
            };
            collectElement();
            var wrapperHeight = self.wrapperH;
            var offset = wrapperHeight / 2;
            checkElement({
                thresholdMin: -offset,
                thresholdMax: wrapperHeight + offset,
                y: self.y
            });
            return self;
        };
    }
    // 滚动速度
    var raw = IScroll.prototype._momentum;
    IScroll.prototype._momentum = function(dist, time, maxDistUpper, maxDistLower, size) {
        return raw.apply(this, [ dist, time * 2, // 倍数越少越快
        maxDistUpper, maxDistLower, size ]);
    };
    module.exports = function(element, options) {
        options || (options = {});
        // 初始化实例
        if (!!element[0] || element instanceof $) {
            element = element[0];
        }
        options.checkDOMChanges = false;
        options.bounce = !options.bounce ? true : false;
        options.useTransform = true;
        options.useTransition = UA.isIDevice;
        options.zoom = false;
        options.handleClick = false;
        options.hideScrollbar = false;
        options.scrollbarClass = "scroll_bar_class";
        options.fadeScrollbar = true;
        options.hideScrollbar = true;
        options.onRefresh = function() {
            return this._execEvent("refresh");
        };
        options.onTouchEnd = function() {
            return this._execEvent("touchEnd");
        };
        options.onScrollStart = function(e) {
            return this._execEvent("scrollStart", e);
        };
        options.onScrollMove = function() {
            return this._execEvent("scrollMove");
        };
        options.onScrollEnd = function() {
            return this._execEvent("scrollEnd");
        };
        options.onDestroy = function() {
            return this._execEvent("destroy");
        };
        options.onBeforeScrollStart = function(e) {
            return this._execEvent("scrollBeforeStart", e);
        };
        $(element).css("position", "relative");
        var myScroll = new IScroll(element, options);
        console.log(myScroll);
        // 防止阻塞，提高性能
        myScroll.refresh = function() {
            var self = this;
            setTimeout(function() {
                IScroll.prototype.refresh.apply(self, arguments);
            }, 0);
            return self;
        };
        myScroll.on("scrollBeforeStart", function(e) {
            var target = e.target;
            while (target.nodeType != 1) target = target.parentNode;
            if (target.tagName != "SELECT" && target.tagName != "INPUT" && target.tagName != "TEXTAREA") {
                e.preventDefault();
            }
        });
        myScroll.on("scrollEnd", function() {
            var self = this;
            self._scrollEndTimer && clearTimeout(self._scrollEndTimer);
            self._scrollEndTimer = setTimeout(function() {
                self._execEvent("scrollEndAfter");
            }, 500);
        });
        myScroll.on("scrollMove", function() {
            var self = this;
            self._execEvent("scrollMoveAfter");
        });
        if (!options.lazyLoad) {
            return myScroll;
        }
        var currentHash = Utility.getHash();
        // 内容长度发生变化，刷新滚动条
        myScroll.on("refresh", function() {
            refreshElementPosition();
            collectElement();
        });
        myScroll.on("destroy", function() {
            var self = this;
            self._scrollEndTimer && clearTimeout(self._scrollEndTimer);
            lazyLoadMaps[currentHash] && delete lazyLoadMaps[currentHash];
        });
        myScroll.on("scrollEndAfter", function() {
            var self = this;
            var wrapperHeight = self.wrapperH;
            var offset = wrapperHeight / 2;
            checkElement({
                thresholdMin: -offset,
                thresholdMax: wrapperHeight + offset,
                y: self.y
            });
        });
        // 重置后加载项目
        myScroll.resetLazyLoad();
        return myScroll;
    };
    // Helps
    // ----------
    /**
     * 筛选符合条件的后加载元素
     * @param options
     */
    function checkElement(options) {
        var hash = Utility.getHash();
        var info = lazyLoadMaps[hash];
        if (!info) {
            return;
        }
        var imgQueues = info.queue;
        var reserveItem = [], $img, imgOffset, imgOffsetTop, queueInfo;
        while (queueInfo = imgQueues.shift()) {
            $img = queueInfo.$element;
            //console.log($img.parent().position())
            imgOffset = queueInfo.position || $img.position();
            imgOffsetTop = imgOffset.top + options.y;
            if (options.thresholdMin <= imgOffsetTop && options.thresholdMax >= imgOffsetTop) {
                //console.log(queueInfo)
                loadImg(queueInfo, info);
            } else {
                reserveItem.push(queueInfo);
            }
        }
        lazyLoadMaps[hash].queue = reserveItem;
    }
    /**
     * 收集后加载元素
     */
    function collectElement() {
        var hash = Utility.getHash();
        var info = lazyLoadMaps[hash];
        if (!lazyLoadMaps[hash]) {
            return;
        }
        var $images = info.$element.find("i[data-lazyload]");
        var i = 0, len = $images.length;
        var imgUrl, $img;
        for (;i < len; i++) {
            $img = $images.eq(i);
            imgUrl = $img.attr("data-lazyload");
            if (!imgUrl) {
                continue;
            }
            info.queue.push({
                uri: imgUrl,
                position: get_pos($img[0]),
                $element: $img
            });
            $img.removeAttr("data-lazyload");
        }
    }
    function refreshElementPosition() {
        var hash = Utility.getHash();
        var info = lazyLoadMaps[hash];
        if (!info) {
            return;
        }
        var imgQueues = info.queue;
        var i = 0, len = imgQueues.length, $img, queueInfo;
        if (!len) {
            return;
        }
        for (;i < len; ++i) {
            queueInfo = lazyLoadMaps[hash]["queue"][i];
            $img = queueInfo.$element;
            queueInfo.position = get_pos($img[0]);
        }
    }
    /**
     * 加载图片
     * @param queueInfo 队列信息
     * @param MapInfo
     * @param force 是否强制
     */
    function loadImg(queueInfo, MapInfo, force) {
        var requestUri = queueInfo.uri;
        //requestUri = requestUri.replace('.poco.cn', '.poco.com');
        requestUri && ImgReady(requestUri, {
            load: function() {
                var imgNode = this;
                var needRefresh = false;
                var $img = queueInfo.$element;
                var size = Utility.int($img.attr("data-size") || 0);
                var css = {
                    backgroundImage: "url(" + queueInfo.uri + ")"
                };
                if (size) {
                    needRefresh = true;
                    var oldWidth = imgNode.width;
                    var oldHeight = imgNode.height;
                    var newWidth = size;
                    var newHeight = newWidth * oldHeight / oldWidth;
                    css.width = Utility.int(newWidth);
                    css.height = Utility.int(newHeight);
                }
                if (force && imgNode.width > imgNode.height) {
                    css.backgroundSize = "auto 100%";
                }
                queueInfo.retry && $img.removeClass("refresh reload");
                $img.css(css).addClass("loaded");
                if (needRefresh) {
                    MapInfo.instance.refresh();
                }
            },
            error: function() {
                if (queueInfo.retry) {
                    queueInfo.$element.removeClass("refresh reload").addClass("error");
                    return;
                }
                var size = "";
                // 145、230和440图片格式错误时，提交修复请求
                if (requestUri.indexOf("_145.jpg") !== -1) {
                    size = 145;
                } else if (requestUri.indexOf("_230.jpg") !== -1) {
                    size = 230;
                } else if (requestUri.indexOf("_440.jpg") !== -1) {
                    size = 440;
                }
                // 修复
                fixImg(requestUri, size);
                queueInfo.$element.one("tap", function(event) {
                    event.stopPropagation();
                    event.preventDefault();
                    queueInfo.retry = 1;
                    loadImg(queueInfo, MapInfo);
                }).addClass("refresh");
            }
        });
    }
    function fixImg(requestUri, size) {
        return;
        var reUri = new RegExp("_" + size + ".jpg");
        var newRequestUri = requestUri.replace(reUri, "_640.jpg");
        var url = "/module_common/item/fix_item_145img.php?item_url=" + encodeURIComponent(newRequestUri) + "&size=" + size;
        if (size == 440) {
            url += "&resize_rules=only_set_width";
        }
        new Image().src = url;
    }
    function get_pos(obj) {
        var curleft = curtop = 0;
        if (obj.offsetParent) {
            do {
                curleft += obj.offsetLeft;
                curtop += obj.offsetTop;
            } while (obj = obj.offsetParent);
        }
        return {
            top: curtop,
            left: curleft
        };
    }
});

define("pai/wx-1.1.0/base/ua-debug", [ "$-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var ua = {};
    var win = window;
    var nav = win.navigator;
    var app_version = nav.appVersion;
    //访问来自手机 
    ua.isMobile = /(iphone|ipod|android|ios|ipad|nokia|blackberry|tablet|symbian)/.test(nav.userAgent.toLowerCase());
    //手机系统
    ua.isAndroid = /android/gi.test(app_version);
    ua.isIDevice = /iphone|ipad/gi.test(app_version);
    ua.isTouchPad = /hp-tablet/gi.test(app_version);
    ua.isIpad = /ipad/gi.test(app_version);
    ua.otherPhone = !(ua.isAndroid || ua.isIDevice);
    //浏览器品牌类型
    ua.is_uc = /uc/gi.test(app_version);
    ua.is_chrome = /CriOS/gi.test(app_version) || /Chrome/gi.test(app_version);
    ua.is_qq = /QQBrowser/gi.test(app_version);
    ua.is_real_safari = /safari/gi.test(app_version) && !ua.is_chrome && !ua.is_qq;
    //真正的原生IOS safari浏览器
    //iphone safari是否全屏
    ua.is_standalone = window.navigator.standalone ? true : false;
    ua.window_width = window.innerWidth;
    ua.window_height = window.innerHeight;
    //ua.window_height = $(window).height()
    //手机版本
    if (ua.isAndroid) {
        var android_version = parseFloat(app_version.slice(app_version.indexOf("Android") + 8));
        ua.android_version = android_version;
    } else if (ua.isIDevice) {
        var v = app_version.match(/OS (\d+)_(\d+)_?(\d+)?/);
        if (v) {
            var ios_version = v[1];
            if (v[2]) ios_version += "." + v[2];
            if (v[3]) ios_version += "." + v[3];
            ua.ios_version = ios_version;
        }
    }
    ua.is_iphone_safari_no_fullscreen = ua.isIDevice && ua.ios_version < "7" && !ua.isIpad && ua.is_real_safari && !ua.is_standalone;
    return ua;
});

if (typeof process_add == "function") {
    process_add();
}

define("pai/wx-1.1.0/widget/iscroll_slide/tpl/slide-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <div class="swiper-slide"> ';
            stack1 = typeof depth0 === functionType ? depth0.apply(depth0) : depth0;
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</div>\r\n        ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <div class="swiper-slide"> ';
            if (helper = helpers.content) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.content;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</div>\r\n        ";
            return buffer;
        }
        function program5(depth0, data) {
            return "fn-hide";
        }
        function program7(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <span class="swiper-pagination-switch ';
            if (helper = helpers["class"]) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0["class"];
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></span>\r\n        ';
            return buffer;
        }
        buffer += '<div>\r\n    <div class="scroll-area swiper-wrapper" data-role="ad-pic" data-prevent-scroll="slider" style="height: ';
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px;">\r\n        ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.find_page_bar_contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n        ";
        stack1 = helpers.each.call(depth0, depth0 && depth0.contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n    </div>\r\n\r\n    <div data-role="ad-pics-num" class="ad-pic-point-out ';
        stack1 = helpers.unless.call(depth0, depth0 && depth0.no_single, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" >\r\n        ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers.each.call(depth0, depth0 && depth0.find_page_bar_contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n    </div>\r\n</div>\r\n";
        return buffer;
    });
});

define("pai/wx-1.1.0/widget/abnormal/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    var Tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var mainTpl = require("pai/wx-1.1.0/widget/abnormal/tpl/main-debug.handlebars");
    var abnormal_view = view.extend({
        attrs: {
            template: mainTpl
        },
        events: {
            'tap [data-role="tap-screen"]': function(ev) {
                var self = this;
                self.trigger("tap:broken_network");
            },
            'tap [data-role="error-page-back"]': function() {
                var self = this;
                page_control.back();
            }
        },
        _setup_events: function() {
            var self = this;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container);
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            // 安装事件
            self._setup_events();
        },
        /**
         * 销毁
         * @returns {abnormal}
         */
        destroy: function() {
            var self = this;
            view.prototype.remove.call(self);
            view.prototype.destroy.call(self);
            return self;
        }
    });
    module.exports = abnormal_view;
});

define("pai/wx-1.1.0/widget/abnormal/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            return "stream-network-error";
        }
        function program3(depth0, data) {
            return "stream-empty";
        }
        function program5(depth0, data) {
            return "icon-stream-network-error";
        }
        function program7(depth0, data) {
            return "icon-stream-empty";
        }
        function program9(depth0, data) {
            return "当前网络不可用";
        }
        function program11(depth0, data) {
            return "暂无内容";
        }
        function program13(depth0, data) {
            return "<p>请检查网络后，轻触屏幕重新加载</p>";
        }
        function program15(depth0, data) {
            return "<p>网页数据加载异常，请点击返回按钮</p>";
        }
        function program17(depth0, data) {
            return '\r\n    <div class="mr10 ml10">\r\n        <button class="ui-button ui-button-primary ui-button-size-large ui-button-block " data-role="error-page-back">\r\n            <span class="ui-button-content">返回</span>\r\n        </button>\r\n    </div>\r\n    ';
        }
        buffer += '<div>\r\n    <div class="stream-abnormal ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.broken_network, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="tap-screen" style="height:';
        if (helper = helpers.content_height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.content_height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n        <h4 data-role="a" class="icon ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.broken_network, {
            hash: {},
            inverse: self.program(7, program7, data),
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '">';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.broken_network, {
            hash: {},
            inverse: self.program(11, program11, data),
            fn: self.program(9, program9, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "</h4>\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.broken_network, {
            hash: {},
            inverse: self.noop,
            fn: self.program(13, program13, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.error_status, {
            hash: {},
            inverse: self.noop,
            fn: self.program(15, program15, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n    </div>\r\n\r\n    ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.error_status, {
            hash: {},
            inverse: self.noop,
            fn: self.program(17, program17, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n</div>";
        return buffer;
    });
});

/**
 * nolestLam 2014/8/19.
 */
/**
 * 下拉列表组件
 */
define("pai/wx-1.1.0/ui/select_drop/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var select_drop_tpl = require("pai/wx-1.1.0/ui/select_drop/tpl/select_drop-debug.handlebars");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    module.exports = View.extend({
        attrs: {
            template: select_drop_tpl
        },
        events: {
            'tap [data-role="sys"]': function() {
                var self = this;
                if (self.is_drop()) {
                    console.log("扫一扫");
                    if (App.isPaiApp) {
                        App.qrcodescan();
                        self.pull_up();
                    }
                }
            },
            'tap [data-role="go-search"]': function() {
                var self = this;
                if (self.is_drop()) {
                    self.pull_up();
                    setTimeout(function() {
                        page_control.navigate_to_page("search");
                    }, 100);
                }
            },
            'tap [data-role="module-card"]': function() {
                page_control.navigate_to_page("model_date/model_card/" + utility.user.get("user_id"));
            },
            'tap [data-role="go-act"]': function() {
                //发活动
                page_control.navigate_to_page("act/pub_info", utility.user);
            },
            'touch [data-role="more-select-drop-cover"]': function() {
                var self = this;
                self.pull_up();
            },
            webkitAnimationEnd: function() {
                var self = this;
                self._is_animating = false;
                //防止返回后再次出现上拉动画
                self.$select_drop.removeClass("pull-up");
                if (!self._is_dropped) {
                    self.$select_drop.addClass("fn-hide").removeClass("pin");
                } else {
                    self.$select_drop.addClass("pin").removeClass("fn-hide");
                }
            }
        },
        _setup_event: function() {
            var self = this;
        },
        setup: function() {
            var self = this;
            self.cover = self.$('[data-role="more-select-drop-cover"]');
            self._is_dropped = false;
            self._is_animating = false;
            self.$select_drop = self.$('[data-role="more-select-drop"]');
            self._setup_event();
        },
        is_drop: function() {
            //是否已下拉
            var self = this;
            return self._is_dropped;
        },
        drop_down: function() {
            //下拉
            var self = this;
            if (self._is_animating) {
                // 防止重复显示动画
                return;
            }
            self.$select_drop.removeClass("pull-up drop-down-stay fn-hide").addClass("drop-down");
            self._is_animating = true;
            self._is_dropped = true;
            self.cover.removeClass("fn-hide");
        },
        pull_up: function() {
            //上拉
            var self = this;
            if (self._is_animating) {
                // 防止重复显示动画
                return;
            }
            self.$select_drop.removeClass("drop-down-stay pin fn-hide").removeClass("drop-down").addClass("pull-up");
            self._is_animating = true;
            self._is_dropped = false;
            self.cover.addClass("fn-hide");
        },
        /* 在调用页面的index page_hide 内调用此方法
         * 用于固定下拉菜单
         */
        stay: function() {
            var self = this;
            if (self._is_dropped) {
                self.$select_drop.removeClass("drop-down").addClass("drop-down-stay");
            }
        }
    });
});

define("pai/wx-1.1.0/ui/select_drop/tpl/select_drop-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            var buffer = "";
            return buffer;
        }
        function program3(depth0, data) {
            return "fn-hide";
        }
        buffer += '<div >\r\n    <div class="more-select-drop-cover fn-hide" data-role="more-select-drop-cover"></div>\r\n    <div class="more-select-drop fn-hide" data-role="more-select-drop">\r\n        <div class="delta"></div>\r\n            <p class="more-select-choosen" data-role="sys"><i class="icon icon-btn-icon-cs more-select-sys"></i><span class="notice">扫一扫</span></p>\r\n            <!--p class="more-select-choosen ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_model, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="module-card"><i class="icon icon-set-50x50 more-select-module-card"></i>建立模特卡</p-->\r\n            <!--p class="more-select-choosen" data-role="go-act"><i class="icon icon-pub-50x50 more-select-go-act"></i>发活动</p-->\r\n            <p class="more-select-choosen" data-role="go-search"><i class="icon search-top-m-w more-select-go-act"></i><span class="notice">搜索</span></p>\r\n    </div>\r\n</div>';
        return buffer;
    });
});

/**
 * 针对移动端的下拉选择框
 * hdw 2014.10.8
 */
define("pai/wx-1.1.0/ui/m_select/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var select_tpl = require("pai/wx-1.1.0/ui/m_select/tpl/m_select-debug.handlebars");
    var options_tpl = require("pai/wx-1.1.0/ui/m_select/tpl/m_options-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: select_tpl
        },
        events: {
            webkitTransitionEnd: function(event) {},
            /**
             * 确认
             */
            'tap [data-role="confirm"]': function() {
                var self = this;
                self.trigger("confirm:success", self.get_value());
                self.hide();
            },
            /**
             * 取消
             */
            'tap [data-role="cancel"]': function() {
                var self = this;
                self.hide();
            },
            'tap [data-role="selected-area"]': function() {
                var self = this;
                self.trigger("confirm:success", self.get_value());
                self.hide();
            }
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        set_value: function(data) {
            var self = this;
            self.selected_data = data;
        },
        set_data_select: function(key) {
            var self = this;
            var li = self.$warpper.find("li");
            li.eq(key).attr("selected", "");
        },
        /**
         * 获取选中值
         */
        get_value: function() {
            var self = this;
            var $selected_obj_arr = self.$warpper.find("li[selected]");
            var val_arr = [];
            for (var n = 0; n < $selected_obj_arr.length; n++) {
                var $selected_obj = $selected_obj_arr.eq(n);
                var value = $selected_obj.attr("data-value");
                var id = $selected_obj.attr("data-id");
                var text = $selected_obj.html();
                val_arr[n] = {
                    value: value,
                    text: text,
                    id: id
                };
            }
            return val_arr;
        },
        set_options: function(data, scroll_idx) {
            var self = this;
            var scroll_idx = scroll_idx || 0;
            var options_html_str = options_tpl({
                options: data
            });
            // 重新清除
            self.$scroll_wrapper_groups.eq(scroll_idx) && self.$scroll_wrapper_groups.eq(scroll_idx).remove();
            self.$scroll_view_obj["scroll_" + scroll_idx] = null;
            self.$warpper.append(options_html_str);
            self.$scroll_wrapper_groups = self.$('[data-role="scroll_warpper"]');
            self._setup_scroll();
        },
        setup: function() {
            var self = this;
            self.$warpper = self.$("[data-role=select-wrapper]");
            self.$container = self.$('[data-role="content"]');
            self.$warpper.height(245);
            var template_model = self.get("templateModel");
            self.$scroll_view_obj = {};
            // 渲染下拉选择列表
            var options_html_str = options_tpl({
                options: template_model.options
            });
            self.$warpper.html(options_html_str);
            self.$scroll_wrapper_groups = self.$('[data-role="scroll_warpper"]');
            self._setup_scroll();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            self.$scroll_wrappers = [];
            self.is_init = true;
            self.$scroll_wrapper_groups.each(function(i, obj) {
                self.$scroll_wrappers[i] = $(obj);
                if (!self.$scroll_view_obj["scroll_" + i]) {
                    self.$scroll_wrappers[i].height(36);
                    // 初始化滚动条
                    self.$scroll_view_obj["scroll_" + i] = scroll(self.$scroll_wrappers[i], {
                        bounce: false,
                        snap: "li",
                        momentum: false,
                        hScroll: false,
                        vScroll: true,
                        hScrollbar: false,
                        vScrollbar: false,
                        checkDOMChanges: true
                    });
                    self.$scroll_wrappers[i].css("overflow", "");
                    self.$scroll_view_obj["scroll_" + i].index = i;
                    self.$scroll_view_obj["scroll_" + i].on("scrollMove", function() {
                        self.is_init = false;
                    });
                    // 选中触发
                    self.$scroll_view_obj["scroll_" + i].on("scrollEnd", function() {
                        if (self.is_init) {
                            return;
                        }
                        var _self = this;
                        // 设置选中
                        var $li = $(_self.wrapper).find("li");
                        $li.removeAttr("selected");
                        $li.eq(this.currPageY).attr("selected", "true");
                        setTimeout(function() {
                            self.$warpper.find("ul").css("background-color", "#fff");
                        }, 10);
                        // 多个选项选的时候
                        if (self.$scroll_wrappers.length > 1) {
                            var val_arr = [];
                            //self.$warpper.find('ul').css('background-color','#f90');
                            var $selected_obj_arr = self.$warpper.find("li[selected]");
                            for (var n = 0; n < $selected_obj_arr.length; n++) {
                                var $selected_obj = $selected_obj_arr.eq(n);
                                var value = $selected_obj.attr("data-value");
                                var text = $selected_obj.html();
                                var id = $selected_obj.attr("data-id");
                                val_arr[n] = {
                                    value: value,
                                    text: text,
                                    id: id
                                };
                            }
                            if (self.is_show) {
                                self.trigger("change:options", val_arr, _self);
                            }
                        } else {
                            var value = $li.eq(this.currPageY).attr("data-value");
                            var text = $li.eq(this.currPageY).html();
                            var id = $li.eq(this.currPageY).attr("data-id");
                            self.trigger("change:options", [ {
                                value: value,
                                text: text,
                                id: id
                            } ], _self);
                        }
                    });
                }
            });
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
            var len = self.$scroll_wrappers.length;
            var item_width = utility.int(100 / len);
            for (var i = 0; i < len; i++) {
                var scroll_obj = self.$scroll_view_obj["scroll_" + i];
                $(scroll_obj.wrapper).css("width", item_width + "%");
                scroll_obj.refresh();
            }
            // 此处目的是为了延时触发change:options事件
            setTimeout(function() {
                self.is_show = true;
                // 第二次循环滚动条组，为了实现滚动到指定位置，但不是最好做法
                for (var i = 0; i < self.$scroll_wrappers.length; i++) {
                    var idx_obj = self.$scroll_wrappers[i].find('li[selected="true"]');
                    self.$scroll_view_obj["scroll_" + i].scrollToElement(idx_obj[0], 0);
                }
            }, 0);
            $("body").css("pointer-events", "none");
            self.$el.css("pointer-events", "auto");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
            self.is_show = false;
            setTimeout(function() {
                $("body").css("pointer-events", "auto");
            }, 500);
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
});

define("pai/wx-1.1.0/ui/m_select/tpl/m_select-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<div class="ui-dialog fn-hide" >\r\n    <div class="ui-mask"></div>\r\n    <div class="ui-dialog-container-out">\r\n        <div class="ui-dialog-container" >\r\n            <div class="ui-dialog-content ui-select" data-role="content" >\r\n                <div data-role="select-wrapper" class="select-wrapper" style="overflow:hidden;">\r\n\r\n                </div>\r\n                <div data-role="selected-area" class="selected-area" style="height: 1px;background: #cccccc;border: none;"></div>\r\n                <div data-role="selected-area" class="selected-area" style="height: 1px;background: #ccc;margin-top: 18px;border: none;"></div>\r\n            </div>\r\n            <footer class="ui-dialog-footer">\r\n                <button class="ui-dialog-button" data-role="confirm">确认</button>\r\n                <button class="ui-dialog-button" data-role="cancel">取消</button>\r\n            </footer>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>';
    });
});

define("pai/wx-1.1.0/ui/m_select/tpl/m_options-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n    ";
            stack1 = helpers.each.call(depth0, depth0 && depth0.options, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n        <section class="select-container" data-role="scroll_warpper">\r\n            <ul >\r\n                ';
            stack1 = helpers.each.call(depth0, depth0, {
                hash: {},
                inverse: self.noop,
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            </ul>\r\n        </section>\r\n    ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <li data-id="' + escapeExpression((stack1 = depth0 && depth0.id, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-value="' + escapeExpression((stack1 = depth0 && depth0.value, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.selected, {
                hash: {},
                inverse: self.noop,
                fn: self.program(4, program4, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ">" + escapeExpression((stack1 = depth0 && depth0.text, typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</li>\r\n                ";
            return buffer;
        }
        function program4(depth0, data) {
            var buffer = "", stack1;
            buffer += 'selected="' + escapeExpression((stack1 = depth0 && depth0.selected, typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"';
            return buffer;
        }
        stack1 = helpers["if"].call(depth0, depth0 && depth0.options, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

/**
 * 下拉刷新组件
 */
define("pai/wx-1.1.0/widget/pull_down/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var pull_down_tpl = require("pai/wx-1.1.0/widget/pull_down/tpl/pull_down-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: pull_down_tpl
        },
        events: {},
        /**
         * 设置下拉刷新的样式
         * @param type
         * @private
         */
        set_pull_down_style: function(type) {
            var self = this;
            var style = "pull-down-container ";
            var text = "下拉刷新";
            // 重置样式
            self.$pull_down_container.attr("class", style);
            switch (type) {
              case "release":
                style += "release";
                text = "释放刷新";
                self.$pull_down_container.find("i").removeClass(" ui-loading-animate");
                break;

              case "loading":
                style += "loading";
                text = "正在加载";
                self.$pull_down_container.find("i").addClass(" ui-loading-animate");
                break;

              case "loaded":
                style += "loaded";
                text = "下拉刷新";
                self.$pull_down_container.find("i").removeClass(" ui-loading-animate");
                break;
            }
            //icon-loading-40x40
            //icon-more-24x32
            self.$("[data-role=pull-down-text]").html(text);
            self.$pull_down_container.addClass(style);
        },
        setup: function() {
            var self = this;
            self.$pull_down_container = self.$el;
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
});

define("pai/wx-1.1.0/widget/pull_down/tpl/pull_down-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div data-role="pull-down" class="pull-down-container " style="top: ';
        if (helper = helpers.top) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.top;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n    <div class="icon-container">\r\n        <i class="icon icon-more-24x32"></i>\r\n    </div>\r\n    <span class="text" data-role="pull-down-text">下拉刷新</span>\r\n</div>\r\n';
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/hot/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return "\r\n        <style>\r\n            .index-hot .native_scroll > *\r\n            {\r\n                -webkit-transform: translateZ(0px);\r\n            }\r\n\r\n            .index-hot .native_scroll > * {\r\n                -webkit-transform: translate3d(0,0,0);\r\n            }\r\n        </style>\r\n    ";
        }
        buffer += '\r\n\r\n<main role="main" class="index-hot">\r\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_android, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n    <header class="nav-header hot-find-nav-header">\r\n        <div class="place_em"></div>\r\n        <div class="place" data-role="select-loc">\r\n            <div data-role="select-city">广州</div><i class="icon icon-allow-22x12 "></i>\r\n        </div>\r\n\r\n        <hgroup class="">\r\n            <h3 class="title has-new current" data-role="select-hot">热门</h3>\r\n            <h3 class="title has-new" data-role="select-find">发现</h3>\r\n        </hgroup>\r\n        \r\n        <h3 data-role="head-refresh" class="title fn-hide">约yue</h3>\r\n\r\n        <div class="right-button-wrap r-icon" data-role="search">\r\n\r\n\r\n            <i class="icon icon-search-top-m icon-fix-exp"></i>\r\n        </div>\r\n        <div class="right-button-wrap r-icon fn-hide" data-role="select-more">\r\n            <!--div class="search-more-wrap fn-hide" data-role="search">\r\n                <i class="icon icon-search-top-m"></i>\r\n            </div>\r\n            <div class="select-more-wrap" data-role="select-more">\r\n                <i class="icon icon-sao-50x50 more-select-icon"></i>\r\n            </div-->\r\n            <div class="search-more-wrap">\r\n                <i class="icon icon-add-40x40-new more-select-icon"></i>\r\n            </div>\r\n        </div>\r\n\r\n    </header>\r\n\r\n\r\n            <div data-role="container" class="content-body" >\r\n\r\n                <div >\r\n\r\n\r\n                    <div class="new-index-hot" >\r\n\r\n                        <div class="pop-model-car-tips-v2 fn-hide" data-role="pop-model-car-tips-v2">\r\n                            <div class="lbox fldi">\r\n                                <i class="icon icon-wx-icon"></i>\r\n                                <div class="s-left">\r\n                                    <p>约yue</p>\r\n                                    <p>10000+模特随心约</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class="rbox fldi">\r\n                                <button class="ui-button ui-button-primary ui-button-size-min ui-button-block ">\r\n                                    <span class="ui-button-content">立即打开</span>\r\n                                </button>\r\n                            </div>\r\n\r\n                        </div>\r\n                        \r\n\r\n                        <div data-role="refresh-bar-container" class="refresh-bar-container">\r\n\r\n                        </div>\r\n\r\n                        <div data-role="ad-pic-out" class="ad-pic-out">\r\n\r\n                        </div>\r\n\r\n                        <div class="item-wrap" data-role="item-wrap" style="padding-bottom: 0;">\r\n                        </div>\r\n                        <div class="w-100" style="height: 65px;"></div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n\r\n            \r\n\r\n</main>\r\n\r\n';
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/hot/tpl/item_v2-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data, depth1) {
            var buffer = "", stack1;
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.list, {
                hash: {},
                inverse: self.noop,
                fn: self.programWithDepth(2, program2, data, depth1),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n";
            return buffer;
        }
        function program2(depth0, data, depth2) {
            var buffer = "", stack1, helper;
            buffer += '\r\n        <div class="item">\r\n            <div class="part-a">\r\n                <div class="lbox ">';
            if (helper = helpers.title) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.title;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                <div class="rbox more ';
            stack1 = helpers.unless.call(depth0, depth0 && depth0.more, {
                hash: {},
                inverse: self.noop,
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" data-to-rank data-role="to_';
            if (helper = helpers.rank_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.rank_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '<i class="icon icon-allow-22x12"></i></div>\r\n            </div>\r\n            <div class="part-b">\r\n                <ul class="new-list" data-role="';
            if (helper = helpers.key) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.key;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                    ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.list, {
                hash: {},
                inverse: self.noop,
                fn: self.programWithDepth(5, program5, data, depth2),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.has_next_page, {
                hash: {},
                inverse: self.noop,
                fn: self.program(10, program10, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            return buffer;
        }
        function program3(depth0, data) {
            return "fn-hide";
        }
        function program5(depth0, data, depth3) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                        <li data-user-id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="grid" data-url="';
            if (helper = helpers.url) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.url;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-link-type="';
            if (helper = helpers.link_type) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.link_type;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                            <div class="avatar-size-mod" style="width:' + escapeExpression((stack1 = depth3 && depth3.max_w, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "px;height:" + escapeExpression((stack1 = depth3 && depth3.max_h, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + 'px;">\r\n                                <i class="img image-img avatar-size-img" style="background-size: cover;" data-lazyload="';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></i>\r\n                                ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.txt1, {
                hash: {},
                inverse: self.noop,
                fn: self.program(6, program6, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n                            </div>\r\n                            <div class="avatar-info">\r\n                                <h3>';
            if (helper = helpers.txt3) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.txt3;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</h3>\r\n                                ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.txt4, {
                hash: {},
                inverse: self.noop,
                fn: self.program(8, program8, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                            </div>\r\n                        </li>\r\n                    ";
            return buffer;
        }
        function program6(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                                    <div>\r\n                                        <span class="score">';
            if (helper = helpers.txt1) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.txt1;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span>\r\n                                        <span class="text">';
            if (helper = helpers.txt2) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.txt2;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</span>\r\n                                    </div>\r\n                                ";
            return buffer;
        }
        function program8(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "<label>";
            if (helper = helpers.txt4) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.txt4;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</label>";
            return buffer;
        }
        function program10(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <div class="btn-option" data-role="more" data-add="';
            if (helper = helpers.key) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.key;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"><i class="icon icon-r-16x26-cur"></i></div>\r\n        ';
            return buffer;
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.datas, {
            hash: {},
            inverse: self.noop,
            fn: self.programWithDepth(1, program1, data, depth0),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

define("pai/wx-1.1.0/model_date/hot/tpl/line_v2-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data, depth2) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data, depth3) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <li data-user-id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="model">\r\n        <div class="avatar-size-mod" style="width:' + escapeExpression((stack1 = depth3 && depth3.max_w, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "px;height:" + escapeExpression((stack1 = depth3 && depth3.max_h, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + 'px;">\r\n            <i class="img image-img avatar-size-img" data-lazyload="';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></i>\r\n            <div>\r\n                <span class="score">';
            if (helper = helpers.num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span>\r\n                <span class="text">';
            if (helper = helpers.unit) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.unit;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span>\r\n            </div>\r\n        </div>\r\n        <div class="avatar-info">\r\n            <h3>';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</h3>\r\n            <label>";
            if (helper = helpers.unit) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.unit;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</label>\r\n        </div>\r\n    </li>\r\n";
            return buffer;
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.lists, {
            hash: {},
            inverse: self.noop,
            fn: self.programWithDepth(1, program1, data, depth2),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

define("pai/wx-1.1.0/ui/dialog/index-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var dialogTpl = require("pai/wx-1.1.0/ui/dialog/dialog-debug.handlebars");
    var Dialog = View.extend({
        attrs: {
            content: "",
            style: null,
            buttons: [],
            hasMask: true,
            template: dialogTpl,
            mask_is_close_btn: true
        },
        templateHelpers: {
            formatString: templateHelpers.formatString
        },
        events: {
            "tap [data-role=button]": "_buttons",
            "tap [data-role=close]": "_close_this_view"
        },
        _buttons: function(event) {
            var self = this;
            var $target = $(event.currentTarget);
            var buttonName = $target.attr("data-name");
            self.trigger("tap:button:" + buttonName, $target, event);
            self.trigger("tap:button", $target, event);
        },
        /**
         * 构建element
         * @private
         */
        _parseElement: function() {
            var self = this;
            console.log(self);
            var buttons = self.get("buttons");
            self.set("templateModel", {
                content: self.get("content"),
                hasMask: self.get("hasMask"),
                hasButtons: $.isArray(buttons) && buttons.length,
                buttons: buttons,
                mask_is_close_btn: !self.get("mask_is_close_btn") ? self.get("mask_is_close_btn") : true
            });
            View.prototype._parseElement.apply(self);
            self.$container = self.$("[data-role=container]");
            self.$content = self.$("[data-role=content]");
            self.$footer = self.$("[data-role=footer]");
            var style = self.get("style");
            style && self.$container.css(style);
        },
        /**
         * 隐藏按钮区域
         * @returns {Dialog}
         */
        hideButtons: function() {
            var self = this;
            if (self.$footer) {
                self.$footer.remove();
                self.$footer = null;
            }
            return self;
        },
        setContent: function(str) {
            var self = this;
            self.$content.html(str);
            self.trigger("change:content", str);
            return self;
        },
        /**
         * 显示
         * @returns {Dialog}
         */
        show: function() {
            var self = this;
            if (self.trigger("before:show") === false) {
                return self;
            }
            if (!self.rendered) {
                self.render();
            }
            self.$el.removeClass("fn-hide");
            self.trigger("after:show");
            return self;
        },
        /**
         * 隐藏
         * @returns {Dialog}
         */
        hide: function() {
            var self = this;
            if (self.trigger("before:hide") === false) {
                return self;
            }
            self._visible = false;
            self.$el.addClass("fn-hide");
            self.trigger("after:hide");
            return self;
        },
        /**
         * 销毁
         * @returns {Dialog}
         */
        destroy: function() {
            var self = this;
            View.prototype.remove.call(self);
            View.prototype.destroy.call(self);
            return self;
        },
        _close_this_view: function() {
            var self = this;
            //self.hide().destroy();
            self.hide();
        }
    });
    module.exports = Dialog;
});

define("pai/wx-1.1.0/ui/dialog/dialog-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, options, self = this, functionType = "function", escapeExpression = this.escapeExpression, helperMissing = helpers.helperMissing;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '<div class="ui-mask" ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.mask_is_close_btn, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "></div>";
            return buffer;
        }
        function program2(depth0, data) {
            return 'data-role="close"';
        }
        function program4(depth0, data) {
            var buffer = "", stack1;
            buffer += '\n            <footer class="ui-dialog-footer" data-role="footer">\n                ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.buttons, {
                hash: {},
                inverse: self.noop,
                fn: self.program(5, program5, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\n            </footer>\n            ";
            return buffer;
        }
        function program5(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\n                <button class="ui-dialog-button" data-role="button" data-name="';
            if (helper = helpers.name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</button>\n                ";
            return buffer;
        }
        buffer += '<div class="ui-dialog">\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.hasMask, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\n    <div class="ui-dialog-container-out">\n        <div class="ui-dialog-container" data-role="container">\n            <div class="ui-dialog-content" data-role="content">' + escapeExpression((helper = helpers.formatString || depth0 && depth0.formatString, 
        options = {
            hash: {},
            data: data
        }, helper ? helper.call(depth0, depth0 && depth0.content, options) : helperMissing.call(depth0, "formatString", depth0 && depth0.content, options))) + "</div>\n\n            ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.hasButtons, {
            hash: {},
            inverse: self.noop,
            fn: self.program(4, program4, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\n        </div>\n    </div>\n</div>";
        return buffer;
    });
});

/**
 *
 */
define("pai/wx-1.1.0/model_date/hot/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    module.exports = collection.extend({
        url: global_config.ajax_url.hot,
        initialize: function(options) {
            var self = this;
            self._setup_events();
            //页码设置
            self.pages = {
                home_page: 0
            };
        },
        parse: function(response) {
            if (response.result_data) {
                if (response.result_data.list) {
                    return response.result_data.list;
                }
                return response.result_data;
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self._fetch_xhr = xhr;
                self.set_state("sending");
            });
            self.on("complete:fetch", function(response, xhrOptions) {
                self.get_state != "stopRequest" && self.set_state("free");
                delete self._fetch_xhr;
            });
            self.on("error:add:fetch", function(response, xhrOptions) {});
            self.on("success:fetch", function(response, xhrOptions) {
                if (response.result_data.code) {
                    if (xhrOptions.reset) {
                        self.set_current_page(1, response.result_data.type);
                    } else {
                        var current_page = self.get_current_page(response.result_data.type);
                        self.set_current_page(++current_page, response.result_data.type);
                    }
                }
            });
        },
        get_attrs: function() {
            var self = this;
            return self.attrs;
        },
        set_attrs: function(data) {
            var self = this;
            self.attrs = $.extend({}, self.attrs, data);
        },
        get_datas: function(options) {
            var self = this;
            //            if(utility.storage.get('location')){
            //                tip.show('数据异常','loading',{
            //                    delay:1000
            //                });
            //                return;
            //            }
            var location_id = utility.storage.get("location") && utility.storage.get("location").location_id;
            var data = {
                location_id: location_id,
                type: options.type || "home_page",
                page: options.page || 1
            };
            self.fetch({
                remove: options.page === 1,
                reset: options.page === 1,
                data: data,
                cache: false,
                beforeSend: function(xhr, xhrOptions) {
                    self.trigger("before:fetch", xhr, xhrOptions);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                },
                success: function(collection, response, opt) {
                    if (options.type == "") {
                        self.default_page(response);
                    }
                    self.trigger("success:fetch", response, opt);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                }
            });
            return self;
        },
        /**
         * 获取当前状态
         * @returns {*}
         */
        get_state: function() {
            return this._send_state;
        },
        /**
         * 设置当前状态
         * @param s
         * @returns {exports}
         */
        set_state: function(s) {
            var self = this;
            self._send_state = s;
            return self;
        },
        /**
         * 初始化页码
         */
        default_page: function(response) {
            var self = this;
            console.log(response);
            var list = response.result_data.list;
            // 增加字段判断
            // modify by hudw 2015.2.5
            if (list) {
                for (var i = 0; i < list.length; i++) {
                    var obj = list[i];
                    var temp = {};
                    temp[obj.key] = 1;
                    self.pages = $.extend({}, self.pages, temp);
                }
                console.log(self.pages);
            }
        },
        /**
         * 获取当前页码
         * @returns {*|number}
         */
        get_current_page: function(style) {
            return this.pages[style] || 0;
        },
        /**
         * 设置当前页码
         * @param page
         * @param style
         */
        set_current_page: function(page, style) {
            page = utility.int(page);
            page && (this.pages[style] = page);
        }
    });
});

/**
 *  封装collection ，预留以后进行扩展
 *  hdw 2014.8.14
 */
define("pai/wx-1.1.0/common/collection-debug", [ "$-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var Collection = Backbone.Collection.extend({});
    module.exports = Collection;
});

/**
 * nolestLam 2014/9/16.
 */
/**
 * 首次进入app引导
 */
define("pai/wx-1.1.0/ui/guide/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var guide_tpl = require("pai/wx-1.1.0/ui/guide/tpl/guide-debug.handlebars");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    module.exports = View.extend({
        attrs: {
            template: guide_tpl
        },
        events: {},
        _setup_scroll: function() {
            var self = this;
            console.log(Scroll);
            var view_scroll_obj = Scroll(self.$container, {
                bounce: false,
                snap: true,
                snapThreshold: self.threshold,
                momentum: false,
                hScroll: true,
                vScroll: false,
                hScrollbar: false,
                vScrollbar: false,
                checkDOMChanges: true
            });
            view_scroll_obj.on("scrollEnd", function() {
                var _self = this;
                if (self.page_num == _self.currPageX + 1) {
                    setTimeout(function() {
                        self.trigger("guide_hide");
                    }, 100);
                }
            });
            self.$container.find('[data-role="fail_last"]').on("tap", function() {
                self.trigger("guide_hide");
            });
            /*view_scroll_obj.on('scrollMoveAfter',function()
            {
                var _self = this;

                if(self.current_page == self.page_num && _self.maxScrollX-_self.x > self.threshold && !self.is_run)
                {
                    self.is_run = true;

                    //self.view_scroll_obj.scrollTo(_self.maxScrollX - utility.get_view_port_width());

                    self.is_over_end = true;

                }

            });*/
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.refresh();
        },
        _setup_event: function() {
            var self = this;
        },
        current_page: function() {
            var self = this;
            return self.current_page;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="guide-body"]');
            self.$container.height(self.reset_viewport_height());
            self.$guide_container = self.$('[data-role="guide-page-warp-box"]');
            self.current_page = 1;
            self.is_run = false;
            self.threshold = utility.get_view_port_width() / 5;
            self._setup_pages();
            self._setup_event();
            self._setup_scroll();
        },
        _setup_pages: function() {
            var self = this;
            var pages = self.get("page_tpl");
            var prepare_String = pages({
                width: utility.get_view_port_width,
                height: utility.get_view_port_height
            });
            var prepare_obj = $(prepare_String);
            self.page_width = utility.get_view_port_width();
            //最后一页透明
            self.page_num = prepare_obj.find(".page").length;
            self.$guide_container.width(self.page_width * self.page_num);
            self.$('[data-role="guide-page-warp-box"]').html(prepare_String);
        },
        reset_viewport_width: function() {
            return utility.get_view_port_width;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height;
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
});

define("pai/wx-1.1.0/ui/guide/tpl/guide-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<div class="guide-page">\r\n    <div class="guide-page-body" data-role="guide-body" >\r\n        <div class="guide-page-warp-box" data-role="guide-page-warp-box" style="background: rgba(255,255,255,0);">\r\n        </div>\r\n    </div>\r\n</div>';
    });
});

define("pai/wx-1.1.0/ui/guide/tpl/guide_hot-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div class="guide-page-inside">\r\n    <div class="page" style="width:';
        if (helper = helpers.width) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.width;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height: ";
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n        <div class="page-inside" style="background: url(\'/mobile/images/guide_pic/camera/guide_camera_1.png\') no-repeat;background-size: 100%;"></div>\r\n    </div>\r\n    <div class="page" style="width:';
        if (helper = helpers.width) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.width;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height: ";
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n        <div class="page-inside" style="background: url(\'/mobile/images/guide_pic/camera/guide_camera_2.png\') no-repeat;background-size: 100%;"></div>\r\n    </div>\r\n    <div class="page" data-role="fail_last" style="width:';
        if (helper = helpers.width) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.width;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height: ";
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n        <div class="page-inside" style="background: url(\'/mobile/images/guide_pic/camera/guide_camera_3.png\') no-repeat;background-size: 100%;"></div>\r\n    </div>\r\n    <div class="page" data-role="last" style="width:';
        if (helper = helpers.width) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.width;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height: ";
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px;background:rgba(0,0,0,0.5);">\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n';
        return buffer;
    });
});

/**
 * 模特图 模型
 * hdw 2014.8.13
 */
define("pai/wx-1.1.0/model_date/hot/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        "default": {
            user_id: "",
            city: 0,
            chest: 0,
            cup: "",
            waist: 0,
            hip: 0,
            height: 0,
            weight: 0,
            intro: "",
            honor: "",
            user_level: "",
            cameraman_require: 0,
            set_top: 0,
            add_time: 0,
            update_time: 0,
            pv: 0,
            user_icon_165: "",
            user_icon_468: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        /**
         * 获得广告图数据
         * @param data
         */
        get_ad_pic: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.ad_pic,
                data: data,
                cache: false,
                beforeSend: function() {
                    self.trigger("before:ad_pic:fetch");
                },
                success: function(model, response, options) {
                    self.trigger("success:ad_pic:fetch", response, options);
                },
                error: function(model, response, options) {
                    self.trigger("error:ad_pic:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:ad_pic:fetch", xhr, status);
                }
            });
        },
        get_city_change: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_city_change,
                data: data,
                cache: false,
                beforeSend: function() {
                    self.trigger("before:get_city_change:fetch");
                },
                success: function(model, response, options) {
                    self.trigger("success:get_city_change:fetch", response, options);
                },
                error: function(model, response, options) {
                    self.trigger("error:get_city_change:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_city_change:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 首页 - 城市选择 基础页面框架
 * 汤圆 2014.8.18
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/location/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/location/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/location/collection-debug", "pai/wx-1.1.0/location/model-debug", "pai/wx-1.1.0/common/collection-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var location_view = require("pai/wx-1.1.0/location/view-debug");
    var location_collection = require("pai/wx-1.1.0/location/collection-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "城市选择",
            route: {
                "location(/:from)": "location"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                console.log("123");
                self.collection = new location_collection();
                self.location_view_obj = new location_view({
                    from: route_params_arr[0],
                    collection: self.collection,
                    parentNode: self.$el
                }).render();
                console.log("2");
            },
            page_before_show: function() {
                var self = this;
                console.log("before_show");
                if (I_App.isPaiApp) {
                    //I_App.remove_front();
                    I_App.get_gps({}, function(data) {
                        self.collection.get_location_by_gps({
                            "long": data.long,
                            lat: data.lat
                        });
                    });
                }
                self.collection.on("success:get_location_fetch", function(response, options) {
                    var city = response.result_data.data.city;
                    var location_id = response.result_data.data.location_id;
                    self.location_view_obj.$('[data-role="now-city"]').attr("data-location-id", location_id).attr("data-location-name", city);
                    self.location_view_obj.$('[data-role="now-city-text"]').html(city);
                });
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 首页 - 城市选择
 * 汤圆 2014.1.8
 */
define("pai/wx-1.1.0/location/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var location = require("pai/wx-1.1.0/location/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var location_data = require("pai/wx-1.1.0/common/location_data-debug");
    var city_tpl = require("pai/wx-1.1.0/location/tpl/city-debug.handlebars");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var gps_now_city = require("pai/wx-1.1.0/location/tpl/gps_now_city-debug.handlebars");
    var location_view = View.extend({
        attrs: {
            template: location
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=date-city]": function(ev) {
                var self = this;
                var $current_target = $(ev.currentTarget);
                var city_data = {
                    location_id: $current_target.attr("data-location-id"),
                    location_name: $current_target.attr("data-location-name")
                };
                utility.storage.set("location", city_data);
                cookie.set("yue_location_id", city_data.location_id);
                self.location_page_back();
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                // self.location_page_back();
                page_control.back();
            },
            'tap [data-role="now-city"]': function(ev) {
                var self = this;
                self.is_open_city($(ev.currentTarget));
            }
        },
        //判断当前城市是否在全部开通城市中
        is_open_city: function(ev) {
            var self = this;
            var $current_target = ev;
            var now_city_txt = $current_target.attr("data-location-name");
            // console.log(now_city_txt);
            // var now_city_txt = '茂名';
            var all_open_city_list = [];
            $.each(self.all_open_city, function(i, val) {
                all_open_city_list.push(val.city);
            });
            var is_arr = $.inArray(now_city_txt, all_open_city_list);
            if (is_arr == -1) {
                m_alert.show("该城市暂未开通服务，敬请期待！", "error");
                return;
            }
            var city_data = {
                location_id: $current_target.attr("data-location-id"),
                location_name: $current_target.attr("data-location-name")
            };
            utility.storage.set("location", city_data);
            cookie.set("yue_location_id", city_data.location_id);
            self.location_page_back();
        },
        location_page_back: function() {
            var self = this;
            if (self.get("from") == "from_hot") {
                page_control.navigate_to_page("hot");
            } else if (self.get("from") == "from_find") {
                page_control.navigate_to_page("find");
            } else {
                console.log("from_no_where");
                //会白屏
                page_control.back();
            }
            // modify by hudw 2015.2.5
            // 不是最好的解决方案，强制刷新
            m_alert.show("正在切换地区", "loading", {
                delay: -1
            });
            setTimeout(function() {
                window.location.reload();
            }, 2e3);
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.collection.on("reset", self._reset, self).on("add", self._add_one, self).on("before:fetch", function(response, xhr) {
                m_alert.show("加载中...", "loading");
            }).on("success:fetch", function(response, xhr) {
                m_alert.hide();
                self._render_city(response, xhr);
            }).on("error:fetch", function(response, xhr) {
                m_alert.show("网络异常", "error", {
                    delay: 1e3
                });
                self._render_city(response, xhr);
            }).on("complete:fetch", function(xhr, status) {});
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                self._setup_scroll();
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            }).once("render", self._render_after, self);
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _reset: function() {
            var self = this;
            self.collection.length && self.collection.each(self._add_one, self);
        },
        _add_one: function(model) {
            var self = this;
            self._render_queue.push(model.toJSON());
            return self;
        },
        /**
         * 渲染城市
         * @param response
         * @param options
         * @private
         */
        _render_city: function(response, xhr) {
            var self = this;
            var render_queue = self._render_queue[0];
            //全部开通城市数据
            self.all_open_city = render_queue.data;
            var html_str = city_tpl({
                list: render_queue
            });
            self.$hot_city_container.html(html_str);
            self.trigger("update_list", response, xhr);
        },
        _render_after: function() {
            var self = this;
            // self.$('[data-role="now-city-text"]').html(utility.storage.get('location').location_name)
            self.collection.get_list();
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 渲染队列
            self._render_queue = [];
            // 滚动容器
            self.$container = self.$("[data-role=container]");
            // 热门城市容器
            self.$hot_city_container = self.$("[data-role=hot-city-container]");
            self.$gps_txt = self.$("[data-role=gps_txt]");
            self.$now_city_ele = self.$("[data-role=now-city-ele]");
            // 安装事件
            self._setup_events();
            // 安装底部导航
            //self._setup_footer();
            //微信版本判断
            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") //(global_config.WeiXin_Version.indexOf('6.0.2') != -1|| global_config.WeiXin_Version.indexOf('6.1') != -1)
            {
                WeiXinSDK.ready(function() {
                    //获取地区
                    WeiXinSDK.getLocation({
                        success: function(res) {
                            //var latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90
                            //var longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。
                            //var speed = res.speed; // 速度，以米/每秒计
                            //var accuracy = res.accuracy; // 位置精度
                            utility.ajax_request({
                                url: global_config.ajax_url.get_location_by_gps,
                                data: {
                                    "long": res.longitude,
                                    lat: res.latitude
                                },
                                cache: false,
                                success: function(response, xhr, options) {
                                    var location_id = response.result_data.data.location_id;
                                    var city = response.result_data.data.city;
                                    var address = response.result_data.data.address;
                                    var province = response.result_data.data.province;
                                    cookie.set("yue_location_id", location_id);
                                    var location_obj = {
                                        location_id: location_id,
                                        location_name: city
                                    };
                                    utility.storage.set("location", location_obj);
                                    // alert("OK" + JSON.stringify(response));
                                    self.$gps_txt.html("GPS当前定位城市");
                                    var gps_now_city_html = gps_now_city(location_obj);
                                    self.$now_city_ele.html(gps_now_city_html);
                                },
                                error: function(collection, response, options) {
                                    self.$gps_txt.html("GPS城市定位失败，默认显示");
                                    self.can_not_gps();
                                },
                                complete: function(xhr, status) {}
                            });
                        },
                        cancel: function() {
                            alert("您不允许GPS定位当前城市，默认显示");
                            self.$gps_txt.html("显示默认城市");
                            self.can_not_gps();
                        },
                        fail: function(xhr, status) {
                            self.$gps_txt.html("GPS城市定位失败，默认显示");
                            self.can_not_gps();
                        }
                    });
                });
            } else {
                self.can_not_gps();
            }
        },
        // 如果微信版本小于6.1，与用户不允许gps，默认显示广州;
        can_not_gps: function() {
            var self = this;
            var gps_now_city_html = gps_now_city({
                location_id: "101029001",
                location_name: "广州"
            });
            console.log(utility.storage.get("location"));
            self.$now_city_ele.html(gps_now_city_html);
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = location_view;
});

define("pai/wx-1.1.0/location/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="location ">\r\n    \r\n    <header class="nav-header city-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">选择城市</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header> \r\n\r\n    <div data-role="container" class="content-body"  >\r\n        <div>\r\n            <div class="index-select-city">\r\n                    <div class="now-city">\r\n                        <div class="gps"><i class="icon icon-gps"></i><span data-role="gps_txt">GPS定位中...</span></div> <!-- GPS当前定位城市 -->\r\n\r\n                        <div data-role="now-city-ele">\r\n                            \r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div class="" data-role="hot-city-container">\r\n                        \r\n                    </div>\r\n                    \r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</main>';
    });
});

/**
 * 地区数据
 * hdw 2014.8.20
 */
define("pai/wx-1.1.0/common/location_data-debug", [], function(require, exports, module) {
    var province_json_data = [ {
        id: 101029,
        value: "广东",
        text: "广东"
    }, {
        id: 101001,
        value: "北京",
        text: "北京"
    }, {
        id: 101002,
        value: "天津",
        text: "天津"
    }, {
        id: 101009,
        value: "辽宁",
        text: "辽宁"
    }, {
        id: 101008,
        value: "吉林",
        text: "吉林"
    }, {
        id: 101014,
        value: "山西",
        text: "山西"
    }, {
        id: 101003,
        value: "上海",
        text: "上海"
    }, {
        id: 101019,
        value: "湖北",
        text: "湖北"
    }, {
        id: 101031,
        value: "海南",
        text: "海南"
    }, {
        id: 101022,
        value: "四川",
        text: "四川"
    }, {
        id: 101015,
        value: "陕西",
        text: "陕西"
    }, {
        id: 101033,
        value: "香港",
        text: "香港"
    }, {
        id: 101004,
        value: "重庆",
        text: "重庆"
    }, {
        id: 101005,
        value: "河北",
        text: "河北"
    }, {
        id: 101006,
        value: "河南",
        text: "河南"
    }, {
        id: 101007,
        value: "黑龙江",
        text: "黑龙江"
    }, {
        id: 101010,
        value: "山东",
        text: "山东"
    }, {
        id: 101011,
        value: "内蒙古",
        text: "内蒙古"
    }, {
        id: 101012,
        value: "江苏",
        text: "江苏"
    }, {
        id: 101013,
        value: "安徽",
        text: "安徽"
    }, {
        id: 101016,
        value: "甘肃",
        text: "甘肃"
    }, {
        id: 101017,
        value: "浙江",
        text: "浙江"
    }, {
        id: 101018,
        value: "江西",
        text: "江西"
    }, {
        id: 101020,
        value: "湖南",
        text: "湖南"
    }, {
        id: 101021,
        value: "贵州",
        text: "贵州"
    }, {
        id: 101023,
        value: "云南",
        text: "云南"
    }, {
        id: 101024,
        value: "新疆",
        text: "新疆"
    }, {
        id: 101025,
        value: "宁夏",
        text: "宁夏"
    }, {
        id: 101026,
        value: "青海",
        text: "青海"
    }, {
        id: 101027,
        value: "西藏",
        text: "西藏"
    }, {
        id: 101028,
        value: "广西",
        text: "广西"
    }, {
        id: 101030,
        value: "福建",
        text: "福建"
    }, {
        id: 101032,
        value: "台湾",
        text: "台湾"
    }, {
        id: 101034,
        value: "澳门",
        text: "澳门"
    }, {
        id: 101035,
        value: "其他",
        text: "其他"
    }, {
        id: 102001,
        value: "海外",
        text: "海外"
    }, {
        id: 102002,
        value: "海外其它",
        text: "海外其它"
    } ];
    var city_json_data = {
        "101001": [ {
            id: 101001001,
            value: "北京市",
            text: "北京市"
        }, {
            id: 101001002,
            value: "怀柔",
            text: "怀柔"
        }, {
            id: 101001004,
            value: "顺义",
            text: "顺义"
        }, {
            id: 101001005,
            value: "延庆县",
            text: "延庆县"
        }, {
            id: 101001006,
            value: "密云县",
            text: "密云县"
        }, {
            id: 101001008,
            value: "平谷",
            text: "平谷"
        }, {
            id: 101001003,
            value: "大兴",
            text: "大兴"
        }, {
            id: 101001007,
            value: "昌平",
            text: "昌平"
        }, {
            id: 101001009,
            value: "通州区",
            text: "通州区"
        }, {
            id: 101001010,
            value: "燕山",
            text: "燕山"
        } ],
        "101002": [ {
            id: 101002001,
            value: "天津市",
            text: "天津市"
        }, {
            id: 101002002,
            value: "宝坻县",
            text: "宝坻县"
        }, {
            id: 101002003,
            value: "静海县",
            text: "静海县"
        }, {
            id: 101002004,
            value: "武清县",
            text: "武清县"
        }, {
            id: 101002005,
            value: "宁河县",
            text: "宁河县"
        }, {
            id: 101002006,
            value: "蓟县",
            text: "蓟县"
        } ],
        "101003": [ {
            id: 101003001,
            value: "上海市",
            text: "上海市"
        }, {
            id: 101003003,
            value: "南汇县",
            text: "南汇县"
        }, {
            id: 101003005,
            value: "嘉定县",
            text: "嘉定县"
        }, {
            id: 101003007,
            value: "奉贤县",
            text: "奉贤县"
        }, {
            id: 101003008,
            value: "崇明县",
            text: "崇明县"
        }, {
            id: 101003009,
            value: "松江县",
            text: "松江县"
        }, {
            id: 101003010,
            value: "川沙县",
            text: "川沙县"
        }, {
            id: 101003011,
            value: "金山县",
            text: "金山县"
        } ],
        "101004": [ {
            id: 101004001,
            value: "重庆市",
            text: "重庆市"
        } ],
        "101005": [ {
            id: 101005001,
            value: "石家庄",
            text: "石家庄"
        }, {
            id: 101005002,
            value: "邯郸",
            text: "邯郸"
        }, {
            id: 101005003,
            value: "武安",
            text: "武安"
        }, {
            id: 101005004,
            value: "临漳",
            text: "临漳"
        }, {
            id: 101005005,
            value: "磁县",
            text: "磁县"
        }, {
            id: 101005006,
            value: "涉县",
            text: "涉县"
        }, {
            id: 101005007,
            value: "成安",
            text: "成安"
        }, {
            id: 101005008,
            value: "永年",
            text: "永年"
        }, {
            id: 101005009,
            value: "鸡泽",
            text: "鸡泽"
        }, {
            id: 101005010,
            value: "曲周",
            text: "曲周"
        }, {
            id: 101005011,
            value: "邱县",
            text: "邱县"
        }, {
            id: 101005012,
            value: "馆陶",
            text: "馆陶"
        }, {
            id: 101005013,
            value: "大名",
            text: "大名"
        }, {
            id: 101005014,
            value: "魏县",
            text: "魏县"
        }, {
            id: 101005015,
            value: "广平",
            text: "广平"
        }, {
            id: 101005016,
            value: "肥乡",
            text: "肥乡"
        }, {
            id: 101005017,
            value: "新城",
            text: "新城"
        }, {
            id: 101005018,
            value: "容城",
            text: "容城"
        }, {
            id: 101005019,
            value: "易县",
            text: "易县"
        }, {
            id: 101005020,
            value: "涞源",
            text: "涞源"
        }, {
            id: 101005021,
            value: "博野",
            text: "博野"
        }, {
            id: 101005022,
            value: "安国",
            text: "安国"
        }, {
            id: 101005023,
            value: "定州",
            text: "定州"
        }, {
            id: 101005024,
            value: "曲阳",
            text: "曲阳"
        }, {
            id: 101005025,
            value: "唐县",
            text: "唐县"
        }, {
            id: 101005026,
            value: "阜平",
            text: "阜平"
        }, {
            id: 101005027,
            value: "临西",
            text: "临西"
        }, {
            id: 101005028,
            value: "内邱",
            text: "内邱"
        }, {
            id: 101005029,
            value: "临城",
            text: "临城"
        }, {
            id: 101005030,
            value: "柏乡",
            text: "柏乡"
        }, {
            id: 101005031,
            value: "宁晋",
            text: "宁晋"
        }, {
            id: 101005032,
            value: "隆尧",
            text: "隆尧"
        }, {
            id: 101005033,
            value: "巨鹿",
            text: "巨鹿"
        }, {
            id: 101005034,
            value: "新河",
            text: "新河"
        }, {
            id: 101005035,
            value: "南宫",
            text: "南宫"
        }, {
            id: 101005036,
            value: "清河",
            text: "清河"
        }, {
            id: 101005037,
            value: "威县",
            text: "威县"
        }, {
            id: 101005038,
            value: "广宗",
            text: "广宗"
        }, {
            id: 101005039,
            value: "平乡",
            text: "平乡"
        }, {
            id: 101005040,
            value: "南和",
            text: "南和"
        }, {
            id: 101005041,
            value: "任县",
            text: "任县"
        }, {
            id: 101005042,
            value: "沙河",
            text: "沙河"
        }, {
            id: 101005043,
            value: "尚义",
            text: "尚义"
        }, {
            id: 101005044,
            value: "康保",
            text: "康保"
        }, {
            id: 101005045,
            value: "藁城",
            text: "藁城"
        }, {
            id: 101005046,
            value: "栾城",
            text: "栾城"
        }, {
            id: 101005047,
            value: "正定",
            text: "正定"
        }, {
            id: 101005048,
            value: "获鹿",
            text: "获鹿"
        }, {
            id: 101005049,
            value: "井陉",
            text: "井陉"
        }, {
            id: 101005050,
            value: "徐水",
            text: "徐水"
        }, {
            id: 101005052,
            value: "雄县",
            text: "雄县"
        }, {
            id: 101005053,
            value: "安新",
            text: "安新"
        }, {
            id: 101005054,
            value: "高阳",
            text: "高阳"
        }, {
            id: 101005055,
            value: "蠡县",
            text: "蠡县"
        }, {
            id: 101005056,
            value: "望都",
            text: "望都"
        }, {
            id: 101005057,
            value: "顺平",
            text: "顺平"
        }, {
            id: 101005058,
            value: "满城",
            text: "满城"
        }, {
            id: 101005059,
            value: "清苑",
            text: "清苑"
        }, {
            id: 101005060,
            value: "保定",
            text: "保定"
        }, {
            id: 101005061,
            value: "宣化",
            text: "宣化"
        }, {
            id: 101005062,
            value: "张家口",
            text: "张家口"
        }, {
            id: 101005063,
            value: "怀安",
            text: "怀安"
        }, {
            id: 101005064,
            value: "万全",
            text: "万全"
        }, {
            id: 101005065,
            value: "张北",
            text: "张北"
        }, {
            id: 101005066,
            value: "崇礼",
            text: "崇礼"
        }, {
            id: 101005067,
            value: "赤城",
            text: "赤城"
        }, {
            id: 101005068,
            value: "怀来",
            text: "怀来"
        }, {
            id: 101005069,
            value: "涿鹿",
            text: "涿鹿"
        }, {
            id: 101005070,
            value: "蔚县",
            text: "蔚县"
        }, {
            id: 101005071,
            value: "阳原",
            text: "阳原"
        }, {
            id: 101005072,
            value: "兴隆",
            text: "兴隆"
        }, {
            id: 101005073,
            value: "承德",
            text: "承德"
        }, {
            id: 101005074,
            value: "隆化",
            text: "隆化"
        }, {
            id: 101005075,
            value: "围场",
            text: "围场"
        }, {
            id: 101005076,
            value: "平泉",
            text: "平泉"
        }, {
            id: 101005077,
            value: "宽城",
            text: "宽城"
        }, {
            id: 101005078,
            value: "丰宁",
            text: "丰宁"
        }, {
            id: 101005079,
            value: "滦平",
            text: "滦平"
        }, {
            id: 101005080,
            value: "滦南",
            text: "滦南"
        }, {
            id: 101005081,
            value: "丰南",
            text: "丰南"
        }, {
            id: 101005082,
            value: "唐海",
            text: "唐海"
        }, {
            id: 101005083,
            value: "遵化",
            text: "遵化"
        }, {
            id: 101005084,
            value: "滦县",
            text: "滦县"
        }, {
            id: 101005085,
            value: "乐亭",
            text: "乐亭"
        }, {
            id: 101005086,
            value: "丰润",
            text: "丰润"
        }, {
            id: 101005087,
            value: "玉田",
            text: "玉田"
        }, {
            id: 101005088,
            value: "迁西",
            text: "迁西"
        }, {
            id: 101005089,
            value: "迁安",
            text: "迁安"
        }, {
            id: 101005090,
            value: "唐山",
            text: "唐山"
        }, {
            id: 101005091,
            value: "廊坊",
            text: "廊坊"
        }, {
            id: 101005092,
            value: "永清",
            text: "永清"
        }, {
            id: 101005093,
            value: "霸州",
            text: "霸州"
        }, {
            id: 101005094,
            value: "大城",
            text: "大城"
        }, {
            id: 101005095,
            value: "文安",
            text: "文安"
        }, {
            id: 101005096,
            value: "固安",
            text: "固安"
        }, {
            id: 101005097,
            value: "香河",
            text: "香河"
        }, {
            id: 101005098,
            value: "大厂",
            text: "大厂"
        }, {
            id: 101005099,
            value: "三河",
            text: "三河"
        }, {
            id: 101005100,
            value: "黄骅",
            text: "黄骅"
        }, {
            id: 101005101,
            value: "海兴",
            text: "海兴"
        }, {
            id: 101005102,
            value: "盐山",
            text: "盐山"
        }, {
            id: 101005103,
            value: "孟村",
            text: "孟村"
        }, {
            id: 101005104,
            value: "南皮",
            text: "南皮"
        }, {
            id: 101005105,
            value: "东光",
            text: "东光"
        }, {
            id: 101005106,
            value: "吴桥",
            text: "吴桥"
        }, {
            id: 101005107,
            value: "泊头",
            text: "泊头"
        }, {
            id: 101005108,
            value: "沧州",
            text: "沧州"
        }, {
            id: 101005109,
            value: "青县",
            text: "青县"
        }, {
            id: 101005110,
            value: "河间",
            text: "河间"
        }, {
            id: 101005111,
            value: "肃宁",
            text: "肃宁"
        }, {
            id: 101005112,
            value: "任丘",
            text: "任丘"
        }, {
            id: 101005113,
            value: "献县",
            text: "献县"
        }, {
            id: 101005114,
            value: "衡水",
            text: "衡水"
        }, {
            id: 101005115,
            value: "饶阳",
            text: "饶阳"
        }, {
            id: 101005116,
            value: "武强",
            text: "武强"
        }, {
            id: 101005117,
            value: "武邑",
            text: "武邑"
        }, {
            id: 101005118,
            value: "阜城",
            text: "阜城"
        }, {
            id: 101005119,
            value: "景县",
            text: "景县"
        }, {
            id: 101005120,
            value: "故城",
            text: "故城"
        }, {
            id: 101005121,
            value: "枣强",
            text: "枣强"
        }, {
            id: 101005123,
            value: "冀州市",
            text: "冀州市"
        }, {
            id: 101005124,
            value: "深州市",
            text: "深州市"
        }, {
            id: 101005125,
            value: "安平",
            text: "安平"
        }, {
            id: 101005126,
            value: "邢台",
            text: "邢台"
        }, {
            id: 101005127,
            value: "青龙",
            text: "青龙"
        }, {
            id: 101005128,
            value: "昌黎",
            text: "昌黎"
        }, {
            id: 101005129,
            value: "卢龙",
            text: "卢龙"
        }, {
            id: 101005130,
            value: "抚宁",
            text: "抚宁"
        }, {
            id: 101005131,
            value: "秦皇岛",
            text: "秦皇岛"
        }, {
            id: 101005132,
            value: "元氏",
            text: "元氏"
        }, {
            id: 101005133,
            value: "新乐",
            text: "新乐"
        }, {
            id: 101005134,
            value: "无极",
            text: "无极"
        }, {
            id: 101005135,
            value: "深泽",
            text: "深泽"
        }, {
            id: 101005136,
            value: "辛集",
            text: "辛集"
        }, {
            id: 101005137,
            value: "晋州市",
            text: "晋州市"
        }, {
            id: 101005138,
            value: "赵县",
            text: "赵县"
        }, {
            id: 101005139,
            value: "赞皇",
            text: "赞皇"
        }, {
            id: 101005140,
            value: "高邑",
            text: "高邑"
        }, {
            id: 101005141,
            value: "平山",
            text: "平山"
        }, {
            id: 101005142,
            value: "灵寿",
            text: "灵寿"
        }, {
            id: 101005143,
            value: "行唐",
            text: "行唐"
        }, {
            id: 101005144,
            value: "涞水",
            text: "涞水"
        }, {
            id: 101005145,
            value: "定兴",
            text: "定兴"
        }, {
            id: 101005146,
            value: "涿州",
            text: "涿州"
        }, {
            id: 101005147,
            value: "晋州",
            text: "晋州"
        }, {
            id: 101005148,
            value: "鹿泉",
            text: "鹿泉"
        }, {
            id: 101005149,
            value: "高碑店",
            text: "高碑店"
        }, {
            id: 101005150,
            value: "冀州",
            text: "冀州"
        }, {
            id: 101005151,
            value: "深州",
            text: "深州"
        } ],
        "101006": [ {
            id: 101006001,
            value: "郑州",
            text: "郑州"
        }, {
            id: 101006002,
            value: "上街",
            text: "上街"
        }, {
            id: 101006003,
            value: "安阳",
            text: "安阳"
        }, {
            id: 101006004,
            value: "新乡",
            text: "新乡"
        }, {
            id: 101006005,
            value: "商丘",
            text: "商丘"
        }, {
            id: 101006006,
            value: "延津",
            text: "延津"
        }, {
            id: 101006007,
            value: "原阳",
            text: "原阳"
        }, {
            id: 101006008,
            value: "获嘉",
            text: "获嘉"
        }, {
            id: 101006009,
            value: "卫辉",
            text: "卫辉"
        }, {
            id: 101006010,
            value: "辉县",
            text: "辉县"
        }, {
            id: 101006011,
            value: "长垣",
            text: "长垣"
        }, {
            id: 101006012,
            value: "封邱",
            text: "封邱"
        }, {
            id: 101006013,
            value: "许昌",
            text: "许昌"
        }, {
            id: 101006014,
            value: "长葛",
            text: "长葛"
        }, {
            id: 101006015,
            value: "鄢陵",
            text: "鄢陵"
        }, {
            id: 101006016,
            value: "禹州",
            text: "禹州"
        }, {
            id: 101006017,
            value: "舞钢",
            text: "舞钢"
        }, {
            id: 101006018,
            value: "平顶山",
            text: "平顶山"
        }, {
            id: 101006019,
            value: "信阳",
            text: "信阳"
        }, {
            id: 101006020,
            value: "南阳",
            text: "南阳"
        }, {
            id: 101006021,
            value: "兰考",
            text: "兰考"
        }, {
            id: 101006022,
            value: "杞县",
            text: "杞县"
        }, {
            id: 101006023,
            value: "开封",
            text: "开封"
        }, {
            id: 101006024,
            value: "通许",
            text: "通许"
        }, {
            id: 101006025,
            value: "尉氏",
            text: "尉氏"
        }, {
            id: 101006026,
            value: "汝阳",
            text: "汝阳"
        }, {
            id: 101006027,
            value: "嵩县",
            text: "嵩县"
        }, {
            id: 101006028,
            value: "洛阳",
            text: "洛阳"
        }, {
            id: 101006029,
            value: "孟津",
            text: "孟津"
        }, {
            id: 101006030,
            value: "偃师",
            text: "偃师"
        }, {
            id: 101006031,
            value: "伊川",
            text: "伊川"
        }, {
            id: 101006032,
            value: "宜阳",
            text: "宜阳"
        }, {
            id: 101006033,
            value: "新安",
            text: "新安"
        }, {
            id: 101006034,
            value: "栾川",
            text: "栾川"
        }, {
            id: 101006035,
            value: "洛宁",
            text: "洛宁"
        }, {
            id: 101006036,
            value: "温县",
            text: "温县"
        }, {
            id: 101006037,
            value: "沁阳",
            text: "沁阳"
        }, {
            id: 101006038,
            value: "济源",
            text: "济源"
        }, {
            id: 101006039,
            value: "修武",
            text: "修武"
        }, {
            id: 101006040,
            value: "焦作",
            text: "焦作"
        }, {
            id: 101006041,
            value: "孟州市",
            text: "孟州市"
        }, {
            id: 101006042,
            value: "博爱",
            text: "博爱"
        }, {
            id: 101006043,
            value: "武陟",
            text: "武陟"
        }, {
            id: 101006044,
            value: "泌阳",
            text: "泌阳"
        }, {
            id: 101006045,
            value: "驻马店",
            text: "驻马店"
        }, {
            id: 101006046,
            value: "遂平",
            text: "遂平"
        }, {
            id: 101006047,
            value: "汝南",
            text: "汝南"
        }, {
            id: 101006048,
            value: "确山",
            text: "确山"
        }, {
            id: 101006049,
            value: "西平",
            text: "西平"
        }, {
            id: 101006050,
            value: "上蔡",
            text: "上蔡"
        }, {
            id: 101006051,
            value: "平舆",
            text: "平舆"
        }, {
            id: 101006052,
            value: "新蔡",
            text: "新蔡"
        }, {
            id: 101006053,
            value: "正阳",
            text: "正阳"
        }, {
            id: 101006054,
            value: "西峡",
            text: "西峡"
        }, {
            id: 101006055,
            value: "虞城",
            text: "虞城"
        }, {
            id: 101006056,
            value: "夏邑",
            text: "夏邑"
        }, {
            id: 101006057,
            value: "永城",
            text: "永城"
        }, {
            id: 101006058,
            value: "柘城",
            text: "柘城"
        }, {
            id: 101006059,
            value: "宁陵",
            text: "宁陵"
        }, {
            id: 101006060,
            value: "睢县",
            text: "睢县"
        }, {
            id: 101006061,
            value: "民权",
            text: "民权"
        }, {
            id: 101006062,
            value: "浚县",
            text: "浚县"
        }, {
            id: 101006063,
            value: "淇县",
            text: "淇县"
        }, {
            id: 101006065,
            value: "鹤壁",
            text: "鹤壁"
        }, {
            id: 101006066,
            value: "漯河",
            text: "漯河"
        }, {
            id: 101006067,
            value: "新密",
            text: "新密"
        }, {
            id: 101006068,
            value: "汤河",
            text: "汤河"
        }, {
            id: 101006070,
            value: "汤阴",
            text: "汤阴"
        }, {
            id: 101006071,
            value: "林州市",
            text: "林州市"
        }, {
            id: 101006072,
            value: "内黄",
            text: "内黄"
        }, {
            id: 101006073,
            value: "滑县",
            text: "滑县"
        }, {
            id: 101006074,
            value: "台前",
            text: "台前"
        }, {
            id: 101006075,
            value: "范县",
            text: "范县"
        }, {
            id: 101006076,
            value: "南乐",
            text: "南乐"
        }, {
            id: 101006077,
            value: "清丰",
            text: "清丰"
        }, {
            id: 101006078,
            value: "濮阳",
            text: "濮阳"
        }, {
            id: 101006079,
            value: "荥阳",
            text: "荥阳"
        }, {
            id: 101006080,
            value: "临颍",
            text: "临颍"
        }, {
            id: 101006081,
            value: "舞阳",
            text: "舞阳"
        }, {
            id: 101006082,
            value: "郾城",
            text: "郾城"
        }, {
            id: 101006083,
            value: "郏县",
            text: "郏县"
        }, {
            id: 101006084,
            value: "襄城",
            text: "襄城"
        }, {
            id: 101006085,
            value: "叶县",
            text: "叶县"
        }, {
            id: 101006086,
            value: "鲁山",
            text: "鲁山"
        }, {
            id: 101006087,
            value: "宝丰",
            text: "宝丰"
        }, {
            id: 101006088,
            value: "汝州",
            text: "汝州"
        }, {
            id: 101006089,
            value: "鹿邑",
            text: "鹿邑"
        }, {
            id: 101006090,
            value: "周口",
            text: "周口"
        }, {
            id: 101006091,
            value: "西华",
            text: "西华"
        }, {
            id: 101006092,
            value: "淮阳",
            text: "淮阳"
        }, {
            id: 101006093,
            value: "郸城",
            text: "郸城"
        }, {
            id: 101006094,
            value: "沈丘",
            text: "沈丘"
        }, {
            id: 101006095,
            value: "项城",
            text: "项城"
        }, {
            id: 101006096,
            value: "扶沟",
            text: "扶沟"
        }, {
            id: 101006097,
            value: "太康",
            text: "太康"
        }, {
            id: 101006098,
            value: "商水",
            text: "商水"
        }, {
            id: 101006099,
            value: "新郑",
            text: "新郑"
        }, {
            id: 101006100,
            value: "罗山",
            text: "罗山"
        }, {
            id: 101006101,
            value: "息县",
            text: "息县"
        }, {
            id: 101006102,
            value: "潢川",
            text: "潢川"
        }, {
            id: 101006103,
            value: "光山",
            text: "光山"
        }, {
            id: 101006104,
            value: "新县",
            text: "新县"
        }, {
            id: 101006105,
            value: "淮滨",
            text: "淮滨"
        }, {
            id: 101006106,
            value: "固始",
            text: "固始"
        }, {
            id: 101006107,
            value: "商城",
            text: "商城"
        }, {
            id: 101006108,
            value: "登封",
            text: "登封"
        }, {
            id: 101006109,
            value: "淅川",
            text: "淅川"
        }, {
            id: 101006110,
            value: "方城",
            text: "方城"
        }, {
            id: 101006111,
            value: "社旗",
            text: "社旗"
        }, {
            id: 101006112,
            value: "唐河",
            text: "唐河"
        }, {
            id: 101006113,
            value: "新野",
            text: "新野"
        }, {
            id: 101006114,
            value: "邓州",
            text: "邓州"
        }, {
            id: 101006115,
            value: "镇平",
            text: "镇平"
        }, {
            id: 101006116,
            value: "南召",
            text: "南召"
        }, {
            id: 101006117,
            value: "桐柏",
            text: "桐柏"
        }, {
            id: 101006118,
            value: "内乡",
            text: "内乡"
        }, {
            id: 101006119,
            value: "卢氏",
            text: "卢氏"
        }, {
            id: 101006120,
            value: "中牟",
            text: "中牟"
        }, {
            id: 101006121,
            value: "渑池",
            text: "渑池"
        }, {
            id: 101006122,
            value: "义马",
            text: "义马"
        }, {
            id: 101006123,
            value: "灵宝",
            text: "灵宝"
        }, {
            id: 101006124,
            value: "巩义",
            text: "巩义"
        }, {
            id: 101006125,
            value: "三门峡",
            text: "三门峡"
        }, {
            id: 101006126,
            value: "新密",
            text: "新密"
        }, {
            id: 101006127,
            value: "孟州",
            text: "孟州"
        }, {
            id: 101006128,
            value: "林州",
            text: "林州"
        } ],
        "101007": [ {
            id: 101007001,
            value: "哈尔滨",
            text: "哈尔滨"
        }, {
            id: 101007002,
            value: "齐齐哈尔",
            text: "齐齐哈尔"
        }, {
            id: 101007003,
            value: "牡丹江",
            text: "牡丹江"
        }, {
            id: 101007004,
            value: "佳木斯",
            text: "佳木斯"
        }, {
            id: 101007005,
            value: "绥化",
            text: "绥化"
        }, {
            id: 101007006,
            value: "黑河",
            text: "黑河"
        }, {
            id: 101007007,
            value: "呼玛",
            text: "呼玛"
        }, {
            id: 101007008,
            value: "漠河",
            text: "漠河"
        }, {
            id: 101007009,
            value: "塔河",
            text: "塔河"
        }, {
            id: 101007010,
            value: "加格达奇",
            text: "加格达奇"
        }, {
            id: 101007011,
            value: "伊春",
            text: "伊春"
        }, {
            id: 101007012,
            value: "大庆",
            text: "大庆"
        }, {
            id: 101007013,
            value: "通河",
            text: "通河"
        }, {
            id: 101007014,
            value: "阿城",
            text: "阿城"
        }, {
            id: 101007015,
            value: "尚志",
            text: "尚志"
        }, {
            id: 101007016,
            value: "延寿",
            text: "延寿"
        }, {
            id: 101007017,
            value: "双城",
            text: "双城"
        }, {
            id: 101007018,
            value: "肇东",
            text: "肇东"
        }, {
            id: 101007019,
            value: "鸡西",
            text: "鸡西"
        }, {
            id: 101007020,
            value: "鹤岗",
            text: "鹤岗"
        }, {
            id: 101007021,
            value: "双鸭山",
            text: "双鸭山"
        }, {
            id: 101007022,
            value: "林甸",
            text: "林甸"
        }, {
            id: 101007023,
            value: "克山",
            text: "克山"
        }, {
            id: 101007024,
            value: "拜泉",
            text: "拜泉"
        }, {
            id: 101007025,
            value: "依安",
            text: "依安"
        }, {
            id: 101007026,
            value: "龙江",
            text: "龙江"
        }, {
            id: 101007027,
            value: "讷河",
            text: "讷河"
        }, {
            id: 101007028,
            value: "泰来",
            text: "泰来"
        }, {
            id: 101007029,
            value: "泰康",
            text: "泰康"
        }, {
            id: 101007030,
            value: "甘南",
            text: "甘南"
        }, {
            id: 101007031,
            value: "富裕",
            text: "富裕"
        }, {
            id: 101007032,
            value: "友谊",
            text: "友谊"
        }, {
            id: 101007033,
            value: "鸡东",
            text: "鸡东"
        }, {
            id: 101007034,
            value: "密山",
            text: "密山"
        }, {
            id: 101007035,
            value: "林口",
            text: "林口"
        }, {
            id: 101007036,
            value: "穆棱",
            text: "穆棱"
        }, {
            id: 101007037,
            value: "东宁",
            text: "东宁"
        }, {
            id: 101007038,
            value: "海林",
            text: "海林"
        }, {
            id: 101007039,
            value: "宁安",
            text: "宁安"
        }, {
            id: 101007040,
            value: "绥芬河",
            text: "绥芬河"
        }, {
            id: 101007041,
            value: "虎林",
            text: "虎林"
        }, {
            id: 101007042,
            value: "七台河",
            text: "七台河"
        }, {
            id: 101007043,
            value: "勃利",
            text: "勃利"
        }, {
            id: 101007044,
            value: "桦川",
            text: "桦川"
        }, {
            id: 101007045,
            value: "汤原",
            text: "汤原"
        }, {
            id: 101007046,
            value: "依兰",
            text: "依兰"
        }, {
            id: 101007047,
            value: "萝北",
            text: "萝北"
        }, {
            id: 101007048,
            value: "宝清",
            text: "宝清"
        }, {
            id: 101007049,
            value: "桦南",
            text: "桦南"
        }, {
            id: 101007050,
            value: "饶河",
            text: "饶河"
        }, {
            id: 101007051,
            value: "集贤",
            text: "集贤"
        }, {
            id: 101007052,
            value: "明水",
            text: "明水"
        }, {
            id: 101007053,
            value: "庆安",
            text: "庆安"
        }, {
            id: 101007054,
            value: "海伦",
            text: "海伦"
        }, {
            id: 101007055,
            value: "安达",
            text: "安达"
        }, {
            id: 101007056,
            value: "肇州",
            text: "肇州"
        }, {
            id: 101007057,
            value: "肇源",
            text: "肇源"
        }, {
            id: 101007058,
            value: "绥棱",
            text: "绥棱"
        }, {
            id: 101007059,
            value: "望奎",
            text: "望奎"
        }, {
            id: 101007060,
            value: "兰西",
            text: "兰西"
        }, {
            id: 101007061,
            value: "青冈",
            text: "青冈"
        }, {
            id: 101007062,
            value: "绥滨",
            text: "绥滨"
        }, {
            id: 101007063,
            value: "北安",
            text: "北安"
        }, {
            id: 101007064,
            value: "孙吴",
            text: "孙吴"
        }, {
            id: 101007065,
            value: "逊克",
            text: "逊克"
        }, {
            id: 101007066,
            value: "德都",
            text: "德都"
        }, {
            id: 101007067,
            value: "嫩江",
            text: "嫩江"
        }, {
            id: 101007068,
            value: "呼兰",
            text: "呼兰"
        }, {
            id: 101007069,
            value: "富锦",
            text: "富锦"
        }, {
            id: 101007070,
            value: "克东",
            text: "克东"
        }, {
            id: 101007071,
            value: "抚远",
            text: "抚远"
        }, {
            id: 101007072,
            value: "宾县",
            text: "宾县"
        }, {
            id: 101007073,
            value: "木兰",
            text: "木兰"
        }, {
            id: 101007074,
            value: "五常",
            text: "五常"
        }, {
            id: 101007075,
            value: "巴彦",
            text: "巴彦"
        }, {
            id: 101007076,
            value: "五大连池",
            text: "五大连池"
        }, {
            id: 101007077,
            value: "同江",
            text: "同江"
        }, {
            id: 101007078,
            value: "嘉荫",
            text: "嘉荫"
        }, {
            id: 101007079,
            value: "铁力",
            text: "铁力"
        }, {
            id: 101007080,
            value: "方正",
            text: "方正"
        }, {
            id: 101007081,
            value: "大兴安岭",
            text: "大兴安岭"
        } ],
        "101008": [ {
            id: 101008001,
            value: "长春",
            text: "长春"
        }, {
            id: 101008002,
            value: "吉林",
            text: "吉林"
        }, {
            id: 101008003,
            value: "延吉",
            text: "延吉"
        }, {
            id: 101008004,
            value: "四平",
            text: "四平"
        }, {
            id: 101008005,
            value: "通化",
            text: "通化"
        }, {
            id: 101008006,
            value: "白城",
            text: "白城"
        }, {
            id: 101008007,
            value: "辽源",
            text: "辽源"
        }, {
            id: 101008008,
            value: "松原",
            text: "松原"
        }, {
            id: 101008009,
            value: "前郭尔罗斯蒙古族自治县",
            text: "前郭尔罗斯蒙古族自治县"
        }, {
            id: 101008010,
            value: "白山",
            text: "白山"
        }, {
            id: 101008011,
            value: "双阳",
            text: "双阳"
        }, {
            id: 101008012,
            value: "德惠",
            text: "德惠"
        }, {
            id: 101008013,
            value: "农安",
            text: "农安"
        }, {
            id: 101008014,
            value: "九台",
            text: "九台"
        }, {
            id: 101008015,
            value: "榆树",
            text: "榆树"
        }, {
            id: 101008016,
            value: "永吉",
            text: "永吉"
        }, {
            id: 101008017,
            value: "磐石",
            text: "磐石"
        }, {
            id: 101008018,
            value: "桦甸",
            text: "桦甸"
        }, {
            id: 101008019,
            value: "蛟河",
            text: "蛟河"
        }, {
            id: 101008020,
            value: "舒兰",
            text: "舒兰"
        }, {
            id: 101008021,
            value: "汪清",
            text: "汪清"
        }, {
            id: 101008022,
            value: "和龙",
            text: "和龙"
        }, {
            id: 101008023,
            value: "安图",
            text: "安图"
        }, {
            id: 101008024,
            value: "敦化",
            text: "敦化"
        }, {
            id: 101008025,
            value: "图们",
            text: "图们"
        }, {
            id: 101008026,
            value: "珲春",
            text: "珲春"
        }, {
            id: 101008027,
            value: "龙井",
            text: "龙井"
        }, {
            id: 101008028,
            value: "公主岭",
            text: "公主岭"
        }, {
            id: 101008029,
            value: "双辽",
            text: "双辽"
        }, {
            id: 101008030,
            value: "伊通满族自治县",
            text: "伊通满族自治县"
        }, {
            id: 101008031,
            value: "梨树",
            text: "梨树"
        }, {
            id: 101008032,
            value: "临江",
            text: "临江"
        }, {
            id: 101008033,
            value: "通化县",
            text: "通化县"
        }, {
            id: 101008034,
            value: "梅河口",
            text: "梅河口"
        }, {
            id: 101008035,
            value: "集安",
            text: "集安"
        }, {
            id: 101008036,
            value: "柳河",
            text: "柳河"
        }, {
            id: 101008037,
            value: "辉南",
            text: "辉南"
        }, {
            id: 101008038,
            value: "靖宇",
            text: "靖宇"
        }, {
            id: 101008039,
            value: "长白朝鲜族自治县",
            text: "长白朝鲜族自治县"
        }, {
            id: 101008040,
            value: "抚松",
            text: "抚松"
        }, {
            id: 101008041,
            value: "洮南",
            text: "洮南"
        }, {
            id: 101008042,
            value: "镇赉",
            text: "镇赉"
        }, {
            id: 101008043,
            value: "抚余",
            text: "抚余"
        }, {
            id: 101008044,
            value: "通榆",
            text: "通榆"
        }, {
            id: 101008045,
            value: "大安",
            text: "大安"
        }, {
            id: 101008046,
            value: "长岭",
            text: "长岭"
        }, {
            id: 101008047,
            value: "乾安",
            text: "乾安"
        }, {
            id: 101008048,
            value: "东丰",
            text: "东丰"
        }, {
            id: 101008049,
            value: "白山市",
            text: "白山市"
        }, {
            id: 101008050,
            value: "延边市",
            text: "延边市"
        }, {
            id: 101008051,
            value: "长白山",
            text: "长白山"
        } ],
        "101009": [ {
            id: 101009001,
            value: "沈阳",
            text: "沈阳"
        }, {
            id: 101009002,
            value: "辽中",
            text: "辽中"
        }, {
            id: 101009003,
            value: "新民",
            text: "新民"
        }, {
            id: 101009004,
            value: "昌图",
            text: "昌图"
        }, {
            id: 101009005,
            value: "开原",
            text: "开原"
        }, {
            id: 101009006,
            value: "西丰",
            text: "西丰"
        }, {
            id: 101009007,
            value: "铁岭",
            text: "铁岭"
        }, {
            id: 101009008,
            value: "大连",
            text: "大连"
        }, {
            id: 101009009,
            value: "庄河市",
            text: "庄河市"
        }, {
            id: 101009010,
            value: "长海",
            text: "长海"
        }, {
            id: 101009011,
            value: "金州区",
            text: "金州区"
        }, {
            id: 101009012,
            value: "新金",
            text: "新金"
        }, {
            id: 101009013,
            value: "瓦房店市",
            text: "瓦房店市"
        }, {
            id: 101009014,
            value: "鞍山",
            text: "鞍山"
        }, {
            id: 101009015,
            value: "海城",
            text: "海城"
        }, {
            id: 101009016,
            value: "台安",
            text: "台安"
        }, {
            id: 101009017,
            value: "岫岩满族自治县",
            text: "岫岩满族自治县"
        }, {
            id: 101009018,
            value: "抚顺",
            text: "抚顺"
        }, {
            id: 101009019,
            value: "清原",
            text: "清原"
        }, {
            id: 101009020,
            value: "新宾",
            text: "新宾"
        }, {
            id: 101009021,
            value: "本溪",
            text: "本溪"
        }, {
            id: 101009023,
            value: "桓仁",
            text: "桓仁"
        }, {
            id: 101009024,
            value: "凤城",
            text: "凤城"
        }, {
            id: 101009025,
            value: "丹东",
            text: "丹东"
        }, {
            id: 101009026,
            value: "宽甸",
            text: "宽甸"
        }, {
            id: 101009027,
            value: "东港市",
            text: "东港市"
        }, {
            id: 101009028,
            value: "北镇",
            text: "北镇"
        }, {
            id: 101009029,
            value: "凌海",
            text: "凌海"
        }, {
            id: 101009030,
            value: "黑山",
            text: "黑山"
        }, {
            id: 101009031,
            value: "义县",
            text: "义县"
        }, {
            id: 101009032,
            value: "锦州",
            text: "锦州"
        }, {
            id: 101009033,
            value: "营口县",
            text: "营口县"
        }, {
            id: 101009034,
            value: "盖州市",
            text: "盖州市"
        }, {
            id: 101009035,
            value: "营口",
            text: "营口"
        }, {
            id: 101009036,
            value: "阜新",
            text: "阜新"
        }, {
            id: 101009037,
            value: "彰武",
            text: "彰武"
        }, {
            id: 101009038,
            value: "阜新县",
            text: "阜新县"
        }, {
            id: 101009039,
            value: "辽阳",
            text: "辽阳"
        }, {
            id: 101009040,
            value: "辽阳县",
            text: "辽阳县"
        }, {
            id: 101009041,
            value: "灯塔",
            text: "灯塔"
        }, {
            id: 101009042,
            value: "喀喇沁左翼",
            text: "喀喇沁左翼"
        }, {
            id: 101009044,
            value: "朝阳",
            text: "朝阳"
        }, {
            id: 101009045,
            value: "建平",
            text: "建平"
        }, {
            id: 101009046,
            value: "北票",
            text: "北票"
        }, {
            id: 101009047,
            value: "凌源",
            text: "凌源"
        }, {
            id: 101009048,
            value: "盘锦",
            text: "盘锦"
        }, {
            id: 101009049,
            value: "大洼",
            text: "大洼"
        }, {
            id: 101009050,
            value: "盘山",
            text: "盘山"
        }, {
            id: 101009051,
            value: "兴城",
            text: "兴城"
        }, {
            id: 101009052,
            value: "绥中",
            text: "绥中"
        }, {
            id: 101009053,
            value: "建昌",
            text: "建昌"
        }, {
            id: 101009054,
            value: "葫芦岛",
            text: "葫芦岛"
        }, {
            id: 101009055,
            value: "葫芦岛市",
            text: "葫芦岛市"
        }, {
            id: 101009056,
            value: "普兰店市",
            text: "普兰店市"
        }, {
            id: 101009057,
            value: "调兵山",
            text: "调兵山"
        }, {
            id: 101009058,
            value: "凤城",
            text: "凤城"
        }, {
            id: 101009059,
            value: "东港",
            text: "东港"
        }, {
            id: 101009060,
            value: "大石桥",
            text: "大石桥"
        }, {
            id: 101009061,
            value: "盖州",
            text: "盖州"
        }, {
            id: 101009062,
            value: "凌海",
            text: "凌海"
        }, {
            id: 101009063,
            value: "北镇",
            text: "北镇"
        } ],
        "101010": [ {
            id: 101010001,
            value: "济南",
            text: "济南"
        }, {
            id: 101010002,
            value: "青岛",
            text: "青岛"
        }, {
            id: 101010003,
            value: "桓台",
            text: "桓台"
        }, {
            id: 101010004,
            value: "淄博",
            text: "淄博"
        }, {
            id: 101010005,
            value: "德州",
            text: "德州"
        }, {
            id: 101010006,
            value: "烟台",
            text: "烟台"
        }, {
            id: 101010007,
            value: "潍坊",
            text: "潍坊"
        }, {
            id: 101010008,
            value: "济宁",
            text: "济宁"
        }, {
            id: 101010009,
            value: "泰安",
            text: "泰安"
        }, {
            id: 101010010,
            value: "临沂",
            text: "临沂"
        }, {
            id: 101010011,
            value: "威海",
            text: "威海"
        }, {
            id: 101010012,
            value: "荣成",
            text: "荣成"
        }, {
            id: 101010013,
            value: "荷泽",
            text: "荷泽"
        }, {
            id: 101010014,
            value: "文登",
            text: "文登"
        }, {
            id: 101010015,
            value: "乳山",
            text: "乳山"
        }, {
            id: 101010016,
            value: "日照",
            text: "日照"
        }, {
            id: 101010017,
            value: "巨野",
            text: "巨野"
        }, {
            id: 101010018,
            value: "定陶",
            text: "定陶"
        }, {
            id: 101010019,
            value: "成武",
            text: "成武"
        }, {
            id: 101010020,
            value: "单县",
            text: "单县"
        }, {
            id: 101010021,
            value: "曹县",
            text: "曹县"
        }, {
            id: 101010022,
            value: "东明",
            text: "东明"
        }, {
            id: 101010023,
            value: "鄄城",
            text: "鄄城"
        }, {
            id: 101010024,
            value: "郓城",
            text: "郓城"
        }, {
            id: 101010025,
            value: "庆云",
            text: "庆云"
        }, {
            id: 101010026,
            value: "长清",
            text: "长清"
        }, {
            id: 101010027,
            value: "聊城",
            text: "聊城"
        }, {
            id: 101010028,
            value: "临清",
            text: "临清"
        }, {
            id: 101010029,
            value: "茌平",
            text: "茌平"
        }, {
            id: 101010030,
            value: "东阿",
            text: "东阿"
        }, {
            id: 101010031,
            value: "阳谷",
            text: "阳谷"
        }, {
            id: 101010032,
            value: "莘县",
            text: "莘县"
        }, {
            id: 101010033,
            value: "冠县",
            text: "冠县"
        }, {
            id: 101010034,
            value: "章丘",
            text: "章丘"
        }, {
            id: 101010035,
            value: "夏津",
            text: "夏津"
        }, {
            id: 101010036,
            value: "胶南",
            text: "胶南"
        }, {
            id: 101010037,
            value: "胶州",
            text: "胶州"
        }, {
            id: 101010038,
            value: "平度",
            text: "平度"
        }, {
            id: 101010039,
            value: "莱西",
            text: "莱西"
        }, {
            id: 101010040,
            value: "即墨",
            text: "即墨"
        }, {
            id: 101010041,
            value: "招远",
            text: "招远"
        }, {
            id: 101010042,
            value: "莱阳",
            text: "莱阳"
        }, {
            id: 101010043,
            value: "海阳",
            text: "海阳"
        }, {
            id: 101010044,
            value: "利津",
            text: "利津"
        }, {
            id: 101010045,
            value: "滨州",
            text: "滨州"
        }, {
            id: 101010046,
            value: "博兴",
            text: "博兴"
        }, {
            id: 101010047,
            value: "高青",
            text: "高青"
        }, {
            id: 101010048,
            value: "邹平",
            text: "邹平"
        }, {
            id: 101010049,
            value: "惠民",
            text: "惠民"
        }, {
            id: 101010050,
            value: "无棣",
            text: "无棣"
        }, {
            id: 101010051,
            value: "沾化",
            text: "沾化"
        }, {
            id: 101010052,
            value: "阳信",
            text: "阳信"
        }, {
            id: 101010053,
            value: "广饶",
            text: "广饶"
        }, {
            id: 101010054,
            value: "齐河",
            text: "齐河"
        }, {
            id: 101010055,
            value: "陵县",
            text: "陵县"
        }, {
            id: 101010056,
            value: "平原",
            text: "平原"
        }, {
            id: 101010057,
            value: "武城",
            text: "武城"
        }, {
            id: 101010058,
            value: "宁津",
            text: "宁津"
        }, {
            id: 101010059,
            value: "乐陵",
            text: "乐陵"
        }, {
            id: 101010060,
            value: "商河",
            text: "商河"
        }, {
            id: 101010061,
            value: "临邑",
            text: "临邑"
        }, {
            id: 101010062,
            value: "济阳",
            text: "济阳"
        }, {
            id: 101010063,
            value: "禹城",
            text: "禹城"
        }, {
            id: 101010064,
            value: "长岛",
            text: "长岛"
        }, {
            id: 101010065,
            value: "莱州",
            text: "莱州"
        }, {
            id: 101010066,
            value: "龙口",
            text: "龙口"
        }, {
            id: 101010067,
            value: "蓬莱",
            text: "蓬莱"
        }, {
            id: 101010068,
            value: "栖霞",
            text: "栖霞"
        }, {
            id: 101010069,
            value: "牟平",
            text: "牟平"
        }, {
            id: 101010070,
            value: "寿光",
            text: "寿光"
        }, {
            id: 101010071,
            value: "东营",
            text: "东营"
        }, {
            id: 101010072,
            value: "垦利",
            text: "垦利"
        }, {
            id: 101010073,
            value: "昌邑",
            text: "昌邑"
        }, {
            id: 101010074,
            value: "高密",
            text: "高密"
        }, {
            id: 101010075,
            value: "诸城",
            text: "诸城"
        }, {
            id: 101010076,
            value: "五莲",
            text: "五莲"
        }, {
            id: 101010077,
            value: "安丘",
            text: "安丘"
        }, {
            id: 101010078,
            value: "临朐",
            text: "临朐"
        }, {
            id: 101010079,
            value: "青州",
            text: "青州"
        }, {
            id: 101010080,
            value: "梁山",
            text: "梁山"
        }, {
            id: 101010081,
            value: "枣庄",
            text: "枣庄"
        }, {
            id: 101010082,
            value: "滕州",
            text: "滕州"
        }, {
            id: 101010083,
            value: "曲阜",
            text: "曲阜"
        }, {
            id: 101010084,
            value: "兖州",
            text: "兖州"
        }, {
            id: 101010085,
            value: "邹城市",
            text: "邹城市"
        }, {
            id: 101010086,
            value: "微山",
            text: "微山"
        }, {
            id: 101010087,
            value: "鱼台",
            text: "鱼台"
        }, {
            id: 101010088,
            value: "金乡",
            text: "金乡"
        }, {
            id: 101010089,
            value: "嘉祥",
            text: "嘉祥"
        }, {
            id: 101010090,
            value: "苍山",
            text: "苍山"
        }, {
            id: 101010091,
            value: "莱芜",
            text: "莱芜"
        }, {
            id: 101010092,
            value: "新泰",
            text: "新泰"
        }, {
            id: 101010093,
            value: "泗水",
            text: "泗水"
        }, {
            id: 101010094,
            value: "宁阳",
            text: "宁阳"
        }, {
            id: 101010095,
            value: "东平",
            text: "东平"
        }, {
            id: 101010096,
            value: "汶上",
            text: "汶上"
        }, {
            id: 101010097,
            value: "肥城",
            text: "肥城"
        }, {
            id: 101010098,
            value: "平阴",
            text: "平阴"
        }, {
            id: 101010099,
            value: "昌乐",
            text: "昌乐"
        }, {
            id: 101010100,
            value: "平邑",
            text: "平邑"
        }, {
            id: 101010101,
            value: "蒙阴",
            text: "蒙阴"
        }, {
            id: 101010102,
            value: "沂源",
            text: "沂源"
        }, {
            id: 101010103,
            value: "沂水",
            text: "沂水"
        }, {
            id: 101010104,
            value: "沂南",
            text: "沂南"
        }, {
            id: 101010105,
            value: "莒县",
            text: "莒县"
        }, {
            id: 101010106,
            value: "莒南",
            text: "莒南"
        }, {
            id: 101010107,
            value: "临沭",
            text: "临沭"
        }, {
            id: 101010108,
            value: "郯城",
            text: "郯城"
        }, {
            id: 101010109,
            value: "费县",
            text: "费县"
        }, {
            id: 101010110,
            value: "高唐",
            text: "高唐"
        }, {
            id: 101010111,
            value: "菏泽",
            text: "菏泽"
        } ],
        "101011": [ {
            id: 101011001,
            value: "呼和浩特",
            text: "呼和浩特"
        }, {
            id: 101011002,
            value: "海拉尔",
            text: "海拉尔"
        }, {
            id: 101011003,
            value: "鄂温克",
            text: "鄂温克"
        }, {
            id: 101011004,
            value: "武川",
            text: "武川"
        }, {
            id: 101011005,
            value: "土默行左旗",
            text: "土默行左旗"
        }, {
            id: 101011006,
            value: "托克托",
            text: "托克托"
        }, {
            id: 101011007,
            value: "喀左",
            text: "喀左"
        }, {
            id: 101011008,
            value: "土默特右旗",
            text: "土默特右旗"
        }, {
            id: 101011009,
            value: "包头",
            text: "包头"
        }, {
            id: 101011010,
            value: "固阳",
            text: "固阳"
        }, {
            id: 101011011,
            value: "白云鄂博",
            text: "白云鄂博"
        }, {
            id: 101011012,
            value: "乌海",
            text: "乌海"
        }, {
            id: 101011013,
            value: "集宁",
            text: "集宁"
        }, {
            id: 101011014,
            value: "通辽",
            text: "通辽"
        }, {
            id: 101011015,
            value: "赤峰",
            text: "赤峰"
        }, {
            id: 101011016,
            value: "阿鲁科尔沁",
            text: "阿鲁科尔沁"
        }, {
            id: 101011017,
            value: "敖汉",
            text: "敖汉"
        }, {
            id: 101011018,
            value: "宁城",
            text: "宁城"
        }, {
            id: 101011019,
            value: "翁牛特旗",
            text: "翁牛特旗"
        }, {
            id: 101011020,
            value: "巴林左旗",
            text: "巴林左旗"
        }, {
            id: 101011021,
            value: "巴林右旗",
            text: "巴林右旗"
        }, {
            id: 101011022,
            value: "林西",
            text: "林西"
        }, {
            id: 101011023,
            value: "克什克腾旗",
            text: "克什克腾旗"
        }, {
            id: 101011024,
            value: "喀喇沁",
            text: "喀喇沁"
        }, {
            id: 101011025,
            value: "东胜",
            text: "东胜"
        }, {
            id: 101011026,
            value: "临河",
            text: "临河"
        }, {
            id: 101011027,
            value: "杭锦后旗",
            text: "杭锦后旗"
        }, {
            id: 101011028,
            value: "锡林浩特",
            text: "锡林浩特"
        }, {
            id: 101011029,
            value: "牙克石",
            text: "牙克石"
        }, {
            id: 101011030,
            value: "扎兰屯",
            text: "扎兰屯"
        }, {
            id: 101011031,
            value: "鄂伦春",
            text: "鄂伦春"
        }, {
            id: 101011032,
            value: "陈巴尔虎旗",
            text: "陈巴尔虎旗"
        }, {
            id: 101011033,
            value: "新巴尔虎左旗",
            text: "新巴尔虎左旗"
        }, {
            id: 101011034,
            value: "新巴尔虎右旗",
            text: "新巴尔虎右旗"
        }, {
            id: 101011035,
            value: "喀尔古纳左旗",
            text: "喀尔古纳左旗"
        }, {
            id: 101011036,
            value: "喀尔古纳右旗",
            text: "喀尔古纳右旗"
        }, {
            id: 101011037,
            value: "伊敏河",
            text: "伊敏河"
        }, {
            id: 101011038,
            value: "莫力达瓦旗",
            text: "莫力达瓦旗"
        }, {
            id: 101011039,
            value: "满州里",
            text: "满州里"
        }, {
            id: 101011040,
            value: "二连浩特",
            text: "二连浩特"
        }, {
            id: 101011041,
            value: "乌兰浩特",
            text: "乌兰浩特"
        }, {
            id: 101011042,
            value: "和林格尔",
            text: "和林格尔"
        }, {
            id: 101011043,
            value: "阿荣旗",
            text: "阿荣旗"
        }, {
            id: 101011044,
            value: "达尔罕茂明安",
            text: "达尔罕茂明安"
        }, {
            id: 101011045,
            value: "四子王旗",
            text: "四子王旗"
        }, {
            id: 101011046,
            value: "阿拉善左旗",
            text: "阿拉善左旗"
        }, {
            id: 101011047,
            value: "化德",
            text: "化德"
        }, {
            id: 101011048,
            value: "丰镇",
            text: "丰镇"
        }, {
            id: 101011049,
            value: "卓资",
            text: "卓资"
        }, {
            id: 101011050,
            value: "商都",
            text: "商都"
        }, {
            id: 101011051,
            value: "兴和",
            text: "兴和"
        }, {
            id: 101011052,
            value: "察哈尔右翼前旗",
            text: "察哈尔右翼前旗"
        }, {
            id: 101011053,
            value: "察哈尔右翼中旗",
            text: "察哈尔右翼中旗"
        }, {
            id: 101011054,
            value: "察哈尔右翼后旗",
            text: "察哈尔右翼后旗"
        }, {
            id: 101011055,
            value: "凉城",
            text: "凉城"
        }, {
            id: 101011056,
            value: "清水河",
            text: "清水河"
        }, {
            id: 101011057,
            value: "科尔沁右翼中旗",
            text: "科尔沁右翼中旗"
        }, {
            id: 101011058,
            value: "开鲁",
            text: "开鲁"
        }, {
            id: 101011059,
            value: "库伦旗",
            text: "库伦旗"
        }, {
            id: 101011060,
            value: "奈曼旗",
            text: "奈曼旗"
        }, {
            id: 101011061,
            value: "扎鲁特旗",
            text: "扎鲁特旗"
        }, {
            id: 101011062,
            value: "科尔沁左翼中旗",
            text: "科尔沁左翼中旗"
        }, {
            id: 101011064,
            value: "霍林郭勒",
            text: "霍林郭勒"
        }, {
            id: 101011065,
            value: "突泉",
            text: "突泉"
        }, {
            id: 101011066,
            value: "扎赉特旗",
            text: "扎赉特旗"
        }, {
            id: 101011067,
            value: "阿尔山",
            text: "阿尔山"
        }, {
            id: 101011068,
            value: "达拉特旗",
            text: "达拉特旗"
        }, {
            id: 101011069,
            value: "伊金霍洛旗",
            text: "伊金霍洛旗"
        }, {
            id: 101011070,
            value: "准格尔",
            text: "准格尔"
        }, {
            id: 101011071,
            value: "杭锦旗",
            text: "杭锦旗"
        }, {
            id: 101011072,
            value: "乌审",
            text: "乌审"
        }, {
            id: 101011073,
            value: "鄂托克旗",
            text: "鄂托克旗"
        }, {
            id: 101011074,
            value: "鄂托克前旗",
            text: "鄂托克前旗"
        }, {
            id: 101011075,
            value: "薛家湾",
            text: "薛家湾"
        }, {
            id: 101011076,
            value: "五原",
            text: "五原"
        }, {
            id: 101011077,
            value: "乌拉特前旗",
            text: "乌拉特前旗"
        }, {
            id: 101011078,
            value: "乌拉特中旗",
            text: "乌拉特中旗"
        }, {
            id: 101011079,
            value: "乌拉特后旗",
            text: "乌拉特后旗"
        }, {
            id: 101011080,
            value: "阿拉善右旗",
            text: "阿拉善右旗"
        }, {
            id: 101011081,
            value: "多伦",
            text: "多伦"
        }, {
            id: 101011082,
            value: "太仆寺",
            text: "太仆寺"
        }, {
            id: 101011083,
            value: "苏尼特左旗",
            text: "苏尼特左旗"
        }, {
            id: 101011084,
            value: "苏尼特右旗",
            text: "苏尼特右旗"
        }, {
            id: 101011085,
            value: "镶黄旗",
            text: "镶黄旗"
        }, {
            id: 101011086,
            value: "东乌珠穆沁旗",
            text: "东乌珠穆沁旗"
        }, {
            id: 101011087,
            value: "西乌珠穆沁旗",
            text: "西乌珠穆沁旗"
        }, {
            id: 101011088,
            value: "正镶白",
            text: "正镶白"
        }, {
            id: 101011089,
            value: "正蓝旗",
            text: "正蓝旗"
        }, {
            id: 101011090,
            value: "呼伦贝尔",
            text: "呼伦贝尔"
        }, {
            id: 101011091,
            value: "乌兰察布",
            text: "乌兰察布"
        }, {
            id: 101011092,
            value: "鄂尔多斯",
            text: "鄂尔多斯"
        }, {
            id: 101011093,
            value: "巴彦淖尔",
            text: "巴彦淖尔"
        }, {
            id: 101011094,
            value: "满洲里",
            text: "满洲里"
        }, {
            id: 101011095,
            value: "根河",
            text: "根河"
        }, {
            id: 101011096,
            value: "额尔古纳",
            text: "额尔古纳"
        } ],
        "101012": [ {
            id: 101012001,
            value: "南京",
            text: "南京"
        }, {
            id: 101012007,
            value: "苏州",
            text: "苏州"
        }, {
            id: 101012002,
            value: "无锡",
            text: "无锡"
        }, {
            id: 101012017,
            value: "扬州",
            text: "扬州"
        }, {
            id: 101012005,
            value: "镇江",
            text: "镇江"
        }, {
            id: 101012006,
            value: "丹徒",
            text: "丹徒"
        }, {
            id: 101012008,
            value: "吴县",
            text: "吴县"
        }, {
            id: 101012009,
            value: "高淳",
            text: "高淳"
        }, {
            id: 101012010,
            value: "溧水",
            text: "溧水"
        }, {
            id: 101012011,
            value: "六合",
            text: "六合"
        }, {
            id: 101012012,
            value: "江宁",
            text: "江宁"
        }, {
            id: 101012013,
            value: "南通",
            text: "南通"
        }, {
            id: 101012014,
            value: "通州市",
            text: "通州市"
        }, {
            id: 101012015,
            value: "如皋",
            text: "如皋"
        }, {
            id: 101012016,
            value: "如东",
            text: "如东"
        }, {
            id: 101012018,
            value: "邗江",
            text: "邗江"
        }, {
            id: 101012019,
            value: "盐城",
            text: "盐城"
        }, {
            id: 101012020,
            value: "徐州",
            text: "徐州"
        }, {
            id: 101012021,
            value: "铜山",
            text: "铜山"
        }, {
            id: 101012022,
            value: "淮阴",
            text: "淮阴"
        }, {
            id: 101012024,
            value: "淮安",
            text: "淮安"
        }, {
            id: 101012025,
            value: "连云港",
            text: "连云港"
        }, {
            id: 101012026,
            value: "赣榆",
            text: "赣榆"
        }, {
            id: 101012027,
            value: "灌云",
            text: "灌云"
        }, {
            id: 101012028,
            value: "东海",
            text: "东海"
        }, {
            id: 101012029,
            value: "常州",
            text: "常州"
        }, {
            id: 101012030,
            value: "武进",
            text: "武进"
        }, {
            id: 101012031,
            value: "丹阳",
            text: "丹阳"
        }, {
            id: 101012032,
            value: "扬中",
            text: "扬中"
        }, {
            id: 101012033,
            value: "金坛",
            text: "金坛"
        }, {
            id: 101012034,
            value: "溧阳",
            text: "溧阳"
        }, {
            id: 101012035,
            value: "宜兴",
            text: "宜兴"
        }, {
            id: 101012036,
            value: "常熟",
            text: "常熟"
        }, {
            id: 101012037,
            value: "张家港",
            text: "张家港"
        }, {
            id: 101012038,
            value: "吴江",
            text: "吴江"
        }, {
            id: 101012039,
            value: "昆山",
            text: "昆山"
        }, {
            id: 101012040,
            value: "太仓",
            text: "太仓"
        }, {
            id: 101012041,
            value: "海门",
            text: "海门"
        }, {
            id: 101012042,
            value: "启东",
            text: "启东"
        }, {
            id: 101012043,
            value: "南通县",
            text: "南通县"
        }, {
            id: 101012045,
            value: "海安",
            text: "海安"
        }, {
            id: 101012046,
            value: "泰州",
            text: "泰州"
        }, {
            id: 101012047,
            value: "靖江",
            text: "靖江"
        }, {
            id: 101012048,
            value: "泰县",
            text: "泰县"
        }, {
            id: 101012049,
            value: "江都",
            text: "江都"
        }, {
            id: 101012050,
            value: "兴化",
            text: "兴化"
        }, {
            id: 101012051,
            value: "宝应",
            text: "宝应"
        }, {
            id: 101012052,
            value: "高邮",
            text: "高邮"
        }, {
            id: 101012053,
            value: "泰兴",
            text: "泰兴"
        }, {
            id: 101012054,
            value: "东台",
            text: "东台"
        }, {
            id: 101012055,
            value: "大丰",
            text: "大丰"
        }, {
            id: 101012056,
            value: "射阳",
            text: "射阳"
        }, {
            id: 101012057,
            value: "滨海",
            text: "滨海"
        }, {
            id: 101012058,
            value: "响水",
            text: "响水"
        }, {
            id: 101012059,
            value: "阜宁",
            text: "阜宁"
        }, {
            id: 101012060,
            value: "建湖",
            text: "建湖"
        }, {
            id: 101012061,
            value: "睢宁",
            text: "睢宁"
        }, {
            id: 101012062,
            value: "邳县",
            text: "邳县"
        }, {
            id: 101012063,
            value: "新沂",
            text: "新沂"
        }, {
            id: 101012064,
            value: "沛县",
            text: "沛县"
        }, {
            id: 101012065,
            value: "丰县",
            text: "丰县"
        }, {
            id: 101012066,
            value: "涟水",
            text: "涟水"
        }, {
            id: 101012067,
            value: "沭阳",
            text: "沭阳"
        }, {
            id: 101012068,
            value: "宿迁",
            text: "宿迁"
        }, {
            id: 101012069,
            value: "泗阳",
            text: "泗阳"
        }, {
            id: 101012070,
            value: "泗洪",
            text: "泗洪"
        }, {
            id: 101012071,
            value: "盱眙",
            text: "盱眙"
        }, {
            id: 101012072,
            value: "金湖",
            text: "金湖"
        }, {
            id: 101012073,
            value: "洪泽",
            text: "洪泽"
        }, {
            id: 101012074,
            value: "灌南",
            text: "灌南"
        }, {
            id: 101012075,
            value: "仪征",
            text: "仪征"
        }, {
            id: 101012076,
            value: "句容",
            text: "句容"
        }, {
            id: 101012077,
            value: "江浦",
            text: "江浦"
        }, {
            id: 101012078,
            value: "淮安",
            text: "淮安"
        }, {
            id: 101012079,
            value: "邳州",
            text: "邳州"
        }, {
            id: 101012080,
            value: "姜堰",
            text: "姜堰"
        } ],
        "101013": [ {
            id: 101013001,
            value: "合肥",
            text: "合肥"
        }, {
            id: 101013002,
            value: "天长",
            text: "天长"
        }, {
            id: 101013003,
            value: "来安",
            text: "来安"
        }, {
            id: 101013004,
            value: "定远",
            text: "定远"
        }, {
            id: 101013005,
            value: "明光",
            text: "明光"
        }, {
            id: 101013006,
            value: "滁州",
            text: "滁州"
        }, {
            id: 101013007,
            value: "全椒",
            text: "全椒"
        }, {
            id: 101013008,
            value: "肥西",
            text: "肥西"
        }, {
            id: 101013009,
            value: "长丰",
            text: "长丰"
        }, {
            id: 101013010,
            value: "肥东",
            text: "肥东"
        }, {
            id: 101013011,
            value: "蚌埠",
            text: "蚌埠"
        }, {
            id: 101013012,
            value: "固镇",
            text: "固镇"
        }, {
            id: 101013013,
            value: "五河",
            text: "五河"
        }, {
            id: 101013014,
            value: "怀远",
            text: "怀远"
        }, {
            id: 101013015,
            value: "芜湖",
            text: "芜湖"
        }, {
            id: 101013017,
            value: "南陵",
            text: "南陵"
        }, {
            id: 101013018,
            value: "繁昌",
            text: "繁昌"
        }, {
            id: 101013019,
            value: "淮南",
            text: "淮南"
        }, {
            id: 101013020,
            value: "凤台",
            text: "凤台"
        }, {
            id: 101013021,
            value: "马鞍山",
            text: "马鞍山"
        }, {
            id: 101013022,
            value: "当涂",
            text: "当涂"
        }, {
            id: 101013023,
            value: "岳西",
            text: "岳西"
        }, {
            id: 101013024,
            value: "怀宁",
            text: "怀宁"
        }, {
            id: 101013025,
            value: "枞阳",
            text: "枞阳"
        }, {
            id: 101013026,
            value: "望江",
            text: "望江"
        }, {
            id: 101013027,
            value: "潜山",
            text: "潜山"
        }, {
            id: 101013028,
            value: "安庆",
            text: "安庆"
        }, {
            id: 101013029,
            value: "宿松",
            text: "宿松"
        }, {
            id: 101013030,
            value: "太湖",
            text: "太湖"
        }, {
            id: 101013031,
            value: "桐城",
            text: "桐城"
        }, {
            id: 101013032,
            value: "萧县",
            text: "萧县"
        }, {
            id: 101013033,
            value: "宿州",
            text: "宿州"
        }, {
            id: 101013034,
            value: "灵璧",
            text: "灵璧"
        }, {
            id: 101013035,
            value: "泗县",
            text: "泗县"
        }, {
            id: 101013036,
            value: "宿县",
            text: "宿县"
        }, {
            id: 101013037,
            value: "阜阳",
            text: "阜阳"
        }, {
            id: 101013038,
            value: "黟县",
            text: "黟县"
        }, {
            id: 101013039,
            value: "歙县",
            text: "歙县"
        }, {
            id: 101013040,
            value: "黄山",
            text: "黄山"
        }, {
            id: 101013041,
            value: "祁门",
            text: "祁门"
        }, {
            id: 101013042,
            value: "太平",
            text: "太平"
        }, {
            id: 101013043,
            value: "休宁",
            text: "休宁"
        }, {
            id: 101013044,
            value: "和县",
            text: "和县"
        }, {
            id: 101013045,
            value: "含山",
            text: "含山"
        }, {
            id: 101013046,
            value: "庐江",
            text: "庐江"
        }, {
            id: 101013047,
            value: "巢湖",
            text: "巢湖"
        }, {
            id: 101013048,
            value: "无为",
            text: "无为"
        }, {
            id: 101013049,
            value: "东至",
            text: "东至"
        }, {
            id: 101013050,
            value: "贵池",
            text: "贵池"
        }, {
            id: 101013051,
            value: "青阳",
            text: "青阳"
        }, {
            id: 101013052,
            value: "石台",
            text: "石台"
        }, {
            id: 101013053,
            value: "濉溪",
            text: "濉溪"
        }, {
            id: 101013054,
            value: "淮北",
            text: "淮北"
        }, {
            id: 101013055,
            value: "铜陵",
            text: "铜陵"
        }, {
            id: 101013056,
            value: "铜县",
            text: "铜县"
        }, {
            id: 101013057,
            value: "舒城",
            text: "舒城"
        }, {
            id: 101013058,
            value: "凤阳",
            text: "凤阳"
        }, {
            id: 101013059,
            value: "宣州",
            text: "宣州"
        }, {
            id: 101013060,
            value: "泾县",
            text: "泾县"
        }, {
            id: 101013061,
            value: "广德",
            text: "广德"
        }, {
            id: 101013062,
            value: "郎溪",
            text: "郎溪"
        }, {
            id: 101013063,
            value: "宁国",
            text: "宁国"
        }, {
            id: 101013064,
            value: "绩溪",
            text: "绩溪"
        }, {
            id: 101013065,
            value: "旌德",
            text: "旌德"
        }, {
            id: 101013066,
            value: "金寨",
            text: "金寨"
        }, {
            id: 101013067,
            value: "六安",
            text: "六安"
        }, {
            id: 101013068,
            value: "寿县",
            text: "寿县"
        }, {
            id: 101013069,
            value: "霍邱",
            text: "霍邱"
        }, {
            id: 101013070,
            value: "霍山",
            text: "霍山"
        }, {
            id: 101013071,
            value: "亳州",
            text: "亳州"
        }, {
            id: 101013072,
            value: "阜南",
            text: "阜南"
        }, {
            id: 101013073,
            value: "蒙城",
            text: "蒙城"
        }, {
            id: 101013074,
            value: "涡阳",
            text: "涡阳"
        }, {
            id: 101013075,
            value: "利辛",
            text: "利辛"
        }, {
            id: 101013076,
            value: "界首",
            text: "界首"
        }, {
            id: 101013077,
            value: "颍上",
            text: "颍上"
        }, {
            id: 101013078,
            value: "太和",
            text: "太和"
        }, {
            id: 101013079,
            value: "临泉",
            text: "临泉"
        }, {
            id: 101013080,
            value: "池州",
            text: "池州"
        }, {
            id: 101013081,
            value: "宣城",
            text: "宣城"
        }, {
            id: 101013082,
            value: "明光",
            text: "明光"
        } ],
        "101014": [ {
            id: 101014001,
            value: "太原",
            text: "太原"
        }, {
            id: 101014002,
            value: "大同",
            text: "大同"
        }, {
            id: 101014003,
            value: "芮城",
            text: "芮城"
        }, {
            id: 101014004,
            value: "原平",
            text: "原平"
        }, {
            id: 101014005,
            value: "代县",
            text: "代县"
        }, {
            id: 101014006,
            value: "山阴",
            text: "山阴"
        }, {
            id: 101014007,
            value: "忻州",
            text: "忻州"
        }, {
            id: 101014008,
            value: "垣曲",
            text: "垣曲"
        }, {
            id: 101014009,
            value: "平陆",
            text: "平陆"
        }, {
            id: 101014010,
            value: "临猗",
            text: "临猗"
        }, {
            id: 101014011,
            value: "万荣",
            text: "万荣"
        }, {
            id: 101014012,
            value: "稷山",
            text: "稷山"
        }, {
            id: 101014013,
            value: "河津",
            text: "河津"
        }, {
            id: 101014014,
            value: "新绛",
            text: "新绛"
        }, {
            id: 101014015,
            value: "闻喜",
            text: "闻喜"
        }, {
            id: 101014016,
            value: "夏县",
            text: "夏县"
        }, {
            id: 101014017,
            value: "绛县",
            text: "绛县"
        }, {
            id: 101014018,
            value: "永济",
            text: "永济"
        }, {
            id: 101014019,
            value: "阳泉",
            text: "阳泉"
        }, {
            id: 101014020,
            value: "盂县",
            text: "盂县"
        }, {
            id: 101014021,
            value: "平定",
            text: "平定"
        }, {
            id: 101014022,
            value: "榆次",
            text: "榆次"
        }, {
            id: 101014023,
            value: "长治",
            text: "长治"
        }, {
            id: 101014024,
            value: "晋城",
            text: "晋城"
        }, {
            id: 101014025,
            value: "临汾",
            text: "临汾"
        }, {
            id: 101014026,
            value: "离石",
            text: "离石"
        }, {
            id: 101014027,
            value: "运城",
            text: "运城"
        }, {
            id: 101014028,
            value: "方山",
            text: "方山"
        }, {
            id: 101014029,
            value: "临县",
            text: "临县"
        }, {
            id: 101014030,
            value: "汾阳",
            text: "汾阳"
        }, {
            id: 101014031,
            value: "文水",
            text: "文水"
        }, {
            id: 101014032,
            value: "交城",
            text: "交城"
        }, {
            id: 101014033,
            value: "孝义",
            text: "孝义"
        }, {
            id: 101014034,
            value: "交口",
            text: "交口"
        }, {
            id: 101014035,
            value: "中阳",
            text: "中阳"
        }, {
            id: 101014036,
            value: "兴县",
            text: "兴县"
        }, {
            id: 101014037,
            value: "阳曲",
            text: "阳曲"
        }, {
            id: 101014038,
            value: "清徐",
            text: "清徐"
        }, {
            id: 101014039,
            value: "古交",
            text: "古交"
        }, {
            id: 101014040,
            value: "朔州",
            text: "朔州"
        }, {
            id: 101014041,
            value: "右玉",
            text: "右玉"
        }, {
            id: 101014042,
            value: "天镇",
            text: "天镇"
        }, {
            id: 101014043,
            value: "怀仁",
            text: "怀仁"
        }, {
            id: 101014044,
            value: "阳高",
            text: "阳高"
        }, {
            id: 101014045,
            value: "浑源",
            text: "浑源"
        }, {
            id: 101014046,
            value: "应县",
            text: "应县"
        }, {
            id: 101014047,
            value: "广灵",
            text: "广灵"
        }, {
            id: 101014048,
            value: "灵丘",
            text: "灵丘"
        }, {
            id: 101014049,
            value: "左云",
            text: "左云"
        }, {
            id: 101014050,
            value: "偏关",
            text: "偏关"
        }, {
            id: 101014051,
            value: "静乐",
            text: "静乐"
        }, {
            id: 101014052,
            value: "定襄",
            text: "定襄"
        }, {
            id: 101014053,
            value: "五台",
            text: "五台"
        }, {
            id: 101014054,
            value: "岢岚",
            text: "岢岚"
        }, {
            id: 101014055,
            value: "河曲",
            text: "河曲"
        }, {
            id: 101014056,
            value: "保德",
            text: "保德"
        }, {
            id: 101014057,
            value: "宁武",
            text: "宁武"
        }, {
            id: 101014058,
            value: "神池",
            text: "神池"
        }, {
            id: 101014059,
            value: "五寨",
            text: "五寨"
        }, {
            id: 101014060,
            value: "高平",
            text: "高平"
        }, {
            id: 101014061,
            value: "阳城",
            text: "阳城"
        }, {
            id: 101014062,
            value: "沁水",
            text: "沁水"
        }, {
            id: 101014063,
            value: "陵川",
            text: "陵川"
        }, {
            id: 101014064,
            value: "平顺",
            text: "平顺"
        }, {
            id: 101014065,
            value: "黎城",
            text: "黎城"
        }, {
            id: 101014066,
            value: "侯马",
            text: "侯马"
        }, {
            id: 101014067,
            value: "襄垣",
            text: "襄垣"
        }, {
            id: 101014068,
            value: "武乡",
            text: "武乡"
        }, {
            id: 101014069,
            value: "沁县",
            text: "沁县"
        }, {
            id: 101014070,
            value: "沁源",
            text: "沁源"
        }, {
            id: 101014071,
            value: "屯留",
            text: "屯留"
        }, {
            id: 101014072,
            value: "长子",
            text: "长子"
        }, {
            id: 101014073,
            value: "潞城",
            text: "潞城"
        }, {
            id: 101014074,
            value: "灵石",
            text: "灵石"
        }, {
            id: 101014075,
            value: "昔阳",
            text: "昔阳"
        }, {
            id: 101014076,
            value: "和顺",
            text: "和顺"
        }, {
            id: 101014077,
            value: "左权",
            text: "左权"
        }, {
            id: 101014078,
            value: "榆社",
            text: "榆社"
        }, {
            id: 101014079,
            value: "寿阳",
            text: "寿阳"
        }, {
            id: 101014080,
            value: "太谷",
            text: "太谷"
        }, {
            id: 101014081,
            value: "祁县",
            text: "祁县"
        }, {
            id: 101014082,
            value: "平遥",
            text: "平遥"
        }, {
            id: 101014083,
            value: "介休",
            text: "介休"
        }, {
            id: 101014084,
            value: "大宁",
            text: "大宁"
        }, {
            id: 101014085,
            value: "曲沃",
            text: "曲沃"
        }, {
            id: 101014086,
            value: "翼城",
            text: "翼城"
        }, {
            id: 101014087,
            value: "洪洞",
            text: "洪洞"
        }, {
            id: 101014088,
            value: "霍州",
            text: "霍州"
        }, {
            id: 101014089,
            value: "汾西",
            text: "汾西"
        }, {
            id: 101014090,
            value: "蒲县",
            text: "蒲县"
        }, {
            id: 101014091,
            value: "隰县",
            text: "隰县"
        }, {
            id: 101014092,
            value: "繁峙",
            text: "繁峙"
        }, {
            id: 101014093,
            value: "乡宁",
            text: "乡宁"
        }, {
            id: 101014094,
            value: "吉县",
            text: "吉县"
        }, {
            id: 101014095,
            value: "浮山",
            text: "浮山"
        }, {
            id: 101014096,
            value: "古县",
            text: "古县"
        }, {
            id: 101014097,
            value: "晋中市",
            text: "晋中市"
        }, {
            id: 101014098,
            value: "吕梁",
            text: "吕梁"
        } ],
        "101015": [ {
            id: 101015001,
            value: "西安",
            text: "西安"
        }, {
            id: 101015002,
            value: "长安",
            text: "长安"
        }, {
            id: 101015003,
            value: "户县",
            text: "户县"
        }, {
            id: 101015004,
            value: "周至",
            text: "周至"
        }, {
            id: 101015005,
            value: "蓝田",
            text: "蓝田"
        }, {
            id: 101015006,
            value: "临潼",
            text: "临潼"
        }, {
            id: 101015007,
            value: "高陵",
            text: "高陵"
        }, {
            id: 101015008,
            value: "咸阳",
            text: "咸阳"
        }, {
            id: 101015009,
            value: "兴平",
            text: "兴平"
        }, {
            id: 101015010,
            value: "武功",
            text: "武功"
        }, {
            id: 101015011,
            value: "永寿",
            text: "永寿"
        }, {
            id: 101015012,
            value: "乾县",
            text: "乾县"
        }, {
            id: 101015013,
            value: "延川",
            text: "延川"
        }, {
            id: 101015014,
            value: "子长",
            text: "子长"
        }, {
            id: 101015015,
            value: "延长",
            text: "延长"
        }, {
            id: 101015016,
            value: "吴起",
            text: "吴起"
        }, {
            id: 101015017,
            value: "黄陵",
            text: "黄陵"
        }, {
            id: 101015018,
            value: "延安",
            text: "延安"
        }, {
            id: 101015019,
            value: "富县",
            text: "富县"
        }, {
            id: 101015020,
            value: "黄龙",
            text: "黄龙"
        }, {
            id: 101015021,
            value: "宜川",
            text: "宜川"
        }, {
            id: 101015022,
            value: "洛川",
            text: "洛川"
        }, {
            id: 101015023,
            value: "志丹",
            text: "志丹"
        }, {
            id: 101015024,
            value: "甘泉",
            text: "甘泉"
        }, {
            id: 101015025,
            value: "安塞",
            text: "安塞"
        }, {
            id: 101015026,
            value: "榆林",
            text: "榆林"
        }, {
            id: 101015027,
            value: "渭南",
            text: "渭南"
        }, {
            id: 101015028,
            value: "华县",
            text: "华县"
        }, {
            id: 101015029,
            value: "商州",
            text: "商州"
        }, {
            id: 101015030,
            value: "安康",
            text: "安康"
        }, {
            id: 101015031,
            value: "汉中",
            text: "汉中"
        }, {
            id: 101015032,
            value: "南郑",
            text: "南郑"
        }, {
            id: 101015033,
            value: "宝鸡",
            text: "宝鸡"
        }, {
            id: 101015035,
            value: "凤翔",
            text: "凤翔"
        }, {
            id: 101015036,
            value: "岐山",
            text: "岐山"
        }, {
            id: 101015037,
            value: "扶风",
            text: "扶风"
        }, {
            id: 101015038,
            value: "眉县",
            text: "眉县"
        }, {
            id: 101015039,
            value: "太白",
            text: "太白"
        }, {
            id: 101015040,
            value: "凤县",
            text: "凤县"
        }, {
            id: 101015041,
            value: "麟游",
            text: "麟游"
        }, {
            id: 101015042,
            value: "千阳",
            text: "千阳"
        }, {
            id: 101015043,
            value: "铜川",
            text: "铜川"
        }, {
            id: 101015044,
            value: "耀州",
            text: "耀州"
        }, {
            id: 101015045,
            value: "宜君",
            text: "宜君"
        }, {
            id: 101015046,
            value: "彬县",
            text: "彬县"
        }, {
            id: 101015047,
            value: "三原",
            text: "三原"
        }, {
            id: 101015048,
            value: "泾阳",
            text: "泾阳"
        }, {
            id: 101015049,
            value: "礼泉",
            text: "礼泉"
        }, {
            id: 101015050,
            value: "吴堡",
            text: "吴堡"
        }, {
            id: 101015051,
            value: "子洲",
            text: "子洲"
        }, {
            id: 101015052,
            value: "佳县",
            text: "佳县"
        }, {
            id: 101015053,
            value: "府谷",
            text: "府谷"
        }, {
            id: 101015054,
            value: "米脂",
            text: "米脂"
        }, {
            id: 101015055,
            value: "绥德",
            text: "绥德"
        }, {
            id: 101015056,
            value: "定边",
            text: "定边"
        }, {
            id: 101015057,
            value: "靖边",
            text: "靖边"
        }, {
            id: 101015058,
            value: "神木",
            text: "神木"
        }, {
            id: 101015059,
            value: "大荔",
            text: "大荔"
        }, {
            id: 101015060,
            value: "华阴",
            text: "华阴"
        }, {
            id: 101015061,
            value: "潼关",
            text: "潼关"
        }, {
            id: 101015062,
            value: "富平",
            text: "富平"
        }, {
            id: 101015063,
            value: "澄城",
            text: "澄城"
        }, {
            id: 101015064,
            value: "韩城",
            text: "韩城"
        }, {
            id: 101015065,
            value: "蒲城",
            text: "蒲城"
        }, {
            id: 101015066,
            value: "清涧",
            text: "清涧"
        }, {
            id: 101015067,
            value: "丹凤",
            text: "丹凤"
        }, {
            id: 101015068,
            value: "柞水",
            text: "柞水"
        }, {
            id: 101015069,
            value: "镇安",
            text: "镇安"
        }, {
            id: 101015070,
            value: "山阳",
            text: "山阳"
        }, {
            id: 101015071,
            value: "洛南",
            text: "洛南"
        }, {
            id: 101015072,
            value: "商南",
            text: "商南"
        }, {
            id: 101015073,
            value: "镇坪",
            text: "镇坪"
        }, {
            id: 101015074,
            value: "岚皋",
            text: "岚皋"
        }, {
            id: 101015075,
            value: "宁陕",
            text: "宁陕"
        }, {
            id: 101015076,
            value: "汉阴",
            text: "汉阴"
        }, {
            id: 101015077,
            value: "旬阳",
            text: "旬阳"
        }, {
            id: 101015078,
            value: "白河",
            text: "白河"
        }, {
            id: 101015079,
            value: "紫阳",
            text: "紫阳"
        }, {
            id: 101015080,
            value: "石泉",
            text: "石泉"
        }, {
            id: 101015081,
            value: "留坝",
            text: "留坝"
        }, {
            id: 101015082,
            value: "城固",
            text: "城固"
        }, {
            id: 101015083,
            value: "洋县",
            text: "洋县"
        }, {
            id: 101015084,
            value: "佛坪",
            text: "佛坪"
        }, {
            id: 101015085,
            value: "西乡",
            text: "西乡"
        }, {
            id: 101015086,
            value: "镇巴",
            text: "镇巴"
        }, {
            id: 101015087,
            value: "宁强",
            text: "宁强"
        }, {
            id: 101015088,
            value: "勉县",
            text: "勉县"
        }, {
            id: 101015089,
            value: "略阳",
            text: "略阳"
        }, {
            id: 101015090,
            value: "陇县",
            text: "陇县"
        }, {
            id: 101015091,
            value: "合阳",
            text: "合阳"
        }, {
            id: 101015092,
            value: "白水",
            text: "白水"
        }, {
            id: 101015093,
            value: "淳化",
            text: "淳化"
        }, {
            id: 101015094,
            value: "长武",
            text: "长武"
        }, {
            id: 101015095,
            value: "旬邑",
            text: "旬邑"
        }, {
            id: 101015096,
            value: "商洛",
            text: "商洛"
        } ],
        "101016": [ {
            id: 101016001,
            value: "兰州",
            text: "兰州"
        }, {
            id: 101016002,
            value: "临厦",
            text: "临厦"
        }, {
            id: 101016003,
            value: "榆中",
            text: "榆中"
        }, {
            id: 101016004,
            value: "永登",
            text: "永登"
        }, {
            id: 101016005,
            value: "皋兰",
            text: "皋兰"
        }, {
            id: 101016006,
            value: "红古区",
            text: "红古区"
        }, {
            id: 101016007,
            value: "定西",
            text: "定西"
        }, {
            id: 101016008,
            value: "平凉",
            text: "平凉"
        }, {
            id: 101016009,
            value: "西峰",
            text: "西峰"
        }, {
            id: 101016010,
            value: "武威",
            text: "武威"
        }, {
            id: 101016011,
            value: "张掖",
            text: "张掖"
        }, {
            id: 101016012,
            value: "酒泉",
            text: "酒泉"
        }, {
            id: 101016013,
            value: "甘谷",
            text: "甘谷"
        }, {
            id: 101016014,
            value: "武都",
            text: "武都"
        }, {
            id: 101016015,
            value: "临夏",
            text: "临夏"
        }, {
            id: 101016016,
            value: "永靖",
            text: "永靖"
        }, {
            id: 101016017,
            value: "和政",
            text: "和政"
        }, {
            id: 101016018,
            value: "东乡",
            text: "东乡"
        }, {
            id: 101016019,
            value: "康乐",
            text: "康乐"
        }, {
            id: 101016020,
            value: "广河",
            text: "广河"
        }, {
            id: 101016021,
            value: "积石山",
            text: "积石山"
        }, {
            id: 101016022,
            value: "甘南州",
            text: "甘南州"
        }, {
            id: 101016023,
            value: "夏河",
            text: "夏河"
        }, {
            id: 101016024,
            value: "临潭",
            text: "临潭"
        }, {
            id: 101016025,
            value: "舟曲",
            text: "舟曲"
        }, {
            id: 101016026,
            value: "碌曲",
            text: "碌曲"
        }, {
            id: 101016027,
            value: "玛曲",
            text: "玛曲"
        }, {
            id: 101016028,
            value: "卓尼",
            text: "卓尼"
        }, {
            id: 101016029,
            value: "迭部",
            text: "迭部"
        }, {
            id: 101016030,
            value: "陇西",
            text: "陇西"
        }, {
            id: 101016031,
            value: "漳县",
            text: "漳县"
        }, {
            id: 101016032,
            value: "通渭",
            text: "通渭"
        }, {
            id: 101016033,
            value: "岷县",
            text: "岷县"
        }, {
            id: 101016034,
            value: "临洮",
            text: "临洮"
        }, {
            id: 101016035,
            value: "渭源",
            text: "渭源"
        }, {
            id: 101016036,
            value: "白银",
            text: "白银"
        }, {
            id: 101016037,
            value: "静宁",
            text: "静宁"
        }, {
            id: 101016038,
            value: "泾川",
            text: "泾川"
        }, {
            id: 101016039,
            value: "灵台",
            text: "灵台"
        }, {
            id: 101016040,
            value: "崇信",
            text: "崇信"
        }, {
            id: 101016041,
            value: "华亭",
            text: "华亭"
        }, {
            id: 101016042,
            value: "庄浪",
            text: "庄浪"
        }, {
            id: 101016043,
            value: "庆阳",
            text: "庆阳"
        }, {
            id: 101016044,
            value: "宁县",
            text: "宁县"
        }, {
            id: 101016045,
            value: "镇原",
            text: "镇原"
        }, {
            id: 101016046,
            value: "环县",
            text: "环县"
        }, {
            id: 101016047,
            value: "合水",
            text: "合水"
        }, {
            id: 101016048,
            value: "正宁",
            text: "正宁"
        }, {
            id: 101016049,
            value: "华池",
            text: "华池"
        }, {
            id: 101016050,
            value: "民勤",
            text: "民勤"
        }, {
            id: 101016051,
            value: "天祝",
            text: "天祝"
        }, {
            id: 101016052,
            value: "古浪",
            text: "古浪"
        }, {
            id: 101016053,
            value: "金昌",
            text: "金昌"
        }, {
            id: 101016054,
            value: "永昌",
            text: "永昌"
        }, {
            id: 101016055,
            value: "山丹",
            text: "山丹"
        }, {
            id: 101016056,
            value: "高台",
            text: "高台"
        }, {
            id: 101016057,
            value: "肃南",
            text: "肃南"
        }, {
            id: 101016058,
            value: "民乐",
            text: "民乐"
        }, {
            id: 101016059,
            value: "临泽",
            text: "临泽"
        }, {
            id: 101016060,
            value: "平川",
            text: "平川"
        }, {
            id: 101016061,
            value: "靖远",
            text: "靖远"
        }, {
            id: 101016062,
            value: "景泰",
            text: "景泰"
        }, {
            id: 101016063,
            value: "会宁",
            text: "会宁"
        }, {
            id: 101016064,
            value: "玉门",
            text: "玉门"
        }, {
            id: 101016065,
            value: "安西",
            text: "安西"
        }, {
            id: 101016066,
            value: "敦煌",
            text: "敦煌"
        }, {
            id: 101016067,
            value: "金塔",
            text: "金塔"
        }, {
            id: 101016068,
            value: "肃北",
            text: "肃北"
        }, {
            id: 101016069,
            value: "嘉峪关",
            text: "嘉峪关"
        }, {
            id: 101016070,
            value: "武山",
            text: "武山"
        }, {
            id: 101016071,
            value: "张家川",
            text: "张家川"
        }, {
            id: 101016072,
            value: "清水",
            text: "清水"
        }, {
            id: 101016073,
            value: "成县",
            text: "成县"
        }, {
            id: 101016074,
            value: "康县",
            text: "康县"
        }, {
            id: 101016075,
            value: "文县",
            text: "文县"
        }, {
            id: 101016076,
            value: "宕昌",
            text: "宕昌"
        }, {
            id: 101016077,
            value: "西和",
            text: "西和"
        }, {
            id: 101016078,
            value: "礼县",
            text: "礼县"
        }, {
            id: 101016079,
            value: "徽县",
            text: "徽县"
        }, {
            id: 101016080,
            value: "两当",
            text: "两当"
        }, {
            id: 101016081,
            value: "天水",
            text: "天水"
        }, {
            id: 101016082,
            value: "陇南",
            text: "陇南"
        }, {
            id: 101016083,
            value: "合作",
            text: "合作"
        } ],
        "101017": [ {
            id: 101017001,
            value: "杭州",
            text: "杭州"
        }, {
            id: 101017004,
            value: "宁波",
            text: "宁波"
        }, {
            id: 101017002,
            value: "湖州",
            text: "湖州"
        }, {
            id: 101017003,
            value: "嘉兴",
            text: "嘉兴"
        }, {
            id: 101017005,
            value: "鄞州",
            text: "鄞州"
        }, {
            id: 101017006,
            value: "镇海",
            text: "镇海"
        }, {
            id: 101017007,
            value: "绍兴",
            text: "绍兴"
        }, {
            id: 101017009,
            value: "临海",
            text: "临海"
        }, {
            id: 101017010,
            value: "温州",
            text: "温州"
        }, {
            id: 101017011,
            value: "瓯海县",
            text: "瓯海县"
        }, {
            id: 101017012,
            value: "丽水",
            text: "丽水"
        }, {
            id: 101017013,
            value: "金华",
            text: "金华"
        }, {
            id: 101017015,
            value: "衢州",
            text: "衢州"
        }, {
            id: 101017016,
            value: "衢州",
            text: "衢州"
        }, {
            id: 101017017,
            value: "江山",
            text: "江山"
        }, {
            id: 101017018,
            value: "常山",
            text: "常山"
        }, {
            id: 101017019,
            value: "开化",
            text: "开化"
        }, {
            id: 101017020,
            value: "龙游",
            text: "龙游"
        }, {
            id: 101017021,
            value: "余杭",
            text: "余杭"
        }, {
            id: 101017022,
            value: "萧山",
            text: "萧山"
        }, {
            id: 101017023,
            value: "富阳",
            text: "富阳"
        }, {
            id: 101017024,
            value: "桐庐",
            text: "桐庐"
        }, {
            id: 101017025,
            value: "建德",
            text: "建德"
        }, {
            id: 101017026,
            value: "淳安",
            text: "淳安"
        }, {
            id: 101017027,
            value: "临安",
            text: "临安"
        }, {
            id: 101017028,
            value: "德清",
            text: "德清"
        }, {
            id: 101017029,
            value: "安吉",
            text: "安吉"
        }, {
            id: 101017030,
            value: "长兴",
            text: "长兴"
        }, {
            id: 101017031,
            value: "嘉善",
            text: "嘉善"
        }, {
            id: 101017032,
            value: "平湖",
            text: "平湖"
        }, {
            id: 101017033,
            value: "海盐",
            text: "海盐"
        }, {
            id: 101017034,
            value: "海宁",
            text: "海宁"
        }, {
            id: 101017035,
            value: "桐乡",
            text: "桐乡"
        }, {
            id: 101017036,
            value: "象山",
            text: "象山"
        }, {
            id: 101017037,
            value: "宁海",
            text: "宁海"
        }, {
            id: 101017038,
            value: "奉化",
            text: "奉化"
        }, {
            id: 101017039,
            value: "余姚",
            text: "余姚"
        }, {
            id: 101017040,
            value: "慈溪",
            text: "慈溪"
        }, {
            id: 101017041,
            value: "上虞",
            text: "上虞"
        }, {
            id: 101017042,
            value: "嵊州",
            text: "嵊州"
        }, {
            id: 101017043,
            value: "新昌",
            text: "新昌"
        }, {
            id: 101017044,
            value: "诸暨",
            text: "诸暨"
        }, {
            id: 101017045,
            value: "舟山",
            text: "舟山"
        }, {
            id: 101017046,
            value: "岱山",
            text: "岱山"
        }, {
            id: 101017047,
            value: "嵊泗",
            text: "嵊泗"
        }, {
            id: 101017048,
            value: "普陀",
            text: "普陀"
        }, {
            id: 101017049,
            value: "三门",
            text: "三门"
        }, {
            id: 101017050,
            value: "黄岩",
            text: "黄岩"
        }, {
            id: 101017051,
            value: "温岭",
            text: "温岭"
        }, {
            id: 101017052,
            value: "玉环",
            text: "玉环"
        }, {
            id: 101017053,
            value: "仙居",
            text: "仙居"
        }, {
            id: 101017054,
            value: "天台",
            text: "天台"
        }, {
            id: 101017055,
            value: "椒江",
            text: "椒江"
        }, {
            id: 101017056,
            value: "永嘉",
            text: "永嘉"
        }, {
            id: 101017057,
            value: "乐清",
            text: "乐清"
        }, {
            id: 101017058,
            value: "洞头",
            text: "洞头"
        }, {
            id: 101017059,
            value: "瑞安",
            text: "瑞安"
        }, {
            id: 101017060,
            value: "平阳",
            text: "平阳"
        }, {
            id: 101017061,
            value: "苍南",
            text: "苍南"
        }, {
            id: 101017062,
            value: "泰顺",
            text: "泰顺"
        }, {
            id: 101017063,
            value: "文成",
            text: "文成"
        }, {
            id: 101017064,
            value: "缙云",
            text: "缙云"
        }, {
            id: 101017065,
            value: "青田",
            text: "青田"
        }, {
            id: 101017066,
            value: "云和",
            text: "云和"
        }, {
            id: 101017067,
            value: "庆元",
            text: "庆元"
        }, {
            id: 101017068,
            value: "龙泉",
            text: "龙泉"
        }, {
            id: 101017069,
            value: "遂昌",
            text: "遂昌"
        }, {
            id: 101017070,
            value: "松阳",
            text: "松阳"
        }, {
            id: 101017071,
            value: "景宁",
            text: "景宁"
        }, {
            id: 101017072,
            value: "浦江",
            text: "浦江"
        }, {
            id: 101017073,
            value: "义乌",
            text: "义乌"
        }, {
            id: 101017074,
            value: "东阳",
            text: "东阳"
        }, {
            id: 101017075,
            value: "永康",
            text: "永康"
        }, {
            id: 101017076,
            value: "武义",
            text: "武义"
        }, {
            id: 101017077,
            value: "兰溪",
            text: "兰溪"
        }, {
            id: 101017078,
            value: "磐安",
            text: "磐安"
        }, {
            id: 101017079,
            value: "台州",
            text: "台州"
        }, {
            id: 101017080,
            value: "嵊州",
            text: "嵊州"
        } ],
        "101018": [ {
            id: 101018001,
            value: "南昌",
            text: "南昌"
        }, {
            id: 101018003,
            value: "分宜",
            text: "分宜"
        }, {
            id: 101018004,
            value: "新余",
            text: "新余"
        }, {
            id: 101018005,
            value: "新建",
            text: "新建"
        }, {
            id: 101018006,
            value: "进贤",
            text: "进贤"
        }, {
            id: 101018007,
            value: "安义",
            text: "安义"
        }, {
            id: 101018008,
            value: "九江",
            text: "九江"
        }, {
            id: 101018009,
            value: "湖口",
            text: "湖口"
        }, {
            id: 101018010,
            value: "星子",
            text: "星子"
        }, {
            id: 101018011,
            value: "修水",
            text: "修水"
        }, {
            id: 101018012,
            value: "瑞昌",
            text: "瑞昌"
        }, {
            id: 101018013,
            value: "德安",
            text: "德安"
        }, {
            id: 101018014,
            value: "彭泽",
            text: "彭泽"
        }, {
            id: 101018015,
            value: "永修",
            text: "永修"
        }, {
            id: 101018016,
            value: "庐山",
            text: "庐山"
        }, {
            id: 101018017,
            value: "都昌",
            text: "都昌"
        }, {
            id: 101018018,
            value: "武宁",
            text: "武宁"
        }, {
            id: 101018019,
            value: "上饶县",
            text: "上饶县"
        }, {
            id: 101018020,
            value: "上饶",
            text: "上饶"
        }, {
            id: 101018021,
            value: "广丰",
            text: "广丰"
        }, {
            id: 101018022,
            value: "临川",
            text: "临川"
        }, {
            id: 101018023,
            value: "宜春",
            text: "宜春"
        }, {
            id: 101018024,
            value: "吉安",
            text: "吉安"
        }, {
            id: 101018026,
            value: "赣县",
            text: "赣县"
        }, {
            id: 101018027,
            value: "赣州",
            text: "赣州"
        }, {
            id: 101018028,
            value: "景德镇",
            text: "景德镇"
        }, {
            id: 101018029,
            value: "萍乡",
            text: "萍乡"
        }, {
            id: 101018030,
            value: "新干",
            text: "新干"
        }, {
            id: 101018031,
            value: "井冈山",
            text: "井冈山"
        }, {
            id: 101018032,
            value: "鹰潭",
            text: "鹰潭"
        }, {
            id: 101018033,
            value: "贵溪",
            text: "贵溪"
        }, {
            id: 101018034,
            value: "余江",
            text: "余江"
        }, {
            id: 101018035,
            value: "乐平",
            text: "乐平"
        }, {
            id: 101018036,
            value: "婺源",
            text: "婺源"
        }, {
            id: 101018037,
            value: "德兴",
            text: "德兴"
        }, {
            id: 101018038,
            value: "鄱阳",
            text: "鄱阳"
        }, {
            id: 101018039,
            value: "弋阳",
            text: "弋阳"
        }, {
            id: 101018040,
            value: "玉山",
            text: "玉山"
        }, {
            id: 101018041,
            value: "资溪",
            text: "资溪"
        }, {
            id: 101018042,
            value: "广昌",
            text: "广昌"
        }, {
            id: 101018043,
            value: "东乡",
            text: "东乡"
        }, {
            id: 101018044,
            value: "金溪",
            text: "金溪"
        }, {
            id: 101018045,
            value: "崇仁",
            text: "崇仁"
        }, {
            id: 101018046,
            value: "宜黄",
            text: "宜黄"
        }, {
            id: 101018047,
            value: "乐安",
            text: "乐安"
        }, {
            id: 101018048,
            value: "南城",
            text: "南城"
        }, {
            id: 101018049,
            value: "南丰",
            text: "南丰"
        }, {
            id: 101018050,
            value: "黎川",
            text: "黎川"
        }, {
            id: 101018051,
            value: "宜丰",
            text: "宜丰"
        }, {
            id: 101018052,
            value: "上高",
            text: "上高"
        }, {
            id: 101018053,
            value: "樟树",
            text: "樟树"
        }, {
            id: 101018054,
            value: "奉新",
            text: "奉新"
        }, {
            id: 101018055,
            value: "靖安",
            text: "靖安"
        }, {
            id: 101018056,
            value: "高安",
            text: "高安"
        }, {
            id: 101018057,
            value: "万载",
            text: "万载"
        }, {
            id: 101018058,
            value: "丰城",
            text: "丰城"
        }, {
            id: 101018059,
            value: "铜鼓",
            text: "铜鼓"
        }, {
            id: 101018060,
            value: "井冈山",
            text: "井冈山"
        }, {
            id: 101018061,
            value: "吉水",
            text: "吉水"
        }, {
            id: 101018062,
            value: "泰和",
            text: "泰和"
        }, {
            id: 101018063,
            value: "安福",
            text: "安福"
        }, {
            id: 101018064,
            value: "永新",
            text: "永新"
        }, {
            id: 101018065,
            value: "莲花",
            text: "莲花"
        }, {
            id: 101018066,
            value: "万安",
            text: "万安"
        }, {
            id: 101018067,
            value: "永丰",
            text: "永丰"
        }, {
            id: 101018068,
            value: "峡江",
            text: "峡江"
        }, {
            id: 101018069,
            value: "遂川",
            text: "遂川"
        }, {
            id: 101018070,
            value: "于都",
            text: "于都"
        }, {
            id: 101018071,
            value: "兴国",
            text: "兴国"
        }, {
            id: 101018072,
            value: "宁都",
            text: "宁都"
        }, {
            id: 101018073,
            value: "石城",
            text: "石城"
        }, {
            id: 101018074,
            value: "瑞金",
            text: "瑞金"
        }, {
            id: 101018075,
            value: "会昌",
            text: "会昌"
        }, {
            id: 101018076,
            value: "大余",
            text: "大余"
        }, {
            id: 101018077,
            value: "上犹",
            text: "上犹"
        }, {
            id: 101018078,
            value: "崇义",
            text: "崇义"
        }, {
            id: 101018079,
            value: "信丰",
            text: "信丰"
        }, {
            id: 101018080,
            value: "龙南",
            text: "龙南"
        }, {
            id: 101018081,
            value: "定南",
            text: "定南"
        }, {
            id: 101018082,
            value: "全南",
            text: "全南"
        }, {
            id: 101018083,
            value: "安远",
            text: "安远"
        }, {
            id: 101018084,
            value: "寻乌",
            text: "寻乌"
        }, {
            id: 101018085,
            value: "南康",
            text: "南康"
        }, {
            id: 101018086,
            value: "万年",
            text: "万年"
        }, {
            id: 101018087,
            value: "余干",
            text: "余干"
        }, {
            id: 101018088,
            value: "横峰",
            text: "横峰"
        }, {
            id: 101018089,
            value: "抚州市",
            text: "抚州市"
        }, {
            id: 101018090,
            value: "铅山县",
            text: "铅山县"
        } ],
        "101019": [ {
            id: 101019001,
            value: "武汉",
            text: "武汉"
        }, {
            id: 101019002,
            value: "武昌县",
            text: "武昌县"
        }, {
            id: 101019003,
            value: "汉阳",
            text: "汉阳"
        }, {
            id: 101019004,
            value: "黄陂",
            text: "黄陂"
        }, {
            id: 101019005,
            value: "新洲",
            text: "新洲"
        }, {
            id: 101019006,
            value: "襄樊",
            text: "襄樊"
        }, {
            id: 101019007,
            value: "襄阳",
            text: "襄阳"
        }, {
            id: 101019008,
            value: "鄂州",
            text: "鄂州"
        }, {
            id: 101019009,
            value: "孝感",
            text: "孝感"
        }, {
            id: 101019010,
            value: "黄冈",
            text: "黄冈"
        }, {
            id: 101019011,
            value: "大冶",
            text: "大冶"
        }, {
            id: 101019012,
            value: "黄石",
            text: "黄石"
        }, {
            id: 101019013,
            value: "咸宁",
            text: "咸宁"
        }, {
            id: 101019014,
            value: "江陵",
            text: "江陵"
        }, {
            id: 101019015,
            value: "沙市",
            text: "沙市"
        }, {
            id: 101019016,
            value: "宜昌",
            text: "宜昌"
        }, {
            id: 101019018,
            value: "恩施",
            text: "恩施"
        }, {
            id: 101019019,
            value: "十堰",
            text: "十堰"
        }, {
            id: 101019020,
            value: "荆门",
            text: "荆门"
        }, {
            id: 101019021,
            value: "枣阳",
            text: "枣阳"
        }, {
            id: 101019022,
            value: "随州",
            text: "随州"
        }, {
            id: 101019023,
            value: "宜城",
            text: "宜城"
        }, {
            id: 101019024,
            value: "南漳",
            text: "南漳"
        }, {
            id: 101019025,
            value: "保康",
            text: "保康"
        }, {
            id: 101019026,
            value: "谷城",
            text: "谷城"
        }, {
            id: 101019027,
            value: "老河口",
            text: "老河口"
        }, {
            id: 101019028,
            value: "洪湖",
            text: "洪湖"
        }, {
            id: 101019029,
            value: "仙桃",
            text: "仙桃"
        }, {
            id: 101019030,
            value: "大悟",
            text: "大悟"
        }, {
            id: 101019031,
            value: "汉川",
            text: "汉川"
        }, {
            id: 101019032,
            value: "应城",
            text: "应城"
        }, {
            id: 101019033,
            value: "云梦",
            text: "云梦"
        }, {
            id: 101019034,
            value: "安陆",
            text: "安陆"
        }, {
            id: 101019035,
            value: "广水",
            text: "广水"
        }, {
            id: 101019036,
            value: "麻城",
            text: "麻城"
        }, {
            id: 101019037,
            value: "红安",
            text: "红安"
        }, {
            id: 101019038,
            value: "浠水",
            text: "浠水"
        }, {
            id: 101019039,
            value: "罗田",
            text: "罗田"
        }, {
            id: 101019040,
            value: "英山",
            text: "英山"
        }, {
            id: 101019041,
            value: "蕲春",
            text: "蕲春"
        }, {
            id: 101019042,
            value: "黄梅",
            text: "黄梅"
        }, {
            id: 101019043,
            value: "武穴",
            text: "武穴"
        }, {
            id: 101019044,
            value: "阳新",
            text: "阳新"
        }, {
            id: 101019045,
            value: "通山",
            text: "通山"
        }, {
            id: 101019046,
            value: "崇阳",
            text: "崇阳"
        }, {
            id: 101019047,
            value: "通城",
            text: "通城"
        }, {
            id: 101019048,
            value: "赤壁",
            text: "赤壁"
        }, {
            id: 101019049,
            value: "嘉鱼",
            text: "嘉鱼"
        }, {
            id: 101019050,
            value: "天门",
            text: "天门"
        }, {
            id: 101019051,
            value: "潜江",
            text: "潜江"
        }, {
            id: 101019052,
            value: "监利",
            text: "监利"
        }, {
            id: 101019053,
            value: "石首",
            text: "石首"
        }, {
            id: 101019054,
            value: "公安",
            text: "公安"
        }, {
            id: 101019055,
            value: "松滋",
            text: "松滋"
        }, {
            id: 101019056,
            value: "钟祥",
            text: "钟祥"
        }, {
            id: 101019057,
            value: "京山",
            text: "京山"
        }, {
            id: 101019058,
            value: "远安",
            text: "远安"
        }, {
            id: 101019059,
            value: "当阳",
            text: "当阳"
        }, {
            id: 101019060,
            value: "枝江",
            text: "枝江"
        }, {
            id: 101019061,
            value: "枝城",
            text: "枝城"
        }, {
            id: 101019062,
            value: "长阳",
            text: "长阳"
        }, {
            id: 101019063,
            value: "五峰",
            text: "五峰"
        }, {
            id: 101019064,
            value: "秭归",
            text: "秭归"
        }, {
            id: 101019065,
            value: "兴山",
            text: "兴山"
        }, {
            id: 101019066,
            value: "建始",
            text: "建始"
        }, {
            id: 101019067,
            value: "巴东",
            text: "巴东"
        }, {
            id: 101019068,
            value: "鹤峰",
            text: "鹤峰"
        }, {
            id: 101019069,
            value: "宣恩",
            text: "宣恩"
        }, {
            id: 101019070,
            value: "来凤",
            text: "来凤"
        }, {
            id: 101019071,
            value: "咸丰",
            text: "咸丰"
        }, {
            id: 101019072,
            value: "利川",
            text: "利川"
        }, {
            id: 101019073,
            value: "郧县",
            text: "郧县"
        }, {
            id: 101019074,
            value: "丹江口",
            text: "丹江口"
        }, {
            id: 101019075,
            value: "房县",
            text: "房县"
        }, {
            id: 101019076,
            value: "神农架",
            text: "神农架"
        }, {
            id: 101019077,
            value: "竹山",
            text: "竹山"
        }, {
            id: 101019078,
            value: "竹溪",
            text: "竹溪"
        }, {
            id: 101019079,
            value: "郧西",
            text: "郧西"
        }, {
            id: 101019080,
            value: "荆州市",
            text: "荆州市"
        }, {
            id: 101019082,
            value: "赤壁",
            text: "赤壁"
        }, {
            id: 101019083,
            value: "宜都",
            text: "宜都"
        } ],
        "101020": [ {
            id: 101020001,
            value: "长沙",
            text: "长沙"
        }, {
            id: 101020003,
            value: "岳阳",
            text: "岳阳"
        }, {
            id: 101020005,
            value: "临湘",
            text: "临湘"
        }, {
            id: 101020006,
            value: "望城",
            text: "望城"
        }, {
            id: 101020007,
            value: "宁乡",
            text: "宁乡"
        }, {
            id: 101020008,
            value: "浏阳",
            text: "浏阳"
        }, {
            id: 101020009,
            value: "湘潭",
            text: "湘潭"
        }, {
            id: 101020010,
            value: "韶山",
            text: "韶山"
        }, {
            id: 101020011,
            value: "湘乡",
            text: "湘乡"
        }, {
            id: 101020012,
            value: "株洲",
            text: "株洲"
        }, {
            id: 101020013,
            value: "衡阳",
            text: "衡阳"
        }, {
            id: 101020014,
            value: "衡南",
            text: "衡南"
        }, {
            id: 101020015,
            value: "郴州",
            text: "郴州"
        }, {
            id: 101020016,
            value: "桃源",
            text: "桃源"
        }, {
            id: 101020017,
            value: "常德",
            text: "常德"
        }, {
            id: 101020018,
            value: "汉寿",
            text: "汉寿"
        }, {
            id: 101020019,
            value: "益阳",
            text: "益阳"
        }, {
            id: 101020020,
            value: "桃江",
            text: "桃江"
        }, {
            id: 101020021,
            value: "娄底",
            text: "娄底"
        }, {
            id: 101020022,
            value: "邵东",
            text: "邵东"
        }, {
            id: 101020023,
            value: "新邵",
            text: "新邵"
        }, {
            id: 101020024,
            value: "邵阳",
            text: "邵阳"
        }, {
            id: 101020025,
            value: "永州",
            text: "永州"
        }, {
            id: 101020026,
            value: "怀化",
            text: "怀化"
        }, {
            id: 101020027,
            value: "麻阳",
            text: "麻阳"
        }, {
            id: 101020028,
            value: "湘阴",
            text: "湘阴"
        }, {
            id: 101020029,
            value: "华容",
            text: "华容"
        }, {
            id: 101020030,
            value: "平江",
            text: "平江"
        }, {
            id: 101020031,
            value: "汨罗",
            text: "汨罗"
        }, {
            id: 101020032,
            value: "冷水滩",
            text: "冷水滩"
        }, {
            id: 101020033,
            value: "东安",
            text: "东安"
        }, {
            id: 101020034,
            value: "祁阳",
            text: "祁阳"
        }, {
            id: 101020035,
            value: "新田",
            text: "新田"
        }, {
            id: 101020036,
            value: "宁远",
            text: "宁远"
        }, {
            id: 101020037,
            value: "蓝山",
            text: "蓝山"
        }, {
            id: 101020038,
            value: "江华",
            text: "江华"
        }, {
            id: 101020039,
            value: "江永",
            text: "江永"
        }, {
            id: 101020040,
            value: "道县",
            text: "道县"
        }, {
            id: 101020041,
            value: "双牌",
            text: "双牌"
        }, {
            id: 101020042,
            value: "芷江",
            text: "芷江"
        }, {
            id: 101020043,
            value: "黔阳",
            text: "黔阳"
        }, {
            id: 101020044,
            value: "溆浦",
            text: "溆浦"
        }, {
            id: 101020045,
            value: "通道",
            text: "通道"
        }, {
            id: 101020046,
            value: "靖州",
            text: "靖州"
        }, {
            id: 101020047,
            value: "会同",
            text: "会同"
        }, {
            id: 101020048,
            value: "新晃",
            text: "新晃"
        }, {
            id: 101020049,
            value: "辰溪",
            text: "辰溪"
        }, {
            id: 101020050,
            value: "沅陵",
            text: "沅陵"
        }, {
            id: 101020051,
            value: "洪江",
            text: "洪江"
        }, {
            id: 101020052,
            value: "攸县",
            text: "攸县"
        }, {
            id: 101020053,
            value: "茶陵",
            text: "茶陵"
        }, {
            id: 101020054,
            value: "酃县",
            text: "酃县"
        }, {
            id: 101020055,
            value: "醴陵",
            text: "醴陵"
        }, {
            id: 101020056,
            value: "耒阳",
            text: "耒阳"
        }, {
            id: 101020057,
            value: "常宁",
            text: "常宁"
        }, {
            id: 101020058,
            value: "衡东",
            text: "衡东"
        }, {
            id: 101020059,
            value: "衡山",
            text: "衡山"
        }, {
            id: 101020060,
            value: "祁东",
            text: "祁东"
        }, {
            id: 101020061,
            value: "资兴",
            text: "资兴"
        }, {
            id: 101020062,
            value: "桂东",
            text: "桂东"
        }, {
            id: 101020063,
            value: "汝城",
            text: "汝城"
        }, {
            id: 101020064,
            value: "临武",
            text: "临武"
        }, {
            id: 101020065,
            value: "嘉禾",
            text: "嘉禾"
        }, {
            id: 101020066,
            value: "安仁",
            text: "安仁"
        }, {
            id: 101020067,
            value: "桂阳",
            text: "桂阳"
        }, {
            id: 101020068,
            value: "永兴",
            text: "永兴"
        }, {
            id: 101020069,
            value: "宜章",
            text: "宜章"
        }, {
            id: 101020070,
            value: "石门",
            text: "石门"
        }, {
            id: 101020071,
            value: "澧县",
            text: "澧县"
        }, {
            id: 101020072,
            value: "津市",
            text: "津市"
        }, {
            id: 101020073,
            value: "安乡",
            text: "安乡"
        }, {
            id: 101020074,
            value: "临澧",
            text: "临澧"
        }, {
            id: 101020075,
            value: "安化",
            text: "安化"
        }, {
            id: 101020076,
            value: "南县",
            text: "南县"
        }, {
            id: 101020077,
            value: "双峰",
            text: "双峰"
        }, {
            id: 101020078,
            value: "冷水江",
            text: "冷水江"
        }, {
            id: 101020079,
            value: "新化",
            text: "新化"
        }, {
            id: 101020080,
            value: "涟源",
            text: "涟源"
        }, {
            id: 101020081,
            value: "凤凰",
            text: "凤凰"
        }, {
            id: 101020082,
            value: "吉首",
            text: "吉首"
        }, {
            id: 101020083,
            value: "桑植",
            text: "桑植"
        }, {
            id: 101020084,
            value: "大庸",
            text: "大庸"
        }, {
            id: 101020085,
            value: "张家界",
            text: "张家界"
        }, {
            id: 101020086,
            value: "龙山",
            text: "龙山"
        }, {
            id: 101020087,
            value: "永顺",
            text: "永顺"
        }, {
            id: 101020088,
            value: "保靖",
            text: "保靖"
        }, {
            id: 101020089,
            value: "花垣",
            text: "花垣"
        }, {
            id: 101020090,
            value: "古丈",
            text: "古丈"
        }, {
            id: 101020091,
            value: "泸溪",
            text: "泸溪"
        }, {
            id: 101020092,
            value: "慈利",
            text: "慈利"
        }, {
            id: 101020093,
            value: "新宁",
            text: "新宁"
        }, {
            id: 101020094,
            value: "城步",
            text: "城步"
        }, {
            id: 101020095,
            value: "绥宁",
            text: "绥宁"
        }, {
            id: 101020096,
            value: "武岗",
            text: "武岗"
        }, {
            id: 101020097,
            value: "洞口",
            text: "洞口"
        }, {
            id: 101020098,
            value: "隆回",
            text: "隆回"
        }, {
            id: 101020099,
            value: "湘西",
            text: "湘西"
        }, {
            id: 101020100,
            value: "娄底",
            text: "娄底"
        }, {
            id: 101020101,
            value: "沅江",
            text: "沅江"
        }, {
            id: 101020102,
            value: "汨罗",
            text: "汨罗"
        }, {
            id: 101020103,
            value: "武冈",
            text: "武冈"
        } ],
        "101021": [ {
            id: 101021001,
            value: "贵阳",
            text: "贵阳"
        }, {
            id: 101021002,
            value: "遵义",
            text: "遵义"
        }, {
            id: 101021003,
            value: "安顺",
            text: "安顺"
        }, {
            id: 101021004,
            value: "都匀",
            text: "都匀"
        }, {
            id: 101021005,
            value: "凯里",
            text: "凯里"
        }, {
            id: 101021006,
            value: "铜仁",
            text: "铜仁"
        }, {
            id: 101021007,
            value: "毕节",
            text: "毕节"
        }, {
            id: 101021008,
            value: "六盘水",
            text: "六盘水"
        }, {
            id: 101021009,
            value: "兴义",
            text: "兴义"
        }, {
            id: 101021010,
            value: "福贡",
            text: "福贡"
        }, {
            id: 101021011,
            value: "赤水",
            text: "赤水"
        }, {
            id: 101021012,
            value: "习水",
            text: "习水"
        }, {
            id: 101021013,
            value: "仁怀",
            text: "仁怀"
        }, {
            id: 101021014,
            value: "遵义县",
            text: "遵义县"
        }, {
            id: 101021015,
            value: "绥阳",
            text: "绥阳"
        }, {
            id: 101021016,
            value: "湄潭",
            text: "湄潭"
        }, {
            id: 101021017,
            value: "凤冈",
            text: "凤冈"
        }, {
            id: 101021018,
            value: "务川",
            text: "务川"
        }, {
            id: 101021019,
            value: "平坝",
            text: "平坝"
        }, {
            id: 101021020,
            value: "紫云",
            text: "紫云"
        }, {
            id: 101021021,
            value: "镇宁",
            text: "镇宁"
        }, {
            id: 101021022,
            value: "普定",
            text: "普定"
        }, {
            id: 101021023,
            value: "清镇",
            text: "清镇"
        }, {
            id: 101021024,
            value: "修文",
            text: "修文"
        }, {
            id: 101021025,
            value: "息烽",
            text: "息烽"
        }, {
            id: 101021026,
            value: "开阳",
            text: "开阳"
        }, {
            id: 101021027,
            value: "贵定",
            text: "贵定"
        }, {
            id: 101021028,
            value: "福泉",
            text: "福泉"
        }, {
            id: 101021029,
            value: "瓮安",
            text: "瓮安"
        }, {
            id: 101021030,
            value: "三都",
            text: "三都"
        }, {
            id: 101021031,
            value: "独山",
            text: "独山"
        }, {
            id: 101021032,
            value: "平塘",
            text: "平塘"
        }, {
            id: 101021033,
            value: "惠水",
            text: "惠水"
        }, {
            id: 101021034,
            value: "龙里",
            text: "龙里"
        }, {
            id: 101021035,
            value: "黄平",
            text: "黄平"
        }, {
            id: 101021036,
            value: "施秉",
            text: "施秉"
        }, {
            id: 101021037,
            value: "镇远",
            text: "镇远"
        }, {
            id: 101021038,
            value: "天柱",
            text: "天柱"
        }, {
            id: 101021039,
            value: "锦屏",
            text: "锦屏"
        }, {
            id: 101021040,
            value: "黎平",
            text: "黎平"
        }, {
            id: 101021041,
            value: "从江",
            text: "从江"
        }, {
            id: 101021042,
            value: "玉屏",
            text: "玉屏"
        }, {
            id: 101021043,
            value: "石阡",
            text: "石阡"
        }, {
            id: 101021044,
            value: "威宁",
            text: "威宁"
        }, {
            id: 101021045,
            value: "赫章",
            text: "赫章"
        }, {
            id: 101021046,
            value: "纳雍",
            text: "纳雍"
        }, {
            id: 101021047,
            value: "黔西",
            text: "黔西"
        }, {
            id: 101021048,
            value: "大方",
            text: "大方"
        }, {
            id: 101021049,
            value: "金沙",
            text: "金沙"
        }, {
            id: 101021050,
            value: "织金",
            text: "织金"
        }, {
            id: 101021051,
            value: "剑河",
            text: "剑河"
        }, {
            id: 101021052,
            value: "六枝",
            text: "六枝"
        }, {
            id: 101021053,
            value: "盘县",
            text: "盘县"
        }, {
            id: 101021054,
            value: "雷山",
            text: "雷山"
        }, {
            id: 101021055,
            value: "台江",
            text: "台江"
        }, {
            id: 101021056,
            value: "三江",
            text: "三江"
        } ],
        "101022": [ {
            id: 101022001,
            value: "成都",
            text: "成都"
        }, {
            id: 101022002,
            value: "涪陵",
            text: "涪陵"
        }, {
            id: 101022003,
            value: "北碚",
            text: "北碚"
        }, {
            id: 101022004,
            value: "江北",
            text: "江北"
        }, {
            id: 101022005,
            value: "巴县",
            text: "巴县"
        }, {
            id: 101022006,
            value: "攀枝花",
            text: "攀枝花"
        }, {
            id: 101022007,
            value: "自贡",
            text: "自贡"
        }, {
            id: 101022008,
            value: "永川",
            text: "永川"
        }, {
            id: 101022009,
            value: "温江",
            text: "温江"
        }, {
            id: 101022010,
            value: "绵阳",
            text: "绵阳"
        }, {
            id: 101022011,
            value: "南充",
            text: "南充"
        }, {
            id: 101022012,
            value: "达县",
            text: "达县"
        }, {
            id: 101022013,
            value: "万县",
            text: "万县"
        }, {
            id: 101022014,
            value: "泸州",
            text: "泸州"
        }, {
            id: 101022015,
            value: "宜宾",
            text: "宜宾"
        }, {
            id: 101022016,
            value: "内江",
            text: "内江"
        }, {
            id: 101022017,
            value: "乐山",
            text: "乐山"
        }, {
            id: 101022018,
            value: "西昌",
            text: "西昌"
        }, {
            id: 101022019,
            value: "雅安",
            text: "雅安"
        }, {
            id: 101022020,
            value: "马尔康",
            text: "马尔康"
        }, {
            id: 101022021,
            value: "德阳",
            text: "德阳"
        }, {
            id: 101022022,
            value: "中江",
            text: "中江"
        }, {
            id: 101022023,
            value: "绵竹",
            text: "绵竹"
        }, {
            id: 101022024,
            value: "广汉",
            text: "广汉"
        }, {
            id: 101022025,
            value: "什邡",
            text: "什邡"
        }, {
            id: 101022026,
            value: "广元",
            text: "广元"
        }, {
            id: 101022027,
            value: "金堂",
            text: "金堂"
        }, {
            id: 101022028,
            value: "双流",
            text: "双流"
        }, {
            id: 101022029,
            value: "荣县",
            text: "荣县"
        }, {
            id: 101022030,
            value: "綦江",
            text: "綦江"
        }, {
            id: 101022031,
            value: "长寿",
            text: "长寿"
        }, {
            id: 101022032,
            value: "南桐",
            text: "南桐"
        }, {
            id: 101022033,
            value: "双桥",
            text: "双桥"
        }, {
            id: 101022034,
            value: "新津",
            text: "新津"
        }, {
            id: 101022035,
            value: "江津",
            text: "江津"
        }, {
            id: 101022036,
            value: "合川",
            text: "合川"
        }, {
            id: 101022037,
            value: "潼南",
            text: "潼南"
        }, {
            id: 101022038,
            value: "铜梁",
            text: "铜梁"
        }, {
            id: 101022039,
            value: "壁山",
            text: "壁山"
        }, {
            id: 101022040,
            value: "荣昌",
            text: "荣昌"
        }, {
            id: 101022041,
            value: "大足",
            text: "大足"
        }, {
            id: 101022042,
            value: "米易",
            text: "米易"
        }, {
            id: 101022043,
            value: "盐边",
            text: "盐边"
        }, {
            id: 101022044,
            value: "蒲江",
            text: "蒲江"
        }, {
            id: 101022045,
            value: "郫县",
            text: "郫县"
        }, {
            id: 101022046,
            value: "新都",
            text: "新都"
        }, {
            id: 101022047,
            value: "彭县",
            text: "彭县"
        }, {
            id: 101022048,
            value: "都江堰",
            text: "都江堰"
        }, {
            id: 101022049,
            value: "重庆",
            text: "重庆"
        }, {
            id: 101022050,
            value: "大邑",
            text: "大邑"
        }, {
            id: 101022051,
            value: "邛崃",
            text: "邛崃"
        }, {
            id: 101022052,
            value: "平武",
            text: "平武"
        }, {
            id: 101022053,
            value: "宁南",
            text: "宁南"
        }, {
            id: 101022054,
            value: "安县",
            text: "安县"
        }, {
            id: 101022055,
            value: "江油",
            text: "江油"
        }, {
            id: 101022056,
            value: "梓潼",
            text: "梓潼"
        }, {
            id: 101022057,
            value: "剑阁",
            text: "剑阁"
        }, {
            id: 101022058,
            value: "盐源",
            text: "盐源"
        }, {
            id: 101022059,
            value: "旺苍",
            text: "旺苍"
        }, {
            id: 101022060,
            value: "青川",
            text: "青川"
        }, {
            id: 101022061,
            value: "西充",
            text: "西充"
        }, {
            id: 101022062,
            value: "遂宁",
            text: "遂宁"
        }, {
            id: 101022063,
            value: "遂溪",
            text: "遂溪"
        }, {
            id: 101022064,
            value: "三台",
            text: "三台"
        }, {
            id: 101022065,
            value: "蓬溪",
            text: "蓬溪"
        }, {
            id: 101022066,
            value: "射洪",
            text: "射洪"
        }, {
            id: 101022067,
            value: "盐亭",
            text: "盐亭"
        }, {
            id: 101022068,
            value: "华蓥",
            text: "华蓥"
        }, {
            id: 101022069,
            value: "南部",
            text: "南部"
        }, {
            id: 101022070,
            value: "阆中",
            text: "阆中"
        }, {
            id: 101022071,
            value: "苍溪",
            text: "苍溪"
        }, {
            id: 101022072,
            value: "营山",
            text: "营山"
        }, {
            id: 101022073,
            value: "蓬安",
            text: "蓬安"
        }, {
            id: 101022074,
            value: "仪陇",
            text: "仪陇"
        }, {
            id: 101022075,
            value: "岳池",
            text: "岳池"
        }, {
            id: 101022076,
            value: "武胜",
            text: "武胜"
        }, {
            id: 101022077,
            value: "广安",
            text: "广安"
        }, {
            id: 101022078,
            value: "平昌",
            text: "平昌"
        }, {
            id: 101022079,
            value: "宣汉",
            text: "宣汉"
        }, {
            id: 101022080,
            value: "开江",
            text: "开江"
        }, {
            id: 101022081,
            value: "万源",
            text: "万源"
        }, {
            id: 101022082,
            value: "大竹",
            text: "大竹"
        }, {
            id: 101022083,
            value: "渠县",
            text: "渠县"
        }, {
            id: 101022084,
            value: "邻水",
            text: "邻水"
        }, {
            id: 101022085,
            value: "乐至",
            text: "乐至"
        }, {
            id: 101022086,
            value: "眉山",
            text: "眉山"
        }, {
            id: 101022087,
            value: "峨眉山",
            text: "峨眉山"
        }, {
            id: 101022088,
            value: "仁寿",
            text: "仁寿"
        }, {
            id: 101022089,
            value: "井研",
            text: "井研"
        }, {
            id: 101022090,
            value: "洪雅",
            text: "洪雅"
        }, {
            id: 101022091,
            value: "宝兴",
            text: "宝兴"
        }, {
            id: 101022092,
            value: "沐川",
            text: "沐川"
        }, {
            id: 101022093,
            value: "彭山",
            text: "彭山"
        }, {
            id: 101022094,
            value: "青神",
            text: "青神"
        }, {
            id: 101022095,
            value: "丹棱",
            text: "丹棱"
        }, {
            id: 101022096,
            value: "马边",
            text: "马边"
        }, {
            id: 101022097,
            value: "犍为",
            text: "犍为"
        }, {
            id: 101022098,
            value: "石棉",
            text: "石棉"
        }, {
            id: 101022099,
            value: "夹江",
            text: "夹江"
        }, {
            id: 101022100,
            value: "金口河",
            text: "金口河"
        }, {
            id: 101022101,
            value: "会理",
            text: "会理"
        }, {
            id: 101022102,
            value: "会东",
            text: "会东"
        }, {
            id: 101022103,
            value: "冕宁",
            text: "冕宁"
        }, {
            id: 101022104,
            value: "德昌",
            text: "德昌"
        }, {
            id: 101022105,
            value: "雷波",
            text: "雷波"
        }, {
            id: 101022106,
            value: "普格",
            text: "普格"
        }, {
            id: 101022107,
            value: "名山",
            text: "名山"
        }, {
            id: 101022108,
            value: "荥经",
            text: "荥经"
        }, {
            id: 101022109,
            value: "汉源",
            text: "汉源"
        }, {
            id: 101022110,
            value: "天全",
            text: "天全"
        }, {
            id: 101022111,
            value: "芦山",
            text: "芦山"
        }, {
            id: 101022112,
            value: "汶川",
            text: "汶川"
        }, {
            id: 101022113,
            value: "通江",
            text: "通江"
        }, {
            id: 101022114,
            value: "巴中",
            text: "巴中"
        }, {
            id: 101022115,
            value: "达州市",
            text: "达州市"
        }, {
            id: 101022116,
            value: "阿坝",
            text: "阿坝"
        }, {
            id: 101022117,
            value: "资阳",
            text: "资阳"
        }, {
            id: 101022118,
            value: "崇州",
            text: "崇州"
        }, {
            id: 101022119,
            value: "彭州",
            text: "彭州"
        }, {
            id: 101022120,
            value: "简阳",
            text: "简阳"
        }, {
            id: 101022121,
            value: "稻城",
            text: "稻城"
        }, {
            id: 101022122,
            value: "新都桥",
            text: "新都桥"
        }, {
            id: 101022123,
            value: "卧龙",
            text: "卧龙"
        }, {
            id: 101022124,
            value: "丹巴",
            text: "丹巴"
        }, {
            id: 101022125,
            value: "康定",
            text: "康定"
        }, {
            id: 101022126,
            value: "理塘",
            text: "理塘"
        }, {
            id: 101022127,
            value: "九寨",
            text: "九寨"
        }, {
            id: 101022128,
            value: "道孚",
            text: "道孚"
        }, {
            id: 101022129,
            value: "泸定",
            text: "泸定"
        } ],
        "101023": [ {
            id: 101023001,
            value: "昆明",
            text: "昆明"
        }, {
            id: 101023002,
            value: "昭通",
            text: "昭通"
        }, {
            id: 101023003,
            value: "禄劝",
            text: "禄劝"
        }, {
            id: 101023004,
            value: "路南",
            text: "路南"
        }, {
            id: 101023005,
            value: "晋宁",
            text: "晋宁"
        }, {
            id: 101023006,
            value: "呈贡",
            text: "呈贡"
        }, {
            id: 101023007,
            value: "富民",
            text: "富民"
        }, {
            id: 101023008,
            value: "嵩明",
            text: "嵩明"
        }, {
            id: 101023009,
            value: "安宁",
            text: "安宁"
        }, {
            id: 101023010,
            value: "宜良",
            text: "宜良"
        }, {
            id: 101023011,
            value: "宾川",
            text: "宾川"
        }, {
            id: 101023012,
            value: "弥渡",
            text: "弥渡"
        }, {
            id: 101023013,
            value: "大理",
            text: "大理"
        }, {
            id: 101023014,
            value: "个旧",
            text: "个旧"
        }, {
            id: 101023015,
            value: "马龙",
            text: "马龙"
        }, {
            id: 101023016,
            value: "师宗",
            text: "师宗"
        }, {
            id: 101023017,
            value: "富源",
            text: "富源"
        }, {
            id: 101023018,
            value: "曲靖",
            text: "曲靖"
        }, {
            id: 101023019,
            value: "保山",
            text: "保山"
        }, {
            id: 101023020,
            value: "昌宁",
            text: "昌宁"
        }, {
            id: 101023021,
            value: "文山",
            text: "文山"
        }, {
            id: 101023022,
            value: "江川",
            text: "江川"
        }, {
            id: 101023023,
            value: "元江",
            text: "元江"
        }, {
            id: 101023024,
            value: "通海",
            text: "通海"
        }, {
            id: 101023025,
            value: "易门",
            text: "易门"
        }, {
            id: 101023026,
            value: "澄江",
            text: "澄江"
        }, {
            id: 101023027,
            value: "峨山",
            text: "峨山"
        }, {
            id: 101023028,
            value: "华宁",
            text: "华宁"
        }, {
            id: 101023029,
            value: "玉溪",
            text: "玉溪"
        }, {
            id: 101023030,
            value: "新平",
            text: "新平"
        }, {
            id: 101023032,
            value: "楚雄",
            text: "楚雄"
        }, {
            id: 101023033,
            value: "姚安",
            text: "姚安"
        }, {
            id: 101023034,
            value: "双柏",
            text: "双柏"
        }, {
            id: 101023036,
            value: "镇沅",
            text: "镇沅"
        }, {
            id: 101023037,
            value: "镇康",
            text: "镇康"
        }, {
            id: 101023038,
            value: "永德",
            text: "永德"
        }, {
            id: 101023039,
            value: "福贡",
            text: "福贡"
        }, {
            id: 101023040,
            value: "兰坪",
            text: "兰坪"
        }, {
            id: 101023041,
            value: "耿马",
            text: "耿马"
        }, {
            id: 101023042,
            value: "墨江",
            text: "墨江"
        }, {
            id: 101023043,
            value: "麻栗坡",
            text: "麻栗坡"
        }, {
            id: 101023044,
            value: "临沧",
            text: "临沧"
        }, {
            id: 101023045,
            value: "沧源",
            text: "沧源"
        }, {
            id: 101023046,
            value: "凤庆",
            text: "凤庆"
        }, {
            id: 101023047,
            value: "云县",
            text: "云县"
        }, {
            id: 101023048,
            value: "双江",
            text: "双江"
        }, {
            id: 101023049,
            value: "寻甸",
            text: "寻甸"
        }, {
            id: 101023050,
            value: "东川",
            text: "东川"
        }, {
            id: 101023051,
            value: "盐津",
            text: "盐津"
        }, {
            id: 101023052,
            value: "绥江",
            text: "绥江"
        }, {
            id: 101023053,
            value: "水富",
            text: "水富"
        }, {
            id: 101023054,
            value: "镇雄",
            text: "镇雄"
        }, {
            id: 101023055,
            value: "鲁甸",
            text: "鲁甸"
        }, {
            id: 101023056,
            value: "大关",
            text: "大关"
        }, {
            id: 101023057,
            value: "巧家",
            text: "巧家"
        }, {
            id: 101023058,
            value: "彝良",
            text: "彝良"
        }, {
            id: 101023059,
            value: "陆良",
            text: "陆良"
        }, {
            id: 101023060,
            value: "罗平",
            text: "罗平"
        }, {
            id: 101023061,
            value: "宣威",
            text: "宣威"
        }, {
            id: 101023062,
            value: "会泽",
            text: "会泽"
        }, {
            id: 101023063,
            value: "砚山",
            text: "砚山"
        }, {
            id: 101023064,
            value: "勐海",
            text: "勐海"
        }, {
            id: 101023065,
            value: "澜沧",
            text: "澜沧"
        }, {
            id: 101023066,
            value: "景谷",
            text: "景谷"
        }, {
            id: 101023067,
            value: "江城",
            text: "江城"
        }, {
            id: 101023068,
            value: "景东",
            text: "景东"
        }, {
            id: 101023069,
            value: "西盟",
            text: "西盟"
        }, {
            id: 101023070,
            value: "孟连",
            text: "孟连"
        }, {
            id: 101023071,
            value: "普洱",
            text: "普洱"
        }, {
            id: 101023072,
            value: "景洪",
            text: "景洪"
        }, {
            id: 101023073,
            value: "勐腊",
            text: "勐腊"
        }, {
            id: 101023074,
            value: "元阳",
            text: "元阳"
        }, {
            id: 101023075,
            value: "石屏",
            text: "石屏"
        }, {
            id: 101023076,
            value: "弥勒",
            text: "弥勒"
        }, {
            id: 101023077,
            value: "红河",
            text: "红河"
        }, {
            id: 101023078,
            value: "开远",
            text: "开远"
        }, {
            id: 101023079,
            value: "蒙自",
            text: "蒙自"
        }, {
            id: 101023080,
            value: "建水",
            text: "建水"
        }, {
            id: 101023081,
            value: "河口",
            text: "河口"
        }, {
            id: 101023082,
            value: "泸西",
            text: "泸西"
        }, {
            id: 101023083,
            value: "屏边",
            text: "屏边"
        }, {
            id: 101023084,
            value: "邱北",
            text: "邱北"
        }, {
            id: 101023085,
            value: "广南",
            text: "广南"
        }, {
            id: 101023086,
            value: "富宁",
            text: "富宁"
        }, {
            id: 101023087,
            value: "马关",
            text: "马关"
        }, {
            id: 101023088,
            value: "西畴",
            text: "西畴"
        }, {
            id: 101023089,
            value: "永仁",
            text: "永仁"
        }, {
            id: 101023090,
            value: "禄丰",
            text: "禄丰"
        }, {
            id: 101023091,
            value: "大姚",
            text: "大姚"
        }, {
            id: 101023092,
            value: "南华",
            text: "南华"
        }, {
            id: 101023093,
            value: "牟定",
            text: "牟定"
        }, {
            id: 101023094,
            value: "武定",
            text: "武定"
        }, {
            id: 101023095,
            value: "元谋",
            text: "元谋"
        }, {
            id: 101023096,
            value: "南涧",
            text: "南涧"
        }, {
            id: 101023097,
            value: "剑川",
            text: "剑川"
        }, {
            id: 101023098,
            value: "鹤庆",
            text: "鹤庆"
        }, {
            id: 101023099,
            value: "祥云",
            text: "祥云"
        }, {
            id: 101023100,
            value: "漾濞",
            text: "漾濞"
        }, {
            id: 101023101,
            value: "洱源",
            text: "洱源"
        }, {
            id: 101023102,
            value: "永平",
            text: "永平"
        }, {
            id: 101023103,
            value: "巍山",
            text: "巍山"
        }, {
            id: 101023104,
            value: "腾冲",
            text: "腾冲"
        }, {
            id: 101023105,
            value: "龙陵",
            text: "龙陵"
        }, {
            id: 101023106,
            value: "施甸",
            text: "施甸"
        }, {
            id: 101023107,
            value: "梁河",
            text: "梁河"
        }, {
            id: 101023108,
            value: "盈江",
            text: "盈江"
        }, {
            id: 101023109,
            value: "畹町",
            text: "畹町"
        }, {
            id: 101023110,
            value: "瑞丽",
            text: "瑞丽"
        }, {
            id: 101023111,
            value: "陇川",
            text: "陇川"
        }, {
            id: 101023112,
            value: "潞西",
            text: "潞西"
        }, {
            id: 101023113,
            value: "永善",
            text: "永善"
        }, {
            id: 101023114,
            value: "威信",
            text: "威信"
        }, {
            id: 101023115,
            value: "云龙",
            text: "云龙"
        }, {
            id: 101023116,
            value: "丽江",
            text: "丽江"
        }, {
            id: 101023117,
            value: "宁蒗",
            text: "宁蒗"
        }, {
            id: 101023118,
            value: "华坪",
            text: "华坪"
        }, {
            id: 101023119,
            value: "永胜",
            text: "永胜"
        }, {
            id: 101023120,
            value: "中甸",
            text: "中甸"
        }, {
            id: 101023121,
            value: "金平",
            text: "金平"
        }, {
            id: 101023122,
            value: "泸水",
            text: "泸水"
        }, {
            id: 101023123,
            value: "六库",
            text: "六库"
        }, {
            id: 101023124,
            value: "绿春",
            text: "绿春"
        }, {
            id: 101023125,
            value: "桥头",
            text: "桥头"
        }, {
            id: 101023126,
            value: "德钦",
            text: "德钦"
        } ],
        "101024": [ {
            id: 101024001,
            value: "乌鲁木齐",
            text: "乌鲁木齐"
        }, {
            id: 101024002,
            value: "克拉玛依",
            text: "克拉玛依"
        }, {
            id: 101024003,
            value: "石河子",
            text: "石河子"
        }, {
            id: 101024004,
            value: "喀什",
            text: "喀什"
        }, {
            id: 101024005,
            value: "哈密",
            text: "哈密"
        }, {
            id: 101024006,
            value: "吐鲁番",
            text: "吐鲁番"
        }, {
            id: 101024007,
            value: "伊宁",
            text: "伊宁"
        }, {
            id: 101024008,
            value: "图木舒克",
            text: "图木舒克"
        }, {
            id: 101024009,
            value: "五家渠",
            text: "五家渠"
        }, {
            id: 101024010,
            value: "阿克苏",
            text: "阿克苏"
        }, {
            id: 101024011,
            value: "和田",
            text: "和田"
        }, {
            id: 101024012,
            value: "阿图什",
            text: "阿图什"
        }, {
            id: 101024013,
            value: "博乐",
            text: "博乐"
        }, {
            id: 101024014,
            value: "昌吉",
            text: "昌吉"
        }, {
            id: 101024015,
            value: "阜康",
            text: "阜康"
        }, {
            id: 101024016,
            value: "米泉",
            text: "米泉"
        }, {
            id: 101024017,
            value: "库尔勒",
            text: "库尔勒"
        }, {
            id: 101024018,
            value: "奎屯",
            text: "奎屯"
        }, {
            id: 101024019,
            value: "塔城",
            text: "塔城"
        }, {
            id: 101024020,
            value: "乌苏",
            text: "乌苏"
        }, {
            id: 101024021,
            value: "阿勒泰",
            text: "阿勒泰"
        }, {
            id: 101024022,
            value: "布尔津",
            text: "布尔津"
        } ],
        "101025": [ {
            id: 101025001,
            value: "银川",
            text: "银川"
        }, {
            id: 101025002,
            value: "贺兰",
            text: "贺兰"
        }, {
            id: 101025003,
            value: "永宁",
            text: "永宁"
        }, {
            id: 101025004,
            value: "平罗",
            text: "平罗"
        }, {
            id: 101025005,
            value: "石嘴山",
            text: "石嘴山"
        }, {
            id: 101025006,
            value: "吴忠",
            text: "吴忠"
        }, {
            id: 101025007,
            value: "青铜峡",
            text: "青铜峡"
        }, {
            id: 101025008,
            value: "固原",
            text: "固原"
        }, {
            id: 101025009,
            value: "盐池",
            text: "盐池"
        }, {
            id: 101025010,
            value: "中宁",
            text: "中宁"
        }, {
            id: 101025011,
            value: "中卫",
            text: "中卫"
        }, {
            id: 101025012,
            value: "灵武",
            text: "灵武"
        } ],
        "101026": [ {
            id: 101026001,
            value: "西宁",
            text: "西宁"
        }, {
            id: 101026002,
            value: "大通",
            text: "大通"
        }, {
            id: 101026003,
            value: "平安",
            text: "平安"
        }, {
            id: 101026004,
            value: "同仁",
            text: "同仁"
        }, {
            id: 101026005,
            value: "共和",
            text: "共和"
        }, {
            id: 101026006,
            value: "玛沁",
            text: "玛沁"
        }, {
            id: 101026007,
            value: "玉树",
            text: "玉树"
        }, {
            id: 101026008,
            value: "德令哈",
            text: "德令哈"
        }, {
            id: 101026009,
            value: "门源",
            text: "门源"
        }, {
            id: 101026010,
            value: "格尔木",
            text: "格尔木"
        }, {
            id: 101026012,
            value: "乐都",
            text: "乐都"
        }, {
            id: 101026013,
            value: "湟中",
            text: "湟中"
        }, {
            id: 101026014,
            value: "互助",
            text: "互助"
        }, {
            id: 101026015,
            value: "湟源",
            text: "湟源"
        }, {
            id: 101026016,
            value: "民和",
            text: "民和"
        }, {
            id: 101026017,
            value: "循化",
            text: "循化"
        }, {
            id: 101026018,
            value: "化隆",
            text: "化隆"
        }, {
            id: 101026019,
            value: "尖扎",
            text: "尖扎"
        }, {
            id: 101026020,
            value: "泽库",
            text: "泽库"
        }, {
            id: 101026021,
            value: "李家峡",
            text: "李家峡"
        }, {
            id: 101026022,
            value: "乌兰",
            text: "乌兰"
        }, {
            id: 101026023,
            value: "都兰",
            text: "都兰"
        }, {
            id: 101026024,
            value: "天峻",
            text: "天峻"
        }, {
            id: 101026025,
            value: "龙羊峡",
            text: "龙羊峡"
        }, {
            id: 101026026,
            value: "茫崖",
            text: "茫崖"
        }, {
            id: 101026027,
            value: "贵德",
            text: "贵德"
        }, {
            id: 101026028,
            value: "冷湖",
            text: "冷湖"
        }, {
            id: 101026029,
            value: "海东",
            text: "海东"
        } ],
        "101027": [ {
            id: 101027001,
            value: "拉萨",
            text: "拉萨"
        }, {
            id: 101027002,
            value: "日喀则",
            text: "日喀则"
        }, {
            id: 101027003,
            value: "山南",
            text: "山南"
        }, {
            id: 101027004,
            value: "林芝",
            text: "林芝"
        }, {
            id: 101027005,
            value: "昌都",
            text: "昌都"
        }, {
            id: 101027006,
            value: "江达",
            text: "江达"
        }, {
            id: 101027007,
            value: "芒康",
            text: "芒康"
        }, {
            id: 101027008,
            value: "八宿",
            text: "八宿"
        }, {
            id: 101027009,
            value: "洛隆",
            text: "洛隆"
        }, {
            id: 101027010,
            value: "丁青",
            text: "丁青"
        }, {
            id: 101027011,
            value: "巴青",
            text: "巴青"
        }, {
            id: 101027012,
            value: "比如",
            text: "比如"
        }, {
            id: 101027013,
            value: "那曲",
            text: "那曲"
        }, {
            id: 101027014,
            value: "班戈",
            text: "班戈"
        }, {
            id: 101027015,
            value: "措勤",
            text: "措勤"
        }, {
            id: 101027016,
            value: "阿里",
            text: "阿里"
        }, {
            id: 101027017,
            value: "索县",
            text: "索县"
        } ],
        "101028": [ {
            id: 101028001,
            value: "南宁",
            text: "南宁"
        }, {
            id: 101028002,
            value: "防城",
            text: "防城"
        }, {
            id: 101028003,
            value: "武鸣",
            text: "武鸣"
        }, {
            id: 101028004,
            value: "宾阳",
            text: "宾阳"
        }, {
            id: 101028005,
            value: "横县",
            text: "横县"
        }, {
            id: 101028007,
            value: "邕宁",
            text: "邕宁"
        }, {
            id: 101028008,
            value: "融安",
            text: "融安"
        }, {
            id: 101028009,
            value: "三江",
            text: "三江"
        }, {
            id: 101028010,
            value: "柳城",
            text: "柳城"
        }, {
            id: 101028011,
            value: "融水",
            text: "融水"
        }, {
            id: 101028012,
            value: "金秀",
            text: "金秀"
        }, {
            id: 101028013,
            value: "柳州",
            text: "柳州"
        }, {
            id: 101028014,
            value: "鹿寨",
            text: "鹿寨"
        }, {
            id: 101028015,
            value: "柳江",
            text: "柳江"
        }, {
            id: 101028016,
            value: "荔浦",
            text: "荔浦"
        }, {
            id: 101028017,
            value: "平乐",
            text: "平乐"
        }, {
            id: 101028018,
            value: "永福",
            text: "永福"
        }, {
            id: 101028019,
            value: "恭城",
            text: "恭城"
        }, {
            id: 101028020,
            value: "阳朔",
            text: "阳朔"
        }, {
            id: 101028021,
            value: "临桂",
            text: "临桂"
        }, {
            id: 101028022,
            value: "灵川",
            text: "灵川"
        }, {
            id: 101028023,
            value: "桂林",
            text: "桂林"
        }, {
            id: 101028024,
            value: "梧州",
            text: "梧州"
        }, {
            id: 101028025,
            value: "苍梧",
            text: "苍梧"
        }, {
            id: 101028026,
            value: "藤县",
            text: "藤县"
        }, {
            id: 101028027,
            value: "蒙山",
            text: "蒙山"
        }, {
            id: 101028028,
            value: "岑溪",
            text: "岑溪"
        }, {
            id: 101028029,
            value: "昭平",
            text: "昭平"
        }, {
            id: 101028030,
            value: "北流",
            text: "北流"
        }, {
            id: 101028031,
            value: "陆川",
            text: "陆川"
        }, {
            id: 101028032,
            value: "博白",
            text: "博白"
        }, {
            id: 101028033,
            value: "容县",
            text: "容县"
        }, {
            id: 101028034,
            value: "玉林",
            text: "玉林"
        }, {
            id: 101028035,
            value: "百色",
            text: "百色"
        }, {
            id: 101028036,
            value: "钦州",
            text: "钦州"
        }, {
            id: 101028037,
            value: "河池",
            text: "河池"
        }, {
            id: 101028038,
            value: "宜山",
            text: "宜山"
        }, {
            id: 101028039,
            value: "罗城",
            text: "罗城"
        }, {
            id: 101028040,
            value: "南丹",
            text: "南丹"
        }, {
            id: 101028041,
            value: "环江",
            text: "环江"
        }, {
            id: 101028042,
            value: "北海",
            text: "北海"
        }, {
            id: 101028043,
            value: "合浦",
            text: "合浦"
        }, {
            id: 101028044,
            value: "都安",
            text: "都安"
        }, {
            id: 101028045,
            value: "东兰",
            text: "东兰"
        }, {
            id: 101028046,
            value: "风山",
            text: "风山"
        }, {
            id: 101028047,
            value: "天峨",
            text: "天峨"
        }, {
            id: 101028048,
            value: "巴马",
            text: "巴马"
        }, {
            id: 101028049,
            value: "上林",
            text: "上林"
        }, {
            id: 101028050,
            value: "凭祥",
            text: "凭祥"
        }, {
            id: 101028051,
            value: "崇左",
            text: "崇左"
        }, {
            id: 101028052,
            value: "宁明",
            text: "宁明"
        }, {
            id: 101028053,
            value: "马山",
            text: "马山"
        }, {
            id: 101028054,
            value: "龙州",
            text: "龙州"
        }, {
            id: 101028055,
            value: "大新",
            text: "大新"
        }, {
            id: 101028056,
            value: "天等",
            text: "天等"
        }, {
            id: 101028057,
            value: "隆安",
            text: "隆安"
        }, {
            id: 101028058,
            value: "扶绥",
            text: "扶绥"
        }, {
            id: 101028059,
            value: "来宾",
            text: "来宾"
        }, {
            id: 101028060,
            value: "忻城",
            text: "忻城"
        }, {
            id: 101028061,
            value: "合山",
            text: "合山"
        }, {
            id: 101028062,
            value: "武宣",
            text: "武宣"
        }, {
            id: 101028063,
            value: "象州",
            text: "象州"
        }, {
            id: 101028064,
            value: "灌阳",
            text: "灌阳"
        }, {
            id: 101028065,
            value: "兴安",
            text: "兴安"
        }, {
            id: 101028066,
            value: "全州",
            text: "全州"
        }, {
            id: 101028067,
            value: "龙胜",
            text: "龙胜"
        }, {
            id: 101028068,
            value: "资源",
            text: "资源"
        }, {
            id: 101028069,
            value: "田阳",
            text: "田阳"
        }, {
            id: 101028070,
            value: "乐业",
            text: "乐业"
        }, {
            id: 101028071,
            value: "靖西",
            text: "靖西"
        }, {
            id: 101028072,
            value: "田东",
            text: "田东"
        }, {
            id: 101028073,
            value: "平果",
            text: "平果"
        }, {
            id: 101028074,
            value: "德保",
            text: "德保"
        }, {
            id: 101028075,
            value: "那坡",
            text: "那坡"
        }, {
            id: 101028076,
            value: "田林",
            text: "田林"
        }, {
            id: 101028077,
            value: "隆林",
            text: "隆林"
        }, {
            id: 101028078,
            value: "西林",
            text: "西林"
        }, {
            id: 101028079,
            value: "凌云",
            text: "凌云"
        }, {
            id: 101028080,
            value: "贺县",
            text: "贺县"
        }, {
            id: 101028081,
            value: "钟山",
            text: "钟山"
        }, {
            id: 101028082,
            value: "富川",
            text: "富川"
        }, {
            id: 101028083,
            value: "桂平",
            text: "桂平"
        }, {
            id: 101028084,
            value: "平南",
            text: "平南"
        }, {
            id: 101028085,
            value: "贵港",
            text: "贵港"
        }, {
            id: 101028086,
            value: "灵山",
            text: "灵山"
        }, {
            id: 101028087,
            value: "浦北",
            text: "浦北"
        }, {
            id: 101028088,
            value: "上思",
            text: "上思"
        }, {
            id: 101028089,
            value: "防城港",
            text: "防城港"
        }, {
            id: 101028090,
            value: "贺州",
            text: "贺州"
        }, {
            id: 101028091,
            value: "东兴",
            text: "东兴"
        }, {
            id: 101028092,
            value: "宜州",
            text: "宜州"
        } ],
        "101029": [ {
            id: 101029001,
            value: "广州市",
            text: "广州市"
        }, {
            id: 101029002,
            value: "深圳",
            text: "深圳"
        }, {
            id: 101029049,
            value: "佛山",
            text: "佛山"
        }, {
            id: 101029003,
            value: "珠海",
            text: "珠海"
        }, {
            id: 101029004,
            value: "中山",
            text: "中山"
        }, {
            id: 101029005,
            value: "汕头",
            text: "汕头"
        }, {
            id: 101029006,
            value: "汕尾",
            text: "汕尾"
        }, {
            id: 101029007,
            value: "紫金",
            text: "紫金"
        }, {
            id: 101029008,
            value: "佛冈",
            text: "佛冈"
        }, {
            id: 101029009,
            value: "英德",
            text: "英德"
        }, {
            id: 101029010,
            value: "茂名",
            text: "茂名"
        }, {
            id: 101029011,
            value: "东莞",
            text: "东莞"
        }, {
            id: 101029012,
            value: "顺德",
            text: "顺德"
        }, {
            id: 101029013,
            value: "龙川",
            text: "龙川"
        }, {
            id: 101029014,
            value: "番禺",
            text: "番禺"
        }, {
            id: 101029015,
            value: "花县",
            text: "花县"
        }, {
            id: 101029016,
            value: "从化",
            text: "从化"
        }, {
            id: 101029017,
            value: "增城",
            text: "增城"
        }, {
            id: 101029018,
            value: "江门",
            text: "江门"
        }, {
            id: 101029019,
            value: "鹤山",
            text: "鹤山"
        }, {
            id: 101029020,
            value: "新会",
            text: "新会"
        }, {
            id: 101029021,
            value: "台山",
            text: "台山"
        }, {
            id: 101029022,
            value: "开平",
            text: "开平"
        }, {
            id: 101029023,
            value: "恩平",
            text: "恩平"
        }, {
            id: 101029024,
            value: "韶关",
            text: "韶关"
        }, {
            id: 101029025,
            value: "乐昌",
            text: "乐昌"
        }, {
            id: 101029026,
            value: "仁化",
            text: "仁化"
        }, {
            id: 101029027,
            value: "始兴",
            text: "始兴"
        }, {
            id: 101029028,
            value: "翁源",
            text: "翁源"
        }, {
            id: 101029029,
            value: "南雄",
            text: "南雄"
        }, {
            id: 101029030,
            value: "新丰",
            text: "新丰"
        }, {
            id: 101029031,
            value: "乳源",
            text: "乳源"
        }, {
            id: 101029032,
            value: "曲江",
            text: "曲江"
        }, {
            id: 101029033,
            value: "博罗",
            text: "博罗"
        }, {
            id: 101029034,
            value: "惠州",
            text: "惠州"
        }, {
            id: 101029035,
            value: "惠阳",
            text: "惠阳"
        }, {
            id: 101029036,
            value: "惠东",
            text: "惠东"
        }, {
            id: 101029037,
            value: "龙门",
            text: "龙门"
        }, {
            id: 101029038,
            value: "梅州",
            text: "梅州"
        }, {
            id: 101029039,
            value: "梅县",
            text: "梅县"
        }, {
            id: 101029040,
            value: "蕉岭",
            text: "蕉岭"
        }, {
            id: 101029041,
            value: "大埔",
            text: "大埔"
        }, {
            id: 101029042,
            value: "丰顺",
            text: "丰顺"
        }, {
            id: 101029043,
            value: "五华",
            text: "五华"
        }, {
            id: 101029044,
            value: "兴宁",
            text: "兴宁"
        }, {
            id: 101029045,
            value: "平远",
            text: "平远"
        }, {
            id: 101029046,
            value: "澄海",
            text: "澄海"
        }, {
            id: 101029047,
            value: "南澳",
            text: "南澳"
        }, {
            id: 101029048,
            value: "斗门",
            text: "斗门"
        }, {
            id: 101029050,
            value: "南海",
            text: "南海"
        }, {
            id: 101029052,
            value: "高明",
            text: "高明"
        }, {
            id: 101029053,
            value: "高要",
            text: "高要"
        }, {
            id: 101029054,
            value: "肇庆",
            text: "肇庆"
        }, {
            id: 101029055,
            value: "封开",
            text: "封开"
        }, {
            id: 101029056,
            value: "德庆",
            text: "德庆"
        }, {
            id: 101029057,
            value: "怀集",
            text: "怀集"
        }, {
            id: 101029058,
            value: "广宁",
            text: "广宁"
        }, {
            id: 101029059,
            value: "四会",
            text: "四会"
        }, {
            id: 101029060,
            value: "湛江",
            text: "湛江"
        }, {
            id: 101029061,
            value: "雷州",
            text: "雷州"
        }, {
            id: 101029062,
            value: "遂溪",
            text: "遂溪"
        }, {
            id: 101029063,
            value: "廉江",
            text: "廉江"
        }, {
            id: 101029064,
            value: "吴川",
            text: "吴川"
        }, {
            id: 101029065,
            value: "徐闻",
            text: "徐闻"
        }, {
            id: 101029066,
            value: "河源",
            text: "河源"
        }, {
            id: 101029067,
            value: "东源",
            text: "东源"
        }, {
            id: 101029068,
            value: "连平",
            text: "连平"
        }, {
            id: 101029069,
            value: "和平",
            text: "和平"
        }, {
            id: 101029070,
            value: "云浮",
            text: "云浮"
        }, {
            id: 101029071,
            value: "潮州",
            text: "潮州"
        }, {
            id: 101029072,
            value: "阳江",
            text: "阳江"
        }, {
            id: 101029073,
            value: "揭阳",
            text: "揭阳"
        }, {
            id: 101029074,
            value: "清远",
            text: "清远"
        }, {
            id: 101029075,
            value: "连州",
            text: "连州"
        }, {
            id: 101029076,
            value: "普宁",
            text: "普宁"
        }, {
            id: 101029077,
            value: "陆丰",
            text: "陆丰"
        }, {
            id: 101029078,
            value: "罗定",
            text: "罗定"
        }, {
            id: 101029079,
            value: "阳春",
            text: "阳春"
        }, {
            id: 101029080,
            value: "化州",
            text: "化州"
        }, {
            id: 101029081,
            value: "信宜",
            text: "信宜"
        }, {
            id: 101029082,
            value: "高州",
            text: "高州"
        }, {
            id: 101029083,
            value: "雷州",
            text: "雷州"
        } ],
        "101030": [ {
            id: 101030002,
            value: "厦门",
            text: "厦门"
        }, {
            id: 101030001,
            value: "福州",
            text: "福州"
        }, {
            id: 101030003,
            value: "建阳",
            text: "建阳"
        }, {
            id: 101030004,
            value: "罗源",
            text: "罗源"
        }, {
            id: 101030005,
            value: "连江",
            text: "连江"
        }, {
            id: 101030006,
            value: "长乐",
            text: "长乐"
        }, {
            id: 101030007,
            value: "福清",
            text: "福清"
        }, {
            id: 101030008,
            value: "平潭",
            text: "平潭"
        }, {
            id: 101030009,
            value: "永泰",
            text: "永泰"
        }, {
            id: 101030010,
            value: "闽清",
            text: "闽清"
        }, {
            id: 101030011,
            value: "闽候",
            text: "闽候"
        }, {
            id: 101030012,
            value: "同安",
            text: "同安"
        }, {
            id: 101030013,
            value: "福安",
            text: "福安"
        }, {
            id: 101030014,
            value: "柘荣",
            text: "柘荣"
        }, {
            id: 101030015,
            value: "福鼎",
            text: "福鼎"
        }, {
            id: 101030016,
            value: "霞浦",
            text: "霞浦"
        }, {
            id: 101030017,
            value: "古田",
            text: "古田"
        }, {
            id: 101030018,
            value: "屏南",
            text: "屏南"
        }, {
            id: 101030019,
            value: "周宁",
            text: "周宁"
        }, {
            id: 101030020,
            value: "寿宁",
            text: "寿宁"
        }, {
            id: 101030021,
            value: "宁德",
            text: "宁德"
        }, {
            id: 101030022,
            value: "莆田",
            text: "莆田"
        }, {
            id: 101030023,
            value: "仙游",
            text: "仙游"
        }, {
            id: 101030024,
            value: "泉州",
            text: "泉州"
        }, {
            id: 101030025,
            value: "石狮",
            text: "石狮"
        }, {
            id: 101030026,
            value: "晋江",
            text: "晋江"
        }, {
            id: 101030027,
            value: "惠安",
            text: "惠安"
        }, {
            id: 101030028,
            value: "南安",
            text: "南安"
        }, {
            id: 101030029,
            value: "安溪",
            text: "安溪"
        }, {
            id: 101030030,
            value: "永春",
            text: "永春"
        }, {
            id: 101030031,
            value: "德化",
            text: "德化"
        }, {
            id: 101030032,
            value: "漳州",
            text: "漳州"
        }, {
            id: 101030033,
            value: "长泰",
            text: "长泰"
        }, {
            id: 101030034,
            value: "龙海",
            text: "龙海"
        }, {
            id: 101030035,
            value: "漳浦",
            text: "漳浦"
        }, {
            id: 101030036,
            value: "东山",
            text: "东山"
        }, {
            id: 101030037,
            value: "云宵",
            text: "云宵"
        }, {
            id: 101030038,
            value: "诏安",
            text: "诏安"
        }, {
            id: 101030039,
            value: "平和",
            text: "平和"
        }, {
            id: 101030040,
            value: "南靖",
            text: "南靖"
        }, {
            id: 101030041,
            value: "华安",
            text: "华安"
        }, {
            id: 101030042,
            value: "龙岩",
            text: "龙岩"
        }, {
            id: 101030043,
            value: "漳平",
            text: "漳平"
        }, {
            id: 101030044,
            value: "永定",
            text: "永定"
        }, {
            id: 101030045,
            value: "上杭",
            text: "上杭"
        }, {
            id: 101030046,
            value: "武平",
            text: "武平"
        }, {
            id: 101030047,
            value: "长汀",
            text: "长汀"
        }, {
            id: 101030048,
            value: "连城",
            text: "连城"
        }, {
            id: 101030049,
            value: "三明",
            text: "三明"
        }, {
            id: 101030050,
            value: "沙县",
            text: "沙县"
        }, {
            id: 101030051,
            value: "尤溪",
            text: "尤溪"
        }, {
            id: 101030052,
            value: "大田",
            text: "大田"
        }, {
            id: 101030053,
            value: "永安",
            text: "永安"
        }, {
            id: 101030054,
            value: "清流",
            text: "清流"
        }, {
            id: 101030055,
            value: "宁化",
            text: "宁化"
        }, {
            id: 101030056,
            value: "明溪",
            text: "明溪"
        }, {
            id: 101030057,
            value: "建宁",
            text: "建宁"
        }, {
            id: 101030058,
            value: "泰宁",
            text: "泰宁"
        }, {
            id: 101030059,
            value: "将乐",
            text: "将乐"
        }, {
            id: 101030060,
            value: "南平",
            text: "南平"
        }, {
            id: 101030061,
            value: "浦城",
            text: "浦城"
        }, {
            id: 101030062,
            value: "松溪",
            text: "松溪"
        }, {
            id: 101030063,
            value: "政和",
            text: "政和"
        }, {
            id: 101030064,
            value: "建瓯",
            text: "建瓯"
        }, {
            id: 101030065,
            value: "顺昌",
            text: "顺昌"
        }, {
            id: 101030066,
            value: "邵武",
            text: "邵武"
        }, {
            id: 101030067,
            value: "光泽",
            text: "光泽"
        }, {
            id: 101030068,
            value: "武夷山",
            text: "武夷山"
        } ],
        "101031": [ {
            id: 101031001,
            value: "海口市",
            text: "海口市"
        }, {
            id: 101031002,
            value: "三亚市",
            text: "三亚市"
        }, {
            id: 101031003,
            value: "琼山市",
            text: "琼山市"
        }, {
            id: 101031004,
            value: "琼海市",
            text: "琼海市"
        }, {
            id: 101031005,
            value: "儋州市",
            text: "儋州市"
        }, {
            id: 101031006,
            value: "文昌市",
            text: "文昌市"
        }, {
            id: 101031007,
            value: "东方市",
            text: "东方市"
        }, {
            id: 101031008,
            value: "通什市",
            text: "通什市"
        }, {
            id: 101031009,
            value: "万宁市",
            text: "万宁市"
        }, {
            id: 101031010,
            value: "定安县",
            text: "定安县"
        }, {
            id: 101031011,
            value: "屯昌县",
            text: "屯昌县"
        }, {
            id: 101031012,
            value: "澄迈县",
            text: "澄迈县"
        }, {
            id: 101031013,
            value: "临高县",
            text: "临高县"
        }, {
            id: 101031014,
            value: "陵水县",
            text: "陵水县"
        }, {
            id: 101031015,
            value: "琼中县",
            text: "琼中县"
        }, {
            id: 101031016,
            value: "保亭县",
            text: "保亭县"
        }, {
            id: 101031017,
            value: "乐东县",
            text: "乐东县"
        }, {
            id: 101031018,
            value: "白沙县",
            text: "白沙县"
        }, {
            id: 101031019,
            value: "昌江县",
            text: "昌江县"
        }, {
            id: 101031020,
            value: "五指山",
            text: "五指山"
        }, {
            id: 101031021,
            value: "其它",
            text: "其它"
        } ],
        "101032": [ {
            id: 101032001,
            value: "台北",
            text: "台北"
        }, {
            id: 101032002,
            value: "桃源",
            text: "桃源"
        }, {
            id: 101032003,
            value: "新竹",
            text: "新竹"
        }, {
            id: 101032004,
            value: "基隆",
            text: "基隆"
        }, {
            id: 101032005,
            value: "苗栗",
            text: "苗栗"
        }, {
            id: 101032006,
            value: "宜兰",
            text: "宜兰"
        }, {
            id: 101032007,
            value: "台中",
            text: "台中"
        }, {
            id: 101032008,
            value: "彰化",
            text: "彰化"
        }, {
            id: 101032009,
            value: "南投",
            text: "南投"
        }, {
            id: 101032010,
            value: "花莲",
            text: "花莲"
        }, {
            id: 101032011,
            value: "云林",
            text: "云林"
        }, {
            id: 101032012,
            value: "嘉义",
            text: "嘉义"
        }, {
            id: 101032013,
            value: "台南",
            text: "台南"
        }, {
            id: 101032014,
            value: "高雄",
            text: "高雄"
        }, {
            id: 101032015,
            value: "台东",
            text: "台东"
        }, {
            id: 101032016,
            value: "屏东",
            text: "屏东"
        }, {
            id: 101032017,
            value: "澎湖",
            text: "澎湖"
        }, {
            id: 101032018,
            value: "桃园",
            text: "桃园"
        }, {
            id: 101032019,
            value: "马祖",
            text: "马祖"
        }, {
            id: 101032020,
            value: "金门",
            text: "金门"
        } ],
        "101033": [ {
            id: 101033001,
            value: "香港岛",
            text: "香港岛"
        }, {
            id: 101033002,
            value: "九龙",
            text: "九龙"
        }, {
            id: 101033003,
            value: "新界",
            text: "新界"
        }, {
            id: 101033004,
            value: "离岛",
            text: "离岛"
        } ],
        "101034": [ {
            id: 101034001,
            value: "澳门",
            text: "澳门"
        }, {
            id: 101034002,
            value: "凼仔",
            text: "凼仔"
        }, {
            id: 101034003,
            value: "路环",
            text: "路环"
        } ],
        "101035": [ {
            id: 101035001,
            value: "其他",
            text: "其他"
        } ],
        "102001": [ {
            id: 102001001,
            value: "日本",
            text: "日本"
        }, {
            id: 102001002,
            value: "韩国",
            text: "韩国"
        }, {
            id: 102001003,
            value: "泰国",
            text: "泰国"
        }, {
            id: 102001004,
            value: "新加坡",
            text: "新加坡"
        }, {
            id: 102001005,
            value: "菲律宾",
            text: "菲律宾"
        }, {
            id: 102001006,
            value: "马来西亚",
            text: "马来西亚"
        }, {
            id: 102001007,
            value: "越南",
            text: "越南"
        }, {
            id: 102001008,
            value: "老挝",
            text: "老挝"
        }, {
            id: 102001009,
            value: "柬埔寨",
            text: "柬埔寨"
        }, {
            id: 102001010,
            value: "马尔代夫",
            text: "马尔代夫"
        }, {
            id: 102001011,
            value: "英国",
            text: "英国"
        }, {
            id: 102001012,
            value: "法国",
            text: "法国"
        }, {
            id: 102001013,
            value: "德国",
            text: "德国"
        }, {
            id: 102001014,
            value: "意大利",
            text: "意大利"
        }, {
            id: 102001015,
            value: "南非",
            text: "南非"
        }, {
            id: 102001016,
            value: "美国",
            text: "美国"
        }, {
            id: 102001017,
            value: "澳大利亚",
            text: "澳大利亚"
        }, {
            id: 102001018,
            value: "新西兰",
            text: "新西兰"
        } ],
        "102002": [ {
            id: 102002001,
            value: "亚洲",
            text: "亚洲"
        }, {
            id: 102002002,
            value: "欧洲",
            text: "欧洲"
        }, {
            id: 102002003,
            value: "非洲",
            text: "非洲"
        }, {
            id: 102002004,
            value: "北美洲",
            text: "北美洲"
        }, {
            id: 102002005,
            value: "南美洲",
            text: "南美洲"
        }, {
            id: 102002006,
            value: "大洋洲",
            text: "大洋洲"
        }, {
            id: 102002007,
            value: "南极洲",
            text: "南极洲"
        } ]
    };
    exports.data = {
        list: [ {
            word: "A",
            city: [ {
                city: "安徽",
                location_id: "101013"
            }, {
                city: "澳门",
                location_id: "101034"
            } ]
        }, {
            word: "B",
            city: [ {
                city: "北京",
                location_id: "101001"
            } ]
        }, {
            word: "C",
            city: [ {
                city: "重庆",
                location_id: "101004"
            } ]
        }, {
            word: "F",
            city: [ {
                city: "福建",
                location_id: "101030"
            } ]
        }, {
            word: "G",
            city: [ {
                city: "广东",
                location_id: "101029"
            }, {
                city: "甘肃",
                location_id: "101016"
            }, {
                city: "贵州",
                location_id: "101021"
            }, {
                city: "广西",
                location_id: "101028"
            } ]
        }, {
            word: "H",
            city: [ {
                city: "湖北",
                location_id: "101019"
            }, {
                city: "海南",
                location_id: "101031"
            }, {
                city: "河北",
                location_id: "101005"
            }, {
                city: "河南",
                location_id: "101006"
            }, {
                city: "黑龙江",
                location_id: "101007"
            }, {
                city: "湖南",
                location_id: "101020"
            }, {
                city: "海外",
                location_id: "102001"
            }, {
                city: "海外其它",
                location_id: "102002"
            } ]
        }, {
            word: "J",
            city: [ {
                city: "吉林",
                location_id: "101008"
            }, {
                city: "江苏",
                location_id: "101012"
            }, {
                city: "江西",
                location_id: "101018"
            } ]
        }, {
            word: "L",
            city: [ {
                city: "辽宁",
                location_id: "101009"
            } ]
        }, {
            word: "N",
            city: [ {
                city: "内蒙古",
                location_id: "101011"
            }, {
                city: "宁夏",
                location_id: "101025"
            } ]
        }, {
            word: "Q",
            city: [ {
                city: "青海",
                location_id: "101026"
            }, {
                city: "其他",
                location_id: "101035"
            } ]
        }, {
            word: "S",
            city: [ {
                city: "陕西",
                location_id: "101015"
            }, {
                city: "山西",
                location_id: "101014"
            }, {
                city: "上海",
                location_id: "101003"
            }, {
                city: "四川",
                location_id: "101022"
            }, {
                city: "山东",
                location_id: "101010"
            } ]
        }, {
            word: "T",
            city: [ {
                city: "天津",
                location_id: "101002"
            }, {
                city: "台湾",
                location_id: "101032"
            } ]
        }, {
            word: "X",
            city: [ {
                city: "香港",
                location_id: "101033"
            }, {
                city: "新疆",
                location_id: "101024"
            }, {
                city: "西藏",
                location_id: "101027"
            } ]
        }, {
            word: "Y",
            city: [ {
                city: "云南",
                location_id: "101023"
            } ]
        }, {
            word: "Z",
            city: [ {
                city: "浙江",
                location_id: "101017"
            } ]
        } ]
    };
    exports.two_lv_data = {
        province: province_json_data,
        city: city_json_data
    };
});

define("pai/wx-1.1.0/location/tpl/city-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n        <div class="item">\r\n            <h3>' + escapeExpression((stack1 = (stack1 = depth0 && depth0.list, 
            stack1 == null || stack1 === false ? stack1 : stack1.title), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</h3>\r\n                <ul class="list">\r\n                ';
            stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.list, stack1 == null || stack1 === false ? stack1 : stack1.data), {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "         \r\n                </ul>\r\n        </div> \r\n     \r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                        <li data-role="date-city" data-location-id="';
            if (helper = helpers.location_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.location_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-location-name="';
            if (helper = helpers.city) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.city;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">';
            if (helper = helpers.city) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.city;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</li> \r\n                ";
            return buffer;
        }
        stack1 = helpers["if"].call(depth0, depth0 && depth0.list, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

define("pai/wx-1.1.0/location/tpl/gps_now_city-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div class="city border-radius-2px" data-role="now-city" data-location-id="';
        if (helper = helpers.location_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.location_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-location-name="';
        if (helper = helpers.location_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.location_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">\r\n    <button class="ui-button ui-button-primary ui-button-size-middle ">\r\n        <span class="ui-button-content" data-role="now-city-text">';
        if (helper = helpers.location_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.location_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</span>\r\n    </button>\r\n</div>";
        return buffer;
    });
});

define("pai/wx-1.1.0/location/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/location/model-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var model = require("pai/wx-1.1.0/location/model-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    module.exports = collection.extend({
        model: model,
        url: global_config.ajax_url.location_city,
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("complete:fetch", function(xhr, status) {});
        },
        parse: function(response) {
            //console.log(response)
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        get_list: function() {
            var self = this;
            self.fetch({
                url: self.url,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        },
        get_location_by_gps: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_location_by_gps,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_location_fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:get_location_fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:get_location_fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_location_fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 城市选择 模型
 * 汤圆 2014.8.19
 */
define("pai/wx-1.1.0/location/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "location_id",
        "default": {
            location_id: "",
            location_name: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        }
    });
});

/**
 * 首页 - 发现
 * nolestLam 2014.8.4
 */
define("pai/wx-1.1.0/model_date/find/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/find/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/ui/select_drop/view-debug", "pai/wx-1.1.0/model_date/find/grid_view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/model_date/find/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/model_date/find/model-debug", "pai/wx-1.1.0/topic/collection-debug", "pai/wx-1.1.0/topic/model-debug", "pai/wx-1.1.0/topic/list/view-debug", "pai/wx-1.1.0/widget/iscroll_slide/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var find_view = require("pai/wx-1.1.0/model_date/find/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    page_control.add_page([ function() {
        var find_view_obj;
        var location_id;
        return {
            title: "发现",
            route: {
                find: "find"
            },
            initialize: function() {},
            events: {},
            page_init: function() {
                var self = this;
                find_view_obj = new find_view({
                    parentNode: self.$el
                }).render();
                if (utility.storage.get("location")) {
                    self.location_id = utility.storage.get("location").location_id;
                }
            },
            page_before_show: function() {
                var self = this;
                find_view_obj.set_header_location();
                //对比self.location_id和当前id，进行刷新
                if (utility.storage.get("location") && self.location_id != utility.storage.get("location").location_id) {
                    console.log("in_location_refresh");
                    self.location_id = utility.storage.get("location").location_id;
                    find_view_obj.$style_collection.set_location(self.location_id);
                    find_view_obj.style_grid_view && find_view_obj.style_grid_view.refresh();
                }
            },
            page_show: function() {
                if (App.isPaiApp) {}
            },
            page_before_hide: function() {
                var self = this;
            },
            page_hide: function() {
                var self = this;
            }
        };
    } ]);
});

/**
 * 首页 - 发现视图
 * nolestLam 2014.8.
 */
define("pai/wx-1.1.0/model_date/find/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/ui/select_drop/view-debug", "pai/wx-1.1.0/model_date/find/grid_view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/model_date/find/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/model_date/find/model-debug", "pai/wx-1.1.0/topic/collection-debug", "pai/wx-1.1.0/topic/model-debug", "pai/wx-1.1.0/topic/list/view-debug", "pai/wx-1.1.0/widget/iscroll_slide/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var find_tpl = require("pai/wx-1.1.0/model_date/find/tpl/main-debug.handlebars");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var pull_down = require("pai/wx-1.1.0/widget/pull_down/view-debug");
    var load_more = require("pai/wx-1.1.0/widget/load_more/view-debug");
    var select_drop = require("pai/wx-1.1.0/ui/select_drop/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var grid_view = require("pai/wx-1.1.0/model_date/find/grid_view-debug");
    var find_collection = require("pai/wx-1.1.0/model_date/find/collection-debug");
    var topic_collection = require("pai/wx-1.1.0/topic/collection-debug");
    var topic_view = require("pai/wx-1.1.0/topic/list/view-debug");
    var items_tpl = require("pai/wx-1.1.0/model_date/find/tpl/items-debug.handlebars");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var iscroll_slide = require("pai/wx-1.1.0/widget/iscroll_slide/view-debug");
    var find_view = View.extend({
        attrs: {
            template: find_tpl
        },
        events: {
            'tap [data-role="select-hot"]': function() {
                page_control.navigate_to_page("hot");
            },
            'tap [data-role="select-find"]': function() {
                var self = this;
                if (self.style_grid_view) {
                    console.log("style_grid_view.refresh");
                    self.style_grid_view.refresh();
                }
            },
            "tap [data-role=grid-pic-container]": function(ev) {
                var $current_target = $(ev.currentTarget);
                var user_id = utility.int($current_target.attr("data-user-id"));
                page_control.navigate_to_page("model_card/" + user_id);
            },
            'tap [data-role="search"]': function() {
                page_control.navigate_to_page("search");
            },
            'tap [data-role="img-tap"]': function(ev) {
                var $current_target = $(ev.currentTarget);
                var link_type = $current_target.attr("data-link-type");
                var url = $current_target.attr("data-url");
                switch (link_type) {
                  case "inner_web":
                    page_control.navigate_to_page(url);
                    break;

                  case "outside":
                    window.location.href = url;
                    break;

                  case "other":
                    break;
                }
            },
            'tap [data-role="more_tap"]': function(ev) {
                var $current_target = $(ev.currentTarget);
                var hash = $current_target.attr("data-more");
                page_control.navigate_to_page(hash);
            },
            'tap [data-role="topic_details"]': function(ev) {
                var $current_target = $(ev.currentTarget);
                var hash = $current_target.attr("data-details-hash");
                page_control.navigate_to_page(hash);
            },
            "tap [data-inner-tap]": function(ev) {
                var $current_target = $(ev.currentTarget);
                var search = $current_target.attr("data-search");
                var url = $current_target.attr("data-url");
                var search_info = {};
                search_info.tag = search;
                page_control.navigate_to_page("search_result/" + encodeURIComponent(JSON.stringify(search_info)));
            },
            'tap [data-role="more_more"]': function() {
                page_control.navigate_to_page("topic_list");
            },
            'tap [data-role="select-loc"]': function() {
                var self = this;
                //跳转地区
                page_control.navigate_to_page("location/from_find");
            }
        },
        _setup_iscroll_list: function(contents) {
            if (!(contents.length > 0)) {
                return;
            }
            console.log("123");
            var self = this;
            var data = [];
            //当只有一张图时不显示小圆点
            var no_single;
            contents.length > 8 ? no_single = true : no_single = false;
            //设置选中第一个
            contents[0].class = "swiper-visible-switch";
            self.$ad_pic_out = self.$("[data-role=ad-pic-out]");
            var page_strs = [];
            //分页数组
            //每个对象加入html_str
            $.each(contents, function(i, obj) {
                contents[i] = $.extend(true, {}, obj, {
                    html_str: '<div class="find_roll_inner_block" data-url="' + obj.url + '" data-inner-tap data-search="' + obj.tag + '"' + '"  style="margin-left:' + Math.ceil((document.body.clientWidth - 57 * 4) / 5) + 'px">' + obj.tag + "</div>"
                });
                page_strs.push(contents[i].html_str);
            });
            //生成分页
            var page = 0;
            for (var i = 0; i < Math.ceil(page_strs.length / 8); i++) {
                var inner_html = "";
                ++page;
                for (var k = 0; k < 8; k++) {
                    var num = (page - 1) * 8 + k;
                    if (num < page_strs.length) {
                        inner_html = inner_html + page_strs[num];
                    }
                }
                var html_page_str = '<div class="find_roll_pages">' + inner_html + "</div>";
                //分页插入插件data
                data.push(html_page_str);
            }
            self.iscroll_slide_view = new iscroll_slide({
                templateModel: {
                    find_page_bar_contents: data,
                    no_single: no_single,
                    height: 162
                },
                auto_play: 5e3,
                height: 162,
                parentNode: self.$ad_pic_out
            }).render();
        },
        _render_items: function(data) {
            var self = this;
            var four_grid_one = data.ad_list.list[0];
            var four_grid_two = data.ad_list.list[1];
            var four_grid_thr = data.ad_list.list[2];
            var four_grid_fur = data.ad_list.list[3];
            data = $.extend(true, {}, data, {
                four_grid_one: four_grid_one
            }, {
                four_grid_two: four_grid_two
            }, {
                four_grid_thr: four_grid_thr
            }, {
                four_grid_fur: four_grid_fur
            });
            var html_str = items_tpl({
                data: data
            });
            self.item_container.html(html_str);
            self._setup_iscroll_list(data.tag.list);
            //"更多"为空时，隐藏箭头
            if (data.topic_more_text == "") {
                self.$('[data-role="more_arr"]').addClass("fn-hide");
            }
            self.view_scroll_obj.refresh();
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = scroll(self.$container, {
                lazyLoad: true,
                _startY: 45,
                prevent_tag: "slider",
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            self.$style_collection.on("success:get_find_data", function(response, options) {
                self._render_items(response.result_data.list);
            });
        },
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _scroll_check: function() {},
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="content-body"]');
            self.$container_style = self.$('[data-role="container_style"]');
            self.$container_group = self.$("[data-grid]");
            self.location = utility.storage.get("location");
            self.item_container = self.$('[data-role="items"]');
            self.$style_collection = new find_collection({
                type: "style"
            }).get_find_data();
            self._setup_events();
            self._setup_footer();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        set_header_location: function() {
            var self = this;
            self.$('[data-role="select-city"]').text(utility.storage.get("location").location_name);
        }
    });
    module.exports = find_view;
});

define("pai/wx-1.1.0/model_date/find/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="index-find wryh">\r\n\r\n    <header class="nav-header hot-find-nav-header">\r\n        <div class="place_em"></div>\r\n        <div class="place" data-role="select-loc">\r\n            <div data-role="select-city">广州</div><i class="icon icon-allow-22x12 "></i>\r\n        </div>\r\n\r\n        <div class="wx-find-title fn-hide">约拍</div>\r\n        <hgroup class="">\r\n            <h3 class="title has-new" data-role="select-hot">热门</h3>\r\n            <h3 class="title has-new current" data-role="select-find">发现</h3>\r\n        </hgroup>\r\n        <div class="right-button-wrap r-icon" data-role="search">\r\n            <i class="icon icon-search-top-m icon-fix-exp"></i>\r\n            <div class="search-more-wrap fn-hide" data-role="select-more">\r\n\r\n                <i class="icon btn-icon-cs-46x40 more-select-icon fn-hide"></i>\r\n            </div>\r\n        </div>\r\n    </header>\r\n\r\n    <div class="content-body" data-role="content-body">\r\n        <div class="fn-hide">\r\n            <div class="measure-choosen fn-hide">\r\n                <ul class="measure-choosen-in">\r\n                    <i class="measure-choosen-child cur" data-tap data-role="style-style">风格</i>\r\n                    <!--i class="measure-choosen-child" data-tap data-role="style-breast">胸围</i-->\r\n                    <!--i class="measure-choosen-child" data-tap data-role="style-tall">身高</i-->\r\n                    <i class="measure-choosen-child" data-tap data-role="topic">专题</i>\r\n                </ul>\r\n            </div>\r\n            <div class="wonderful-grid-content" data-role="container">\r\n                <div class="container_style" data-grid data-role="container_style"></div>\r\n                <div class="container_topic" data-grid data-role="container_topic"></div>\r\n            </div>\r\n        </div>\r\n        <div class="pop-model-car-tips-v2 fn-hide" data-role="pop-model-car-tips-v2">\r\n            <div class="lbox fldi">\r\n                <i class="icon icon-wx-icon"></i>\r\n                <div class="s-left">\r\n                    <p>约yue</p>\r\n                    <p>10000+模特随心约</p>\r\n                </div>\r\n            </div>\r\n            <div class="rbox fldi">\r\n                <button class="ui-button ui-button-primary ui-button-size-min ui-button-block ">\r\n                    <span class="ui-button-content">立即打开</span>\r\n                </button>\r\n            </div>\r\n            <div>\r\n            </div>\r\n        </div>\r\n        <div class="items" data-role="items">\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</main>';
    });
});

/**
 * 加载更多按钮
 * hdw 2014.8.18
 */
define("pai/wx-1.1.0/widget/load_more/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var load_more_tpl = require("pai/wx-1.1.0/widget/load_more/tpl/load_more-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: load_more_tpl
        },
        events: {},
        setup: function() {
            var self = this;
            self.hide();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
});

define("pai/wx-1.1.0/widget/load_more/tpl/load_more-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "\r\n        <div>";
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n    ";
            return buffer;
        }
        function program3(depth0, data) {
            return "\r\n        <div>加载更多</div>\r\n    ";
        }
        buffer += '<div class="ui-load-more-btn" data-role="load-more">\r\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.text, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n</div>\r\n";
        return buffer;
    });
});

/**
 * Created by Administrator on 2014/8/21.
 */
define("pai/wx-1.1.0/model_date/find/grid_view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var grid_tpl = require("pai/wx-1.1.0/model_date/find/tpl/grid_view-debug.handlebars");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var grid = require("pai/wx-1.1.0/widget/model_pic/view-debug");
    var grid_view = View.extend({
        attrs: {
            template: grid_tpl
        },
        events: {
            swipeleft: function() {
                console.log("123");
            }
        },
        _reset: function() {
            var self = this;
            console.log("reset");
            self.collection.length && self.collection.each(self._add_one, self);
        },
        _add_one: function(model) {
            var self = this;
            console.log("_add_one");
            self._render_queue.push(model.toJSON());
            return self;
        },
        _render_model_pics_list: function(response, xhr) {
            var self = this;
            var render_queue = self._render_queue;
            if (render_queue.length == 0) {
                self.empty_list();
                self.view_scroll_obj && self.view_scroll_obj.refresh();
                return;
            }
            var grid_list_view = new grid({
                // 模板参数对象
                templateModel: {
                    tpl_data: render_queue,
                    tpl_type: "group"
                }
            }).render();
            self.$grid_list_container.html(grid_list_view.list());
            self.trigger("update_list", response, xhr);
            self._render_queue = [];
            self._drop_reset();
        },
        _setup_events: function() {
            var self = this;
            self.collection.on("reset", self._reset, self).on("add", self._add_one, self).on("success:fetch", function(response, xhr) {
                console.log(response);
                self._render_model_pics_list(response, xhr);
            }).on("complete:fetch", function(xhr, status) {});
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    return;
                } else if (xhr.reset) {
                    self.view_scroll_obj.reset_top();
                    self.view_scroll_obj.resetLazyLoad();
                }
                self.view_scroll_obj.refresh();
            });
            self.once("render", self._render_after, self);
        },
        _render_after: function() {
            var self = this;
            self.collection.get_list(1);
            self._viewportHeight = utility.get_view_port_height("nav");
        },
        _setup_scroll: function() {
            var self = this;
            // 下拉
            self._top_offset = 0;
            var view_scroll_obj = Scroll(self.$container, {
                topOffset: self._top_offset,
                lazyLoad: true
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
            self.view_scroll_obj.scrollTo(0, 0);
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="scroll_content"]');
            // 滚动容器
            self.$scoll_wrapper = self.$('[data-role="scoll-wrapper"]');
            self.$grid_list_container = self.$('[data-role="grid-insert"]');
            self._render_queue = [];
            self._setup_events();
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height() - 50;
            self.$container.height(view_port_height);
            self.$scoll_wrapper.height(view_port_height);
            //self.$grid_list_container.height(view_port_height);
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 清空列表，并且方便以后扩展功能
         */
        empty_list: function() {
            var self = this;
            self.$grid_list_container.html("");
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav");
        },
        refresh: function() {
            var self = this;
            self.collection.get_list(1);
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        }
    });
    module.exports = grid_view;
});

define("pai/wx-1.1.0/model_date/find/tpl/grid_view-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<div>\r\n<div data-role="scroll_content">\r\n    <div data-role="scoll-wrapper">\r\n        <div class="grid-insert grid-list grid-pic-content"  data-role="grid-insert">\r\n\r\n\r\n        </div>\r\n        <div class="space-bottom"></div>\r\n    </div>\r\n</div>\r\n</div>';
    });
});

/**
 * 模特卡列表
 */
define("pai/wx-1.1.0/widget/model_pic/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var item_tpl = require("pai/wx-1.1.0/widget/model_pic/tpl/item-debug.handlebars");
    var view_width = utility.get_view_port_width();
    module.exports = View.extend({
        attrs: {
            template: item_tpl
        },
        events: {},
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            var custom_model = [];
            var img_list = [];
            var tpl_type = template_model.tpl_type;
            switch (tpl_type) {
              /**
                 * 单独出图
                 */
                case "one":
                for (var i = 0, len = template_model.tpl_data.length; i < len; i++) {
                    var temp = template_model.tpl_data[i];
                    var size = self._get_size_by_type(temp.type);
                    temp.width = size.width;
                    temp.height = size.height;
                    temp.no_use_lazyload = self.get("no_use_lazyload") || 0;
                    if ((i - 1) % 3 == 0) {
                        temp.mid_class = "mid";
                    }
                    img_list.push(temp);
                }
                custom_model.push({
                    img_list: img_list
                });
                break;

              /**
                 *  分组出图 （标题+组图）
                 */
                case "group":
                for (var j = 0; j < template_model.tpl_data.length; j++) {
                    var temp_img_list = template_model.tpl_data[j].list;
                    var temp_title = template_model.tpl_data[j].title;
                    for (var i = 0, len = temp_img_list.length; i < len; i++) {
                        var temp = temp_img_list[i];
                        var size = self._get_size_by_type(temp.type);
                        temp.width = size.width;
                        temp.height = size.height;
                        temp.no_use_lazyload = self.get("no_use_lazyload") || 0;
                        if ((i - 1) % 3 == 0) {
                            temp.mid_class = "mid";
                        }
                        img_list.push(temp);
                    }
                    custom_model.push({
                        img_list: temp_img_list,
                        title: temp_title
                    });
                }
                break;

              case "1l2r":
                for (var i = 0, len = template_model.tpl_data.length; i < len; i++) {
                    var temp = template_model.tpl_data[i];
                    var size = self._get_size_by_type(temp.type);
                    temp.width = size.width;
                    temp.height = size.height;
                    temp.no_use_lazyload = self.get("no_use_lazyload") || 0;
                    if ((i + 3) % 3 == 0) {
                        temp.mid_class = "right";
                    }
                    if ((i - 1) % 3 == 0) {
                        temp.mid_class = "bottom";
                    }
                    img_list.push(temp);
                }
                custom_model.push({
                    img_list: img_list
                });
                break;

              case "1l1m1r":
                for (var i = 0, len = template_model.tpl_data.length; i < len; i++) {
                    var temp = template_model.tpl_data[i];
                    var size = self._get_size_by_type(temp.type);
                    temp.width = size.width;
                    temp.height = size.height;
                    temp.no_use_lazyload = self.get("no_use_lazyload") || 0;
                    if ((i - 1) % 3 == 0) {
                        temp.mid_class = "mid-l-r-b";
                    } else {
                        temp.mid_class = "bottom";
                    }
                    img_list.push(temp);
                }
                custom_model.push({
                    img_list: img_list
                });
                break;

              case "1double_others_one":
                for (var i = 0, len = template_model.tpl_data.length; i < len; i++) {
                    var temp = template_model.tpl_data[i];
                    var size = self._get_size_by_type(temp.type);
                    temp.width = size.width;
                    temp.height = size.height;
                    temp.no_use_lazyload = self.get("no_use_lazyload") || 0;
                    if (len == 3) {
                        if ((i + 3) % 3 == 0) {
                            temp.mid_class = "right";
                        }
                        if ((i - 1) % 3 == 0) {
                            temp.mid_class = "bottom";
                        }
                    } else {
                        if ((i - 1) % 3 == 0) {
                            temp.mid_class = "mid";
                        } else {
                            temp.mid_class = "bottom";
                        }
                    }
                    img_list.push(temp);
                }
                custom_model.push({
                    img_list: img_list
                });
                break;

              case "all_ori_img":
                for (var i = 0, len = template_model.tpl_data.length; i < len; i++) {
                    var temp = template_model.tpl_data[i];
                    var size = self._get_size_by_type(temp.type);
                    temp.no_grid_size = true;
                    temp.width = "100%";
                    temp.height = "100%";
                    temp.no_use_lazyload = self.get("no_use_lazyload") || 0;
                    img_list.push(temp);
                }
                console.log(img_list);
                custom_model.push({
                    img_list: img_list
                });
                break;
            }
            self.set("templateModel", {
                custom_model: custom_model
            });
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {},
        _get_size_by_type: function(type) {
            return utility.get_grid_size(type);
        },
        setup: function() {},
        list: function() {
            var self = this;
            return self.$el;
        }
    });
});

define("pai/wx-1.1.0/widget/model_pic/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.title, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n";
            stack1 = helpers.each.call(depth0, depth0 && depth0.img_list, {
                hash: {},
                inverse: self.noop,
                fn: self.program(4, program4, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '<p class="grid-title" data-role="japan">#';
            if (helper = helpers.title) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.title;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</p>";
            return buffer;
        }
        function program4(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <div data-alumn-img="';
            if (helper = helpers.big_user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.big_user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-user-role="';
            if (helper = helpers.role) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.role;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" class="grid-pic ';
            if (helper = helpers.mid_class) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.mid_class;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-user-id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="grid-pic-container"\r\n                       ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.no_grid_size, {
                hash: {},
                inverse: self.program(7, program7, data),
                fn: self.program(5, program5, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '>\r\n    <i class="img image-img ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.no_use_lazyload, {
                hash: {},
                inverse: self.noop,
                fn: self.program(9, program9, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.no_use_lazyload, {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(11, program11, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "  ></i></div><!---->";
            return buffer;
        }
        function program5(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                            style="width:';
            if (helper = helpers.width) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.width;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ";height:";
            if (helper = helpers.height) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.height;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ';"\r\n                       ';
            return buffer;
        }
        function program7(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                        style="width:';
            if (helper = helpers.width) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.width;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "px;height:";
            if (helper = helpers.height) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.height;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + 'px;"\r\n                       ';
            return buffer;
        }
        function program9(depth0, data) {
            return "loaded";
        }
        function program11(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "style=\"background-image: url('";
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "');text-align: center;\"";
            return buffer;
        }
        function program13(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += ' data-is-lazyload data-lazyload="';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"';
            return buffer;
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.custom_model, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n";
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/find/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/model_date/find/model-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var model = require("pai/wx-1.1.0/model_date/find/model-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = collection.extend({
        model: model,
        url: global_config.ajax_url.find,
        initialize: function(options) {
            var self = this;
            self._setup_events();
            self.location = utility.storage.get("location");
            self.type = options.type;
        },
        set_location: function(loc) {
            var self = this;
            self.location.location_id = loc;
        },
        get_location: function() {
            var self = this;
            return self.location;
        },
        set_type: function(type) {
            var self = this;
            self.type = type;
        },
        parse: function(response) {
            if (response.result_data.data) {
                return response.result_data.data;
            }
            return response;
        },
        _setup_events: function() {},
        get_list: function() {
            var self = this;
            self.fetch({
                url: self.url,
                reset: true,
                data: {
                    location_id: self.location.location_id,
                    type: self.type,
                    mode: window._action_mode
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                }
            });
            return self;
        },
        get_find_data: function() {
            var self = this;
            self.fetch({
                url: self.url,
                cache: false,
                beforeSend: function() {
                    self.trigger("before:get_find_data");
                },
                success: function(model, response, options) {
                    self.trigger("success:get_find_data", response, options);
                },
                error: function(model, response, options) {
                    self.trigger("error:get_find_data", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_find_data", xhr, status);
                }
            });
            return self;
        }
    });
});

/**
 * 发现页列表
 * nolestLam 2014.8
 */
define("pai/wx-1.1.0/model_date/find/model-debug", [ "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        "default": {
            has_next_page: "",
            list: {
                city: "",
                id: "",
                price: "",
                pv: "",
                set_top: "",
                style: "",
                user_icon_165: "",
                user_icon_468: "",
                user_id: ""
            }
        },
        _setup_events: function() {},
        initialize: function() {
            var self = this;
            self._setup_events();
        }
    });
});

define("pai/wx-1.1.0/topic/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/topic/model-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var model = require("pai/wx-1.1.0/topic/model-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    module.exports = collection.extend({
        model: model,
        url: global_config.ajax_url.get_topic_list,
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
        },
        parse: function(response) {
            //console.log(response)
            if (response.result_data) {
                return response.result_data.list;
            }
            return response;
        },
        initialize: function(options) {
            options = options || {};
            var self = this;
            self._setup_events();
        },
        /**
         * 获取主题列表
         */
        get_list: function(page) {
            var self = this;
            self.fetch({
                url: self.url,
                data: {
                    page: page,
                    mode: window._action_mode
                },
                reset: page === 1,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:list:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:list:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:list:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:list:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 主题 模型
 * hudw 2014.10.27
 */
define("pai/wx-1.1.0/topic/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        "default": {},
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
        },
        /**
         * 转换数据格式
         * @param response
         * @returns {*}
         */
        parse: function(response) {
            if (response.result_data) {
                return response.result_data.data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        /**
         * 获取主题详细页
         */
        get_info: function(topic_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_topic_info,
                data: {
                    id: topic_id
                },
                cache: true,
                beforeSend: function(xhr, options) {
                    self.trigger("before:info:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:info:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:info:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:info:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 主题列表视图
 *
 * hdw 2014.10.27
 */
define("pai/wx-1.1.0/topic/list/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var topic_list_tpl = require("pai/wx-1.1.0/topic/tpl/list-debug.handlebars");
    var main_tpl = require("pai/wx-1.1.0/topic/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var topic_list_view = View.extend({
        attrs: {
            template: main_tpl
        },
        className: "topic-list-scroll-wrapper",
        events: {
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-nav-page]": function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var address = $cur_btn.attr("data-address");
                var link_type = $cur_btn.attr("data-link_type");
                switch (link_type) {
                  case "inside":
                    if (address) {
                        page_control.navigate_to_page(address);
                    }
                    break;

                  case "outside":
                    if (address) {
                        windw.location.href = address;
                    }
                    break;

                  case "other":
                    break;
                }
            },
            'tap [data-role="nav-to-info"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var topic_id = $cur_btn.attr("data-topic-id");
                if (topic_id) {
                    page_control.navigate_to_page("topic/" + topic_id);
                }
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.collection.on("before:list:fetch", function(response) {
                m_alert.show("加载中...", "loading", {
                    delay: -1
                });
            }).on("success:list:fetch", function(response) {
                m_alert.hide();
                self._render_topic_list(response);
            }).on("error:list:fetch", function(response) {
                m_alert.hide();
            });
            self.on("update_list", function() {
                if (!self.$scroll_view_obj) {
                    self._setup_scroll();
                    self.$scroll_view_obj.resetLazyLoad();
                    self.$scroll_view_obj.reset_top();
                    self.$scroll_view_obj.refresh();
                    return;
                }
                self.$scroll_view_obj.resetLazyLoad();
                self.$scroll_view_obj.reset_top();
                self.$scroll_view_obj.refresh();
            });
            self.once("render", self._render_after, self);
        },
        _render_after: function() {
            var self = this;
        },
        _render_topic_list: function(data) {
            var self = this;
            var list = data.result_data.list;
            var html_str = topic_list_tpl({
                list: list
            });
            // 根据reset判断是否分页
            var method = self.collection.reset ? "html" : "append";
            self.$('[data-role="list-container"]')[method](html_str);
            self._drop_reset();
            self.trigger("update_list");
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$('[data-role="scroll_content"]'), {
                is_hide_dropdown: false,
                lazyLoad: true
            });
            self.$scroll_view_obj = view_scroll_obj;
            self.$scroll_view_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        _drop_reset: function() {
            var self = this;
            self.$scroll_view_obj && self.$scroll_view_obj.resetload();
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            //滚动容器
            self.$container = self.$el;
            //安装事件
            self._setup_events();
            self.$('[data-role="scroll_content"]').height(self.reset_viewport_height());
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        get_more: function(page) {
            var self = this;
            self.collection.get_list(page);
        },
        /* 刷新方法
         *
         */
        refresh: function() {
            var self = this;
            self.collection.get_list(1);
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav");
        }
    });
    module.exports = topic_list_view;
});

define("pai/wx-1.1.0/topic/tpl/list-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <li data-role="nav-to-info" data-topic-id="';
            if (helper = helpers.id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n        <!--div class="topic-title title">';
            if (helper = helpers.title) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.title;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div-->\r\n        <div class="topic-front">\r\n            <i class="img image-img" data-lazyload="';
            if (helper = helpers.cover_image) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.cover_image;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" >\r\n            </i>\r\n        </div>\r\n    </li>\r\n';
            return buffer;
        }
        buffer += "\r\n";
        stack1 = helpers.each.call(depth0, depth0 && depth0.list, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

define("pai/wx-1.1.0/topic/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main">\r\n\r\n\r\n\r\n\r\n    <header class="nav-header ">\r\n        <div class="left-button-wrap"  data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">专题列表</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n    <div>\r\n        <div data-role="scroll_content">\r\n            <div data-role="scoll-wrapper ">\r\n                <ul class="topic-list-container" data-role="list-container">\r\n\r\n                </ul>\r\n                <div class="space-bottom" style="padding-bottom: 10px;"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</main>\r\n';
    });
});

define("pai/wx-1.1.0/model_date/find/tpl/items-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n        <img src="';
            if (helper = helpers.img) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.img;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" style="width: 100%;margin-bottom: 5px" data-role="topic_details" data-details-hash="';
            if (helper = helpers.url) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.url;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"/>\r\n    ';
            return buffer;
        }
        buffer += '<div class="ad-pic-out" data-role="ad-pic-out">\r\n\r\n</div>\r\n<div class="choose">\r\n    <div class="line">\r\n        <div class="boxes first" ><img style="width: 100%" src="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_one), stack1 == null || stack1 === false ? stack1 : stack1.img), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="img-tap" data-url="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_one), stack1 == null || stack1 === false ? stack1 : stack1.url), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-link-type="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_one), stack1 == null || stack1 === false ? stack1 : stack1.link_type), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"/></div>\r\n        <div class="line_pixel"></div>\r\n        <div class="boxes" ><img style="width: 100%" src="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_two), stack1 == null || stack1 === false ? stack1 : stack1.img), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="img-tap" data-url="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_two), stack1 == null || stack1 === false ? stack1 : stack1.url), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-link-type="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_two), stack1 == null || stack1 === false ? stack1 : stack1.link_type), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"/></div>\r\n    </div>\r\n    <div class="line exp">\r\n        <div class="boxes" ><img style="width: 100%" src="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_thr), stack1 == null || stack1 === false ? stack1 : stack1.img), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="img-tap" data-url="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_thr), stack1 == null || stack1 === false ? stack1 : stack1.url), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-link-type="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_thr), stack1 == null || stack1 === false ? stack1 : stack1.link_type), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"/></div>\r\n        <div class="line_pixel"></div>\r\n        <div class="boxes last" ><img style="width: 100%" src="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_fur), stack1 == null || stack1 === false ? stack1 : stack1.img), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="img-tap" data-url="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_fur), stack1 == null || stack1 === false ? stack1 : stack1.url), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-link-type="' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.four_grid_fur), stack1 == null || stack1 === false ? stack1 : stack1.link_type), 
        typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"/></div>\r\n    </div>\r\n</div>\r\n<div class="hot_topic">\r\n    <div class="title">\r\n        <div>' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.topic_name), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n        <div class="more_tap" data-role="more_tap" data-more="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.topic_more_link), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n            <div>' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.topic_more_text), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n            <div data-role="more_arr"><i class="icon icon-allow-22x12"></i></div>\r\n        </div>\r\n    </div>\r\n    ';
        stack1 = helpers.each.call(depth0, (stack1 = (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.topic_list), 
        stack1 == null || stack1 === false ? stack1 : stack1.list), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    <div class="more_more" data-role="more_more">查看全部</div>\r\n</div>\r\n<div class="footer_empty"></div>';
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/search/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/search/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/model_date/search/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var collection = require("pai/wx-1.1.0/model_date/search/collection-debug");
    var search_view = require("pai/wx-1.1.0/model_date/search/view-debug");
    page_control.add_page([ function() {
        return {
            title: "搜索",
            route: {
                search: "search"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function() {
                this.search_view = new search_view({
                    collection: new collection(),
                    parentNode: this.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {},
            page_hide: function() {
                //离开页面时删除搜索记录弹窗；
                this.search_view.del_search_history_dom();
            }
        };
    } ]);
});

/**
 *
 */
define("pai/wx-1.1.0/model_date/search/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    module.exports = collection.extend({
        url: global_config.ajax_url.search,
        initialize: function(options) {
            var self = this;
            self._setup_events();
        },
        parse: function(response) {
            if (response.result_data) {
                if (response.result_data.list) {
                    return response.result_data.list;
                }
                return response.result_data;
            }
        },
        _setup_events: function() {
            var self = this;
        },
        get_search_list: function(page) {
            var self = this;
            self.fetch({
                remove: page === 1,
                reset: page === 1,
                //data: paramData,
                cache: false,
                beforeSend: function(xhr, xhrOptions) {
                    self.trigger("before:fetch", xhr, xhrOptions);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                }
            });
            return self;
        }
    });
});

define("pai/wx-1.1.0/model_date/search/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var storage = window.localStorage;
    var main_tpl = require("pai/wx-1.1.0/model_date/search/tpl/main-debug.handlebars");
    var item_tpl = require("pai/wx-1.1.0/model_date/search/tpl/item-debug.handlebars");
    var search_history_tpl = require("pai/wx-1.1.0/model_date/search/tpl/search_history-debug.handlebars");
    var search_view = View.extend({
        attrs: {
            template: main_tpl
        },
        events: {
            "tap [data-role=cancel]": function(ev) {
                page_control.back();
            },
            "tap [data-role=del-search-history-item]": function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                self.store.change(Utility.user.id, $target.attr("data-tag"), "del");
                if (self.store.get(Utility.user.id).length == 0) {
                    self.del_search_history();
                    self.del_search_history_dom();
                }
                $target.parents("li").remove();
            },
            "tap [data-role=del-search-history]": function() {
                var self = this;
                self.del_search_history();
                self.del_search_history_dom();
            },
            "tap [data-role=btn-back]": function() {
                var self = this;
                page_control.back();
            },
            "tap [data-role=search]": "_search",
            "tap [data-role=search-form]": "_submit",
            "tap [data-role=change]": "_change"
        },
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            //            self.listenTo(self.collection,'all',function() {
            //                // debug 用
            //            });
            self.listenTo(self.collection, "reset", self._reset).listenTo(self.collection, "add", self._addOne).listenTo(self.collection, "before:fetch", function() {
                tip.show("查询中...", "loading", {
                    delay: -1
                });
            }).listenTo(self.collection, "success:fetch", function(response, xhrOptions) {
                if (response.result_data.length == 0) {
                    tip.show("暂无数据", "error", {
                        delay: 800
                    });
                } else {
                    self._change();
                    self._render_item(response, xhrOptions);
                    tip.hide();
                }
            }).listenTo(self.collection, "error:fetch", function(xhr, status) {
                tip.show("查询失败请返回重试", "error", {
                    delay: 800
                });
            }).listenTo(self.collection, "complete:fetch", function(xhr, status) {});
            //搜索记录相关事件
            //            self.$input.on('focus',function(){
            //                self._render_item_search_history(self.store.get(Utility.user.id));
            //            });
            self.$input.on("focus", function() {
                self._render_item_search_history(self.store.get(Utility.user.id));
            }).on("blur", function(ev) {
                console.log(ev);
            });
            // 刷新数据
            self.refresh();
            // 视图更新
            self.on("updateList", function(response, xhrOptions) {
                // 第一次载入时iScroll未生成
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self._drop_reset();
                }
                self._drop_reset();
                self.view_scroll_obj.refresh();
            });
        },
        _render_item: function(response, xhrOptions) {
            var self = this;
            self.$security_list.html("");
            /**
             *  modify hudw 2014.12.7
             *  注意！！这里的renderQueue换成了读取response的list字段，这样修改的目的是解决了刷新页面
             *  导致self._renderQueue出错，但尚未知道修改后对换一换的操作有哪些影响。
             *
             */
            var renderQueue = response.result_data.list;
            //var renderQueue = self._renderQueue;
            var html_str = item_tpl({
                search_list: renderQueue
            });
            self.$security_list.html(html_str);
            self.trigger("updateList", response, xhrOptions);
            self.view_scroll_obj.refresh();
        },
        _render_item_search_history: function(search_history_queue) {
            var self = this;
            if (!self.store.get(Utility.user.id)) {
                return;
            }
            if (self.$search_history) {
                return;
            }
            var html_str = search_history_tpl({
                search_historys: search_history_queue.slice(0, 4)
            });
            var $html_str = $(html_str);
            self.$search_index.addClass("fn-hide");
            self.$container.append($html_str);
            //必须插入容器后再赋值，否则其他方法将无法在容器中找到此DOM
            self.$search_history = $html_str;
        },
        _reset: function() {
            var self = this;
            self.collection.each(self._addOne, self);
        },
        _addOne: function(dataModel) {
            var self = this;
            self.renderQueue.push(dataModel.toJSON());
            return self;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: false
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        setup: function() {
            var self = this;
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$security_list = self.$("[data-role=search-list]");
            //搜索标签列表
            self.$search_index = self.$("[data-role=search-index]");
            self.$change_btn_wrap = self.$("[data-role=change-btn-wrap]");
            //换一换
            self.$input = self.$("[data-role=input]");
            // 安装事件
            self._setup_events();
            self._renderQueue = [];
            self.renderQueue = [];
            self.start_setted = 0;
        },
        _submit: function(ev) {
            var self = this;
            var search_info = {};
            search_info.id = "";
            search_info.tag = self.$input.val();
            search_info.is_from_search = 1;
            if (!search_info.tag) {
                //                tip.show('请输入搜索内容！', 'error', {
                //                    delay: 800
                //                });
                return;
            }
            self.$input.blur();
            ev.preventDefault();
            ev.stopPropagation();
            self.store.change(Utility.user.id, search_info.tag, "add");
            // modify by hudw
            // 直接将对象序列化传递到结果页面
            var search_info = encodeURIComponent(JSON.stringify(search_info));
            page_control.navigate_to_page("search_result/" + search_info);
        },
        _search: function(ev) {
            var self = this;
            var $target = $(ev.currentTarget);
            var search_info = {};
            search_info.id = $target.attr("data-id");
            search_info.tag = $target.attr("data-tag");
            search_info.is_from_search = 1;
            self.store.change(Utility.user.id, search_info.tag, "add");
            // modify by hudw
            // 直接将对象序列化传递到结果页面
            var search_info = encodeURIComponent(JSON.stringify(search_info));
            page_control.navigate_to_page("search_result/" + search_info);
        },
        /**
         * 删除搜索历史记录
         */
        del_search_history: function() {
            var self = this;
            self.store.remove(Utility.user.id);
        },
        /**
         * 删除搜索历史记录DOM
         */
        del_search_history_dom: function() {
            var self = this;
            if (self.$search_history) {
                self.$search_history.remove();
                self.$search_history = null;
                self.$search_index.removeClass("fn-hide");
            }
        },
        /**
         * 换一换
         * @private
         */
        _change: function() {
            var self = this;
            var show_len = 12;
            var settings_len = Math.ceil(self.renderQueue.length / show_len);
            if (settings_len <= show_len) {
                self._renderQueue = self.renderQueue.slice(0, show_len);
                self.$change_btn_wrap.addClass("fn-hide");
                return;
            }
            //构造开始下标数组
            var settings = [];
            for (var i = 0; i < settings_len; i++) {
                settings.push(i * show_len);
            }
            //var start = settings[parseInt(Math.random()*(settings_len - 1 + 1 ) + 1)];
            var start = settings[self.start_setted];
            var end = start == 0 ? (start + 1) * show_len : start * 2;
            self.$security_list.html("");
            self._renderQueue = self.renderQueue.slice(start, end);
            if (self.start_setted == settings_len - 1) {
                self.start_setted = 0;
            } else {
                self.start_setted++;
            }
            self._render_item({}, {});
        },
        /**
         * 本地储存
         */
        store: {
            /**
             * 前缀
             */
            prefix: "poco-yuepai-app-storage-",
            /**
             * 设置
             * @param key
             * @param val
             * @returns {*}
             */
            set: function(key, val) {
                var self = this;
                if (val === undefined) {
                    return self.remove(key);
                }
                storage.setItem(self.prefix + key, JSON.stringify(val));
                return val;
            },
            /**
             * 获取
             * @param key
             * @returns {*}
             */
            get: function(key) {
                var self = this;
                var storage_get_item = storage.getItem(self.prefix + key);
                if (!storage_get_item) {
                    return storage_get_item;
                } else {
                    return JSON.parse(storage_get_item);
                }
            },
            change: function(key, val, handle) {
                var self = this;
                var old_storage = self.get(key) || [];
                var new_storage = [], i;
                while (i = old_storage.shift()) {
                    if (i !== val) {
                        new_storage.push(i);
                    }
                }
                if (handle != "del") {
                    new_storage.unshift(val);
                }
                self.set(key, new_storage);
            },
            /**
             * 删除
             * @param key
             * @returns {*}
             */
            remove: function(key) {
                var self = this;
                return storage.removeItem(self.prefix + key);
            }
        },
        refresh: function() {
            var self = this;
            self.collection.get_search_list(1);
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        }
    });
    module.exports = search_view;
});

define("pai/wx-1.1.0/model_date/search/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="secondary">\r\n    <header class="nav-header search-header">\r\n        <!-- <div class="btn-back" data-role="btn-back">\r\n            <button class="ui-button ui-button-primary ui-button-size-min ui-button-block ">\r\n                <span class="ui-button-content">返回</span>\r\n            </button>\r\n        </div> -->\r\n\r\n        <div class="left-button-wrap" data-role="btn-back" style="position:absolute">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        \r\n        <div class="search-index-wrap">\r\n            <!--<div class="lbox"><i class="icon icon-srarch-m"></i></div>-->\r\n            <!-- <div class="rbox" data-role="cancel">取消</div> -->\r\n            <div class="main-search" >\r\n                <button class="icon icon-search-gray" type="button" data-role="search-form"></button>\r\n                <input type="text" class="input-text" placeholder="搜索模特" data-role="input" autocomplete="off">\r\n            </div>\r\n        </div>\r\n    </header>\r\n\r\n    <div style="height:100%" data-role="container">\r\n\r\n        <div class="search-index" data-role="search-index">\r\n            <div class="tags-wrap">\r\n                <section class="tags">\r\n                    <ul data-role="search-list">\r\n                    </ul>\r\n\r\n                </section>\r\n                <div class="btn-wrap" data-role="change-btn-wrap">\r\n                    <div class="btn" data-role="change"><i class="icon icon-refresh-m"></i> 换一批</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/model_date/search/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <li><a href="javascript:;" data-id="';
            if (helper = helpers.id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-tag="';
            if (helper = helpers.tag) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.tag;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="search">';
            if (helper = helpers.tag) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.tag;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</a></li><!---->\r\n";
            return buffer;
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.search_list, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/search/tpl/search_history-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "";
            buffer += '\r\n            <li>\r\n                <div class="lbox" data-tag="' + escapeExpression(typeof depth0 === functionType ? depth0.apply(depth0) : depth0) + '" data-role="search"><i class="icon icon-search-gray-s"></i>' + escapeExpression(typeof depth0 === functionType ? depth0.apply(depth0) : depth0) + '</div>\r\n                <div class="rbox" data-tag="' + escapeExpression(typeof depth0 === functionType ? depth0.apply(depth0) : depth0) + '"data-role="del-search-history-item"><i class="icon icon-close-20x20"></i></div>\r\n            </li>\r\n        ';
            return buffer;
        }
        buffer += '<div class="search-history">\r\n    <section>\r\n        <ul class="list clearfix">\r\n        ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.search_historys, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n        </ul>\r\n    </section>\r\n    <div class="btn" data-role="del-search-history">清空搜索历史</div>\r\n</div>\r\n';
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/search_result/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/search_result/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/model_date/search_result/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var collection = require("pai/wx-1.1.0/model_date/search_result/collection-debug");
    var search_view = require("pai/wx-1.1.0/model_date/search_result/view-debug");
    page_control.add_page([ function() {
        return {
            title: "搜索结果",
            route: {
                "search_result/:key": "search_result"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(apps_page_view, apps_params, search_info) {
                // modify hudw 2014.12.23
                console.log(decodeURIComponent(apps_params[0]));
                var search_info = eval("(" + decodeURIComponent(apps_params[0]) + ")");
                this.search_view = new search_view({
                    templateModel: {
                        id: search_info.id,
                        tag: search_info.tag,
                        is_from_search: search_info.is_from_search || 0
                    },
                    collection: new collection(),
                    parentNode: this.$el
                }).set_search_info(search_info).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 *
 */
define("pai/wx-1.1.0/model_date/search_result/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = collection.extend({
        url: global_config.ajax_url.tag_result,
        initialize: function(options) {
            var self = this;
            self._setup_events();
        },
        parse: function(response) {
            if (response.result_data) {
                if (response.result_data.list.list) {
                    return response.result_data.list.list;
                }
                return response.result_data;
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self.set_state("sending");
            }).on("success:fetch", function(response, xhrOptions) {
                if (!response.code) {
                    //已加载完所有数据时用户再滚动停止加载数据
                    if (!response.result_data.has_next_page) {}
                    var current_page = self.get_current_page();
                    self.set_current_page(++current_page);
                }
            }).on("complete:fetch", function(xhr, status) {
                self.get_state() != "stopRequest" && self.set_state("free");
            });
        },
        get_search_result_list: function(data) {
            var self = this;
            if (self.get_state() == "sending") {
                return self;
            }
            var param_data = {};
            param_data.tag = encodeURIComponent(data.tag);
            param_data.page = Utility.int(data.page);
            param_data.hour = data.hour;
            param_data.price = data.price;
            param_data.order = data.order;
            param_data.is_from_search = data.is_from_search;
            if (param_data.page < 1) {
                throw new Error("search_result page is invalid");
            }
            self.fetch({
                remove: param_data.page === 1,
                reset: param_data.page === 1,
                data: param_data,
                cache: false,
                type: "GET",
                beforeSend: function(xhr, xhrOptions) {
                    self.trigger("before:fetch", xhr, xhrOptions);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                }
            });
            return self;
        },
        /**
         * 获取当前状态
         * @returns {*}
         */
        get_state: function() {
            return this._send_state;
        },
        /**
         * 设置当前状态
         * @param s
         * @returns {search_result_collection}
         */
        set_state: function(s) {
            var self = this;
            self._send_state = s;
            return self;
        },
        /**
         * 获取当前页码
         * @returns {*|number}
         */
        get_current_page: function() {
            return this._current_page || 0;
        },
        /**
         * 设置当前页码
         * @param page
         */
        set_current_page: function(page) {
            page = Utility.int(page);
            page && (this._current_page = page);
        }
    });
});

define("pai/wx-1.1.0/model_date/search_result/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var Utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var main_tpl = require("pai/wx-1.1.0/model_date/search_result/tpl/main-debug.handlebars");
    var item_tpl = require("pai/wx-1.1.0/model_date/search_result/tpl/item-debug.handlebars");
    var search_view = View.extend({
        attrs: {
            template: main_tpl
        },
        events: {
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-role=to-model]": function(ev) {
                var $target = $(ev.currentTarget);
                var user_id = $target.attr("data-user-id");
                page_control.navigate_to_page("model_card/" + user_id);
            },
            "tap [data-choosen]": function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                var data_choosen = $target.attr("data-choosen");
                var select_str = '[data-role="condition-' + data_choosen + '"]';
                $target.addClass("cur");
                $target.siblings("[data-choosen]").removeClass("cur");
                self.$("[data-all]").addClass("fn-hide");
                self.$('[data-role="choosen-open"]').removeClass("fn-hide");
                self.$(select_str).removeClass("fn-hide");
            },
            'tap [data-role="child-tap"]': function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                console.log("1");
                $target.addClass("cur");
                console.log("2");
                $target.siblings().removeClass("cur");
                console.log("3");
                var data_mix = $target.attr("data-mix");
                console.log("4");
                var type = self.$("[data-choosen]").parents().children(".cur").attr("data-choosen");
                console.log("5");
                switch (type) {
                  case "price":
                    self.search_data = $.extend(true, {}, self.search_data, {
                        price: data_mix,
                        page: 1
                    });
                    break;

                  case "hour":
                    self.search_data = $.extend(true, {}, self.search_data, {
                        hour: data_mix,
                        page: 1
                    });
                    break;

                  case "order":
                    self.search_data = $.extend(true, {}, self.search_data, {
                        order: data_mix,
                        page: 1
                    });
                    break;
                }
                console.log("6");
                tip.show("查询中...", "loading", {
                    delay: 800
                });
                console.log("7");
                // modify by hudw 2015.3.3
                // 设置选中筛选项 文案高亮
                var $selectd_text = self.$('[data-choosen="' + type + '"]').find('[data-role="selected-text"]');
                console.log("8");
                $selectd_text.html($target.text());
                self.collection.get_search_result_list(self.search_data);
            },
            'tap [data-role="mask"]': function() {
                var self = this;
                self.$('[data-role="choosen-open"]').addClass("fn-hide");
            }
        },
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            //            self.listenTo(self.collection,'all',function() {
            //                // debug 用
            //            });
            self.listenTo(self.collection, "reset", self._reset).listenTo(self.collection, "add", self._addOne).listenTo(self.collection, "before:fetch", function() {
                //                    tip.show('查询中...', 'loading', {
                //                        delay: -1
                //                    });
                if (self.$load_more) {
                    self.$load_more.html("查询中...");
                }
            }).listenTo(self.collection, "success:fetch", function(response, xhrOptions) {
                if (response.result_data.empty) {
                    self.$search_result_list.html("");
                    self.abnormal_view = new abnormal({
                        templateModel: {
                            content_height: Utility.get_view_port_height("all") - 35
                        },
                        parentNode: self.$search_result_list
                    }).render();
                } else {
                    self._render_item(response, xhrOptions);
                    if (self.$load_more) {
                        self.$load_more.html("上拉加载更多");
                    }
                }
                self.has_next_page = response.result_data && response.result_data.has_next_page;
                //没有更多数据去除可以加载更多提示
                if (!response.result_data.has_next_page) {}
                tip.hide();
            }).listenTo(self.collection, "error:fetch", function(xhr, status) {
                tip.show("网络异常", "error", {
                    delay: 800
                });
            }).listenTo(self.collection, "complete:fetch", function(xhr, status) {
                self.$('[data-role="choosen-open"]') && self.$('[data-role="choosen-open"]').addClass("fn-hide");
                self.fetching = false;
                self._drop_reset();
            });
            self.on("render", function() {
                self.collection.get_search_result_list(self.search_data);
            });
            // 视图更新
            self.on("updateList", function(response, xhrOptions) {
                // 第一次载入时iScroll未生成
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                }
                self.view_scroll_obj.refresh();
            });
        },
        _render_item: function(response, xhrOptions) {
            var self = this;
            // modify by hudw
            var renderQueue = response.result_data.list && response.result_data.list.list;
            var htmlStr = item_tpl({
                search_list: renderQueue
            });
            var method = xhrOptions.reset ? "html" : "append";
            self.$search_result_list[method](htmlStr);
            self.trigger("updateList", response, xhrOptions);
            self._renderQueue = [];
            self.view_scroll_obj.refresh();
            if (method == "html") {
                self.view_scroll_obj.reset_top();
                self.view_scroll_obj.force_load_img();
            }
        },
        _reset: function() {
            var self = this;
            self.collection.each(self._addOne, self);
        },
        _addOne: function(dataModel) {
            var self = this;
            self._renderQueue.push(dataModel.toJSON());
            return self;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            // modify by hudw 2015.3.3
            // 替换原生滚动条
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                down_direction: "down",
                down_direction_distance: 50
            });
            self.view_scroll_obj = view_scroll_obj;
            // modify by hudw 2015.2.2
            self.view_scroll_obj.on("pullload", function(e) {
                if (self.has_next_page && !self.fetching) {
                    self.fetching = true;
                    self._load_more();
                } else {
                    self._drop_reset();
                }
            });
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        /**
         * 加载下一页数据
         * @private
         */
        _load_more: function() {
            var self = this;
            if (self.collection.get_state() == "free") {
                var current_page = self.collection.get_current_page();
                self.search_data.page = ++current_page;
                self.collection.get_search_result_list(self.search_data);
            }
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 设置搜索参数
         * @param data
         * @returns {search_view}
         */
        set_search_info: function(data) {
            var self = this;
            //因为是渲染前设置所以设page为1
            data.page = 1;
            self.search_data = data;
            return self;
        },
        refresh: function() {
            var self = this;
            self.$search_result_list["html"]("");
            self.collection.get_search_result_list(self.search_data);
        },
        setup: function() {
            var self = this;
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$search_result_list = self.$("[data-role=search-result-list]");
            self.$search_result = self.$("[data-role=search-result]");
            self.$load_more = self.$("[data-role=load-more]");
            // 安装事件
            self._setup_events();
            self._renderQueue = [];
        }
    });
    module.exports = search_view;
});

define("pai/wx-1.1.0/model_date/search_result/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<main role="main" class="secondary">\r\n    <header class="nav-header search-header">\r\n        <div class="left-button-wrap">\r\n            <a data-role="page-back"><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">';
        if (helper = helpers.tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n    <div class="search-result-choosen">\r\n        <div class="choosen_inside" data-choosen="price"><span data-role="selected-text">价格不限</span><i class="icon icon-search_result-arr-g" data-role="arrow-g"></i><i class="icon icon-search_result-arr-r" data-role="arrow-r"></i></div>\r\n        <div class="pixel_line"></div>\r\n        <div class="choosen_inside" data-choosen="hour"><span data-role="selected-text">时间不限</span><i class="icon icon-search_result-arr-g" data-role="arrow-g"></i><i class="icon icon-search_result-arr-r" data-role="arrow-r"></i></div>\r\n        <div class="pixel_line"></div>\r\n        <div class="choosen_inside" data-choosen="order"><span data-role="selected-text">默认排序</span><i class="icon icon-search_result-arr-g" data-role="arrow-g"></i><i class="icon icon-search_result-arr-r" data-role="arrow-r"></i></div>\r\n    </div>\r\n    <div class="search-result-choosen-open fn-hide" data-role="choosen-open">\r\n        <div class="condition fn-hide" data-role="condition-price" data-all>\r\n            <div class="child cur" data-role="child-tap" data-mix=""><span>价格不限</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="10-300"><span>10-300元</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="301-500"><span>301-500元</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="501-800"><span>501-800元</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="801-100000"><span>800元以上</span><i class="icon icon-search_result-ok"></i></div>\r\n        </div>\r\n        <div class="condition fn-hide" data-role="condition-hour" data-all>\r\n            <div class="child cur" data-role="child-tap" data-mix=""><span>时间不限</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="2"><span>2小时</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="4"><span>4小时</span><i class="icon icon-search_result-ok"></i></div>\r\n        </div>\r\n        <div class="condition fn-hide" data-role="condition-order" data-all>\r\n            <div class="child cur" data-role="child-tap" data-mix=""><span>默认排序</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="comment"><span>评价最好</span><i class="icon icon-search_result-ok"></i></div>\r\n            <div class="child" data-role="child-tap" data-mix="number"><span>拍摄最多</span><i class="icon icon-search_result-ok"></i></div>\r\n        </div>\r\n        <div class="fade" data-role="mask"></div>\r\n    </div>\r\n    <div style="height:100%" data-role="container">\r\n\r\n\r\n        <div class="search-result" data-role="search-result">\r\n\r\n            <!--div class="name-show" data-id="';
        if (helper = helpers.id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">当前搜索：';
        if (helper = helpers.tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div-->\r\n\r\n            <ul class="list clearfix" data-role="search-result-list">\r\n\r\n            </ul>\r\n\r\n            <div class="btn fn-hide" data-role="load-more">上拉加载更多</div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</main>';
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/search_result/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <li data-user-id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="to-model">\r\n        <div class="img_container">\r\n            <!--<img class="inner_img" src="';
            if (helper = helpers.icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-lazyload=""/>-->\r\n            <i class="img image-img avatar-size-img inner_img" style="background-size: cover;height: 140px;" data-lazyload="';
            if (helper = helpers.icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></i>\r\n        </div>\r\n        <div class="details">\r\n            <div class="name">';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n            <div class="price">';
            if (helper = helpers.price) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.price;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n            <div class="starts">\r\n                ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.stars_list, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                <div>";
            if (helper = helpers.date_num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.date_num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n            </div>\r\n        </div>\r\n\r\n    </li>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(5, program5, data),
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program3(depth0, data) {
            return '\r\n                        <i class="icon icon-stat-s-y"></i>\r\n                    ';
        }
        function program5(depth0, data) {
            return '\r\n                        <i class="icon icon-stat-s-g"></i>\r\n                    ';
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.search_list, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

/**
 * 首页 - 模特卡
 * 汤圆 2014.8.21
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/model_date/model_card/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/model_card/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/mine-popup/index-debug", "pai/wx-1.1.0/ui/popup/index-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/model_date/model_card/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var model_card_view = require("pai/wx-1.1.0/model_date/model_card/view-debug");
    var model = require("pai/wx-1.1.0/model_date/model_card/model-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    page_control.add_page([ function() {
        return {
            title: "模特卡",
            route: {
                "model_card/:user_id": "model_card"
            },
            transition_type: "slide",
            dom_not_cache: true,
            ignore_exist: true,
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var user_id = route_params_arr[0];
                var preview_data = null;
                console.log(route_params_obj);
                if (!utility.is_empty(route_params_obj) && !route_params_obj.is_from_reg) {
                    if (route_params_obj && route_params_obj.data) {
                        route_params_obj.data.is_preview = true;
                        preview_data = route_params_obj.data;
                        is_preview = true;
                    }
                } else {
                    is_preview = false;
                }
                var model_obj = new model({
                    user_id: user_id
                });
                console.log(ua.isAndroid);
                self.model_card_view_obj = new model_card_view({
                    templateModel: {
                        is_preview: is_preview,
                        is_android: ua.isAndroid
                    },
                    model: model_obj,
                    parentNode: self.$el
                }).set_preview_data(preview_data).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {
                var self = this;
            }
        };
    } ]);
});

/**
 * 首页 - 模特卡
 * 汤圆 2014.8.21
 */
define("pai/wx-1.1.0/model_date/model_card/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/mine-popup/index-debug", "pai/wx-1.1.0/ui/popup/index-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var model_card = require("pai/wx-1.1.0/model_date/model_card/tpl/main-debug.handlebars");
    var items_tpl = require("pai/wx-1.1.0/model_date/model_card/tpl/items-debug.handlebars");
    var starts_tpl = require("pai/wx-1.1.0/model_date/model_card/tpl/starts-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var IScroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var slide_tpl = require("pai/wx-1.1.0/widget/slide_v2/tpl/slide-debug.handlebars");
    //var slide_v2 = require('../../widget/slide_v2/view');
    var grid = require("pai/wx-1.1.0/widget/model_pic/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var mine_popup = require("pai/wx-1.1.0/ui/mine-popup/index-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var download_tips = require("pai/wx-1.1.0/ui/download_tips/download_tips-debug.handlebars");
    var model_card_view = View.extend({
        attrs: {
            template: model_card
        },
        events: {
            /*'swiperight' : function (){
                page_control.back();
            },*/
            /**
             * 约拍按钮
             */
            'tap [data-role="yuepai"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                utility.page_pv_stat_action({
                    tj_point: "yuepai"
                });
                if (!utility.auth.is_login()) {
                    console.log("no_login");
                    self.dialog_login.show();
                    return;
                }
                //用于预览跳过来
                if (self.preview_data && self.preview_data.is_preview) {
                    self.model.is_preview = true;
                    page_control.navigate_to_page("model_style/" + self.model.user_id, {
                        data: self.preview_data
                    });
                    return;
                }
                if (utility.login_id == self.model.get("user_id")) {
                    m_alert.show("不要刷单啊，自己不能约自己", "error");
                    return;
                }
                if (utility.login_id && utility.user.get("role") == "model") {
                    m_alert.show("我们暂时不支持模特约拍模特功能。", "error");
                    return;
                }
                // 直接跳过去选择风格
                page_control.navigate_to_page("model_style/" + self.model.get("user_id"));
            },
            swiperight: function() {},
            /**
             * 私聊按钮
             * @param ev
             */
            "tap [data-role=msg]": function(ev) {
                var self = this;
                utility.stat_action({
                    tj_point: "touch",
                    tj_touch_type: "chat"
                });
                if (WeixinApi.isWexXin()) {
                    console.log("is weixin");
                    self.dialog_down_app.show();
                } else {
                    console.log("not weixin");
                    self.dialog_down_app.show();
                }
                return;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                if (self.model.toJSON().user_id == utility.user.get("user_id")) {
                    m_alert.show("不要和自己聊天。", "error");
                    return;
                }
                if (utility.user.get("role") == "model") {
                    m_alert.show("不要和模特聊天。", "error");
                    return;
                }
                self.is_from_date = false;
                self.model.judge_can_date({
                    model_user_id: self.model.get("user_id")
                });
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                page_control.back();
            },
            'tap [data-role="model-car-available_notice"]': function() {
                var self = this;
            },
            'tap [data-role="model-car-available_notice_text"]': function() {
                var self = this;
            },
            /**
             * 关注按钮
             */
            'tap [data-role="follow"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                var data = {
                    type: "follow",
                    be_follow_user_id: self.model.get("user_id")
                };
                m_alert.show("关注中...", {
                    delay: 1e3
                });
                self.model.follow_request(data);
            },
            /**
             * 取消关注按钮
             */
            'tap [data-role="unfollow"]': function() {
                var self = this;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                var data = {
                    type: "no_follow",
                    be_follow_user_id: self.model.get("user_id")
                };
                m_alert.show("取消关注中...", {
                    delay: 1e3
                });
                self.model.unfollow_request(data);
            },
            'tap [data-role="cam_icon"]': function(ev) {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                var $cur_btn = $(ev.currentTarget);
                var cam_id = $cur_btn.attr("data-cam_id");
                page_control.navigate_to_page("zone/" + cam_id + "/cameraman");
            },
            'tap [data-role="level"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                page_control.navigate_to_page("mine/explain/lev");
            },
            'tap [data-role="jifen"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                page_control.navigate_to_page("mine/explain/charm");
            },
            'tap [data-role="go_fans"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                page_control.navigate_to_page("account/fans_follows/" + self.model.get("user_id") + "/fans");
            },
            /**
             * 点击查看轮播图
             * @param ev
             */
            "tap [data-role=grid-pic-container]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                // 当前图片
                var cur_alumn_img = $cur_btn.attr("data-alumn-img");
                // 所有图片
                var $total_alumn_img = self.$("[data-role=grid-pic-container]");
                var total_alumn_img_arr = [];
                var total_weixin_alumn_arr = [];
                $total_alumn_img.each(function(i, obj) {
                    total_alumn_img_arr.push({
                        url: $(obj).attr("data-alumn-img"),
                        text: ""
                    });
                    total_weixin_alumn_arr.push($(obj).attr("data-alumn-img"));
                });
                if (WeixinApi.isWexXin()) {
                    //WeixinApi.enableDebugMode();
                    WeixinApi.imagePreview(cur_alumn_img, total_weixin_alumn_arr);
                    return;
                }
                // 当前图片索引
                var index = $total_alumn_img.index($cur_btn);
                // 轮播图数据
                var data = {
                    img_arr: total_alumn_img_arr,
                    index: index
                };
                console.log(data);
                if (!App.isPaiApp) {
                    console.log("no App");
                    return;
                }
                App.show_alumn_imgs(data);
            },
            'tap [data-role="nav-to-comment"]': function(ev) {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                var $cur_btn = $(ev.currentTarget);
                var user_id = self.model.get("user_id");
                page_control.navigate_to_page("comment/list/model/" + user_id + "/0");
            },
            'tap [data-role="menu"]': function() {
                // 弹出层设置
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                if (!self.mine_Popup) {
                    self.mine_Popup = new mine_popup({
                        uid: utility.user.get("user_id"),
                        report_model_id: self.model.get("user_id"),
                        items: {
                            edit: false,
                            report: true
                        }
                    }).show();
                } else {
                    self.mine_Popup.show();
                }
            },
            'tap [data-role="pop-max-dabenxiang"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("fn-hide");
                utility.storage.set("pop-max-dabenxiang", 1);
            },
            'tap [data-role="focus"]': function(ev) {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                var $cur_btn = $(ev.currentTarget);
                var type = $cur_btn.attr("data-focus-type");
                var data;
                switch (type) {
                  case "to_focuse":
                    data = {
                        type: "follow",
                        be_follow_user_id: self.model.get("user_id")
                    };
                    m_alert.show("关注中...", "right", {
                        delay: 1e3
                    });
                    self.model.follow_request(data);
                    break;

                  case "focused":
                    data = {
                        type: "no_follow",
                        be_follow_user_id: self.model.get("user_id")
                    };
                    m_alert.show("取消关注中...", "right", {
                        delay: 1e3
                    });
                    self.model.unfollow_request(data);
                    break;

                  case "each":
                    data = {
                        type: "no_follow",
                        be_follow_user_id: self.model.get("user_id")
                    };
                    m_alert.show("取消关注中...", "right", {
                        delay: 1e3
                    });
                    self.model.unfollow_request(data);
                    break;
                }
            },
            'tap  [data-role="to_more_style"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                //用于预览跳过来
                if (self.preview_data && self.preview_data.is_preview) {
                    self.model.is_preview = true;
                    page_control.navigate_to_page("model_style/" + self.model.user_id, {
                        data: self.preview_data
                    });
                    return;
                }
                /*if(utility.login_id == self.model.get('user_id'))
                 {
                 m_alert.show("不要刷单啊，自己不能约自己",'error');
                 return;
                 }*/
                // 模特点击全部风格，把当前模特对象传递过去，模拟成预览
                var preview_data = null;
                if (utility.login_id && utility.user.get("role") == "model") {
                    preview_data = {
                        data: self.model.toJSON(),
                        is_preview: true
                    };
                }
                // 直接跳过去选择风格
                page_control.navigate_to_page("model_style/" + self.model.get("user_id"), preview_data);
            },
            'tap [data-role="other_browser_tips"]': function() {
                var self = this;
                utility.judge_go_to_app({
                    url: "yueyue://goto?type=inner_app&pid=1220025&user_id=" + self.model.get("user_id"),
                    before_send: function() {
                        m_alert.show("正在进行跳转到约yue App...", "loading", {
                            delay: 3e3
                        });
                    },
                    has_app_callback: function() {},
                    has_not_app_callback: function() {
                        m_alert.hide();
                        self.dialog_tips.show();
                    }
                });
            }
        },
        _setup_events: function() {
            var self = this;
            self.model.on("success:fetch", function(response, options) {
                self._insert_data();
                //安装轮播
                self._setup_slide();
                //console.log('slide');
                if (self.model.toJSON().is_follow) {
                    self.$('[data-role="unfollow"]').removeClass("fn-hide");
                } else {
                    self.$('[data-role="follow"]').removeClass("fn-hide");
                }
                self.$('[data-role="msg"]').removeClass("fn-hide");
                // 显示模特卡名字
                self.$('[data-role="moteka-title"]').html(self.model.get("nickname"));
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.reset_top();
                    self._drop_reset();
                    return;
                }
                self._drop_reset();
                self.view_scroll_obj.refresh();
                self.view_scroll_obj.reset_top();
            }).on("complete:fetch", function(response, options) {
                //m_alert.hide();
                self.view_scroll_obj.refresh();
            }).on("success:fetch_follow", function(response, options) {
                self._change_focus_type(response);
                m_alert.show(response.result_data.msg, "right", {
                    delay: 1e3
                });
            }).on("error:fetch_follow", function(response, options) {
                m_alert.show("关注失败！", "error", {
                    delay: 1e3
                });
            }).on("complete:fetch_follow", function(response, options) {}).on("success:fetch_unfollow", function(response, options) {
                self._change_focus_type(response);
                m_alert.show(response.result_data.msg, "right", {
                    delay: 1e3
                });
            }).on("error:fetch_unfollow", function(response, options) {
                m_alert.show("取消失败！", "error", {
                    delay: 1e3
                });
            }).on("complete:fetch_unfollow", function(response, options) {}).on("before:judge_can_date", function() {
                if (self.is_from_date) {
                    m_alert.show("约拍正在准备中。。。", "loading", {
                        delay: -1
                    });
                } else {
                    m_alert.show("私聊正在准备中。。。", "loading", {
                        delay: -1
                    });
                }
            }).on("success:judge_can_date", function(response, options) {
                var response = response.result_data;
                if (response.code != 1) {
                    m_alert.show(response.msg, "error");
                    var url = encodeURIComponent(window.location.href);
                    switch (utility.int(response.model_level_require)) {
                      case 2:
                        page_control.navigate_to_page("mine/authentication/v2/from_date");
                        break;

                      case 3:
                        page_control.navigate_to_page("mine/authentication/v3/from_date_" + url);
                        break;
                    }
                    return;
                }
                m_alert.hide();
                if (self.is_from_date) {
                    page_control.navigate_to_page("model_style/" + self.model.get("user_id"));
                } else {
                    var data = {
                        senderid: utility.login_id,
                        receiverid: utility.int(self.model.get("user_id")),
                        sendername: utility.user.get("nickname"),
                        receivername: self.model.get("user_name"),
                        sendericon: utility.user.get("user_icon"),
                        receivericon: self.model.get("user_icon")
                    };
                    if (!App.isPaiApp) {
                        console.warn("no App");
                        return;
                    }
                    App.chat(data);
                }
            }).on("error:judge_can_date", function() {
                m_alert.show("网络异常", "error");
            }).on("success:wx_sign", function(response) {
                console.log(response.result_data);
            });
            self.on("render", function() {
                self.get_model_info();
                self.$('[data-role="pop-max-dabenxiang"]').addClass("fn-hide");
                if (utility.storage.get("pop-max-dabenxiang") || self.preview_data) {}
            });
        },
        _set_WX_share: function(data) {
            var self = this;
            console.log(data);
            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") //(global_config.WeiXin_Version.indexOf('6.0.2') != -1|| global_config.WeiXin_Version.indexOf('6.1') != -1)
            {
                var loc = window.location;
                self.WeiXin_data = {
                    title: data.share_text.title,
                    //"模特邀约第一移动平台", // 分享标题
                    desc: data.share_text.content,
                    //"我是约女神【" + data.user_name + "】，等你约拍哦~", // 分享描述
                    link: data.share_text.url + "?_from_source=normal",
                    // 分享链接
                    imgUrl: data.share_text.img,
                    //data.user_icon, // 分享图标
                    type: "link",
                    // 分享类型,music、video或link，不填默认为link
                    dataUrl: "",
                    // 如果type是music或video，则要提供数据链接，默认为空
                    success: function() {},
                    cancel: function() {}
                };
                self.WeiXin_data_Timeline = {
                    desc: data.share_text.title,
                    //"模特邀约第一移动平台", // 分享标题
                    title: data.share_text.content,
                    //"我是约女神【" + data.user_name + "】，等你约拍哦~", // 分享描述
                    link: data.share_text.url + "?_from_source=timeline",
                    // 分享链接
                    imgUrl: data.share_text.img,
                    //data.user_icon, // 分享图标
                    type: "link",
                    // 分享类型,music、video或link，不填默认为link
                    dataUrl: "",
                    // 如果type是music或video，则要提供数据链接，默认为空
                    success: function() {
                        // 用户确认分享后执行的回调函数
                        //alert("分分分成功")
                        utility.stat_action({
                            tj_point: "touch",
                            tj_touch_type: "share",
                            tj_extend_params: {
                                hash: loc.hash
                            }
                        });
                    },
                    cancel: function() {}
                };
                utility.wei_xin.set_share_new(loc.hash, self.WeiXin_data, self.WeiXin_data_Timeline);
                WeiXinSDK.ready(function() {
                    WeiXinSDK.ShareToFriend(self.WeiXin_data);
                    WeiXinSDK.ShareTimeLine(self.WeiXin_data_Timeline);
                    WeiXinSDK.ShareQQ(self.WeiXin_data);
                });
            } else {
                if (WeixinApi.isWexXin()) {
                    WeixinApi.ready(function(Api) {
                        var loc = window.location;
                        var wxData = {
                            appId: "wx25fbf6e62a52d11e",
                            imgUrl: data.share_text.img,
                            //data.user_icon,
                            link: data.share_text.url + "?_from_source=normal",
                            desc: data.share_text.content,
                            //"我是约女神【" + data.user_name + "】，等你约拍哦~",
                            title: data.share_text.title
                        };
                        var wx_Data_Timeline = {
                            appId: "wx25fbf6e62a52d11e",
                            imgUrl: data.share_text.img,
                            //data.user_icon,
                            link: data.share_text.url + "?_from_source=timeline",
                            //"link" : loc.origin + loc.pathname + loc.search + "&for_share=timeline" + loc.hash,
                            desc: data.share_text.title,
                            //"我是约女神【" + data.user_name + "】，等你约拍哦~",
                            title: data.share_text.content
                        };
                        // 分享的回调
                        var wxCallbacks = {
                            // 收藏操作不执行回调，默认是开启(true)的
                            favorite: false,
                            // 分享操作开始之前
                            ready: function() {},
                            // 分享被用户自动取消
                            cancel: function(resp) {},
                            // 分享失败了
                            fail: function(resp) {},
                            // 分享成功
                            confirm: function(resp) {
                                // 分享成功了，我们是不是可以做一些分享统计呢？
                                utility.stat_action({
                                    tj_point: "touch",
                                    tj_touch_type: "share",
                                    tj_extend_params: {
                                        hash: loc.hash
                                    }
                                });
                            },
                            // 整个分享过程结束
                            all: function(resp, shareTo) {}
                        };
                        utility.wei_xin.set_share(loc.hash, wxData, wx_Data_Timeline, wxCallbacks);
                        // 安卓好友
                        Api.shareToFriend(wxData, wxCallbacks);
                        // 安卓朋友圈
                        Api.shareToTimeline(wx_Data_Timeline, wxCallbacks);
                        // 腾讯微博
                        //WeixinApi.shareToWeibo(wxData, wxCallbacks);
                        // iOS好友/朋友圈
                        Api.generalShare(wxData, wxCallbacks);
                    });
                }
            }
        },
        _change_focus_type: function(response) {
            var self = this;
            console.log(response);
            self.$('[data-role="focus"]').addClass("fn-hide");
            if (response.result_data.is_follow == 2) {
                self.$('[data-focus-type="each"]').removeClass("fn-hide");
            } else if (response.result_data.is_follow == 1) {
                self.$('[data-focus-type="focused"]').removeClass("fn-hide");
            } else {
                self.$('[data-focus-type="to_focuse"]').removeClass("fn-hide");
            }
        },
        _insert_data: function(data) {
            var self = this;
            var model_data = self.model.toJSON();
            //用于预览 data参数存在时是预览
            if (data) {
                data.is_preview = true;
                model_data = data;
            }
            console.log(model_data);
            switch (model_data.level_require) {
              case "1":
                model_data = $.extend(true, {}, model_data, {
                    level_r_1: true
                });
                break;

              case "2":
                model_data = $.extend(true, {}, model_data, {
                    level_r_2: true
                });
                break;

              case "3":
                model_data = $.extend(true, {}, model_data, {
                    level_r_3: true
                });
                break;
            }
            // 提供模特卡页面给第三方浏览器和微信非约yue公众号的用户观看
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                /*if(!utility.is_dev_mode())
                {
                    self.$('[data-role="date-footer"]').addClass('fn-hide');
                    self.$('[data-role="other_browser_tips"]').removeClass("fn-hide");
                }
                else
                {
                    self.$('[data-role="other_browser_tips"]').addClass("fn-hide");
                    self.$('[data-role="date-footer"]').removeClass('fn-hide');
                }*/
                self.$('[data-role="date-footer"]').addClass("fn-hide");
                self.$('[data-role="other_browser_tips"]').removeClass("fn-hide");
            } else {
                self.$('[data-role="other_browser_tips"]').addClass("fn-hide");
                self.$('[data-role="date-footer"]').removeClass("fn-hide");
            }
            /*if(ua.is_weixin)
            {

            }
            else
            {
                //不是微信 且 不是预览编辑模特卡 显示tips
                if(!self.is_dev_mode())
                {
                    self.$('[data-role="other_browser_tips"]').removeClass("fn-hide");
                }
                else
                {
                    self.$('[data-role="other_browser_tips"]').addClass("fn-hide");
                }

            }*/
            //self.model.wx_sign(loc.origin + loc.pathname + loc.search);
            if (WeixinApi.isWexXin() || WeiXinSDK.isWeiXin()) {
                self._set_WX_share(model_data);
            }
            if (model_data.new_model_style_arr) {
                model_data.model_style_combo = model_data.new_model_style_arr;
            }
            if (model_data.is_follow == 2) {
                model_data = $.extend(true, {}, model_data, {
                    is_follow_each_other: true
                });
            } else if (model_data.is_follow == 1) {
                model_data = $.extend(true, {}, model_data, {
                    is_follow_single: true
                });
            }
            var html_str = items_tpl(model_data);
            self.$items_container.html(html_str);
            self.can_pai = true;
            var html_str = starts_tpl({
                data: model_data.comment_stars_list
            });
            self.$('[data-role="starts"]').html(html_str);
            //self.view_scroll_obj.refresh();
            //self.view_scroll_obj.scrollTo(0,0);
            //头像数等于2时调整布局
            if (model_data.date_log && model_data.date_log.length == 2) {
                self.$('[data-role="ph_contain"]').css("-webkit-box-pack", "start");
                self.$('[data-role="cam_icon"]').css("margin-right", "10px");
            }
            if (utility.login_id == self.model.get("user_id")) {
                self.$focus_contain = self.$('[data-role="focus-contain"]');
                self.$focus_contain.addClass("fn-hide");
            }
            // 显示模特卡名字 hudw 2014.11.21
            self.$('[data-role="moteka-title"]').html(utility.user.get("nickname"));
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                prevent_tag: "slider"
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.get_model_info();
            });
        },
        setup: function() {
            var self = this;
            var container_height = utility.get_grid_size("double").height;
            // 配置交互对象
            self.$container = self.$("[data-role=items-container]");
            self.$items_container = self.$('[data-role="items-container"]');
            self.$container_img_list = self.$('[data-role="container-img-list"]');
            self.$container.height(window.innerHeight - 45);
            self.$container_img_list.height(container_height);
            self.can_pai = false;
            self._setup_events();
            self.setup_dialog_down_app();
            self.setup_dialog_login();
            self.setup_dialog_tips();
            self.setup_dialog_down_app_v2();
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                if (ua.is_qq) {
                    self.$container.height(window.innerHeight);
                }
                self.$('[data-role="container"]').append(download_tips());
                self.$('[data-role="page-back"]').addClass("fn-invisible");
                self.$('[data-role="menu"]').addClass("fn-invisible");
            }
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        setup_dialog_down_app: function() {
            var self = this;
            // 已注册过的提示层安装 hudw 2014.11.21
            self.dialog_down_app = new dialog({
                content: '<p class="wx_card_notice">需要和模特私聊，可拨打客服电话<br>4000-82-9003或直接下载APP</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_download_btn"><span class="ui-button-content">下载APP</span></button>'
            });
            self.dialog_down_app.on("tap:button:wx_card_download_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            }).on("tap:button:wx_card_go_date_btn", function() {
                this.hide();
                if (!utility.auth.is_login()) {
                    console.log("no_login");
                    self.dialog_login.show();
                    return;
                }
                //用于预览跳过来
                if (self.preview_data && self.preview_data.is_preview) {
                    self.model.is_preview = true;
                    page_control.navigate_to_page("model_style/" + self.model.user_id, {
                        data: self.preview_data
                    });
                    return;
                }
                if (utility.login_id == self.model.get("user_id")) {
                    m_alert.show("不要刷单啊，自己不能约自己", "error");
                    return;
                }
                if (utility.login_id && utility.user.get("role") == "model") {
                    m_alert.show("我们暂时不支持模特约拍模特功能。", "error");
                    return;
                }
                // 直接跳过去选择风格
                page_control.navigate_to_page("model_style/" + self.model.get("user_id"));
            });
        },
        setup_dialog_login: function() {
            var self = this;
            self.dialog_login = new dialog({
                content: '<p class="wx_card_notice">您还没有注册</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_login_btn"><span class="ui-button-content">注册</span></button><p style="margin-top: 16px;color:#666666;font-size: 12px;height: 18px;line-height: 18px;">注册太麻烦，想要直接约？</p><p style="color:#666666;font-size: 12px;height: 18px;line-height: 18px">拨打4000-82-9003，我们帮你！</p>'
            }).on("tap:button:wx_card_login_btn", function() {
                this.hide();
                // modify by hudw 2014.12.23
                page_control.navigate_to_page("account/register/reg");
            });
        },
        setup_dialog_tips: function() {
            var self = this;
            var str = "需要和模特私聊，可拨打客服电话<br>4000-82-9003或直接下载APP";
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                str = "还没安装约yue APP?";
            }
            self.dialog_tips = new dialog({
                content: '<p class="wx_card_notice">' + str + '</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_tips_btn"><span class="ui-button-content">立即下载</span></button>'
            }).on("tap:button:wx_card_tips_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            });
        },
        setup_dialog_down_app_v2: function() {
            var self = this;
            var str = "网页版暂不支持该功能，请使用约yue APP获得更佳体验";
            // 已注册过的提示层安装 hudw 2014.11.21
            self.dialog_down_app_v2 = new dialog({
                content: '<p class="wx_card_notice">' + str + '<button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_download_btn"><span class="ui-button-content">下载APP</span></button>'
            });
            self.dialog_down_app_v2.on("tap:button:wx_card_download_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            });
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        set_preview_data: function(data) {
            var self = this;
            self.preview_data = data || null;
            return self;
        },
        /**
         * 安装轮播滚动
         * @private
         */
        _setup_slide: function(data) {
            var self = this;
            var contents = [];
            if (data) {
                var group_render_queue = data;
            } else {
                var group_render_queue = self.model.toJSON().new_model_pic;
            }
            if (!group_render_queue) {
                return;
            }
            var len = group_render_queue.length;
            // 头部组图
            for (var i = 0; i < len; i++) {
                if (i >= 1) {
                    for (var n = 0; n < group_render_queue[i].length; n++) {
                        if ((n + 2) % 3 == 0) {
                            group_render_queue[i][n].type = "middle";
                        } else {
                            group_render_queue[i][n].type = "one";
                        }
                    }
                }
                var img_render_queue = group_render_queue[i];
                console.log(img_render_queue);
                var grid_list_view = new grid({
                    templateModel: {
                        tpl_data: img_render_queue,
                        tpl_type: "1double_others_one"
                    }
                }).render();
                var new_grid_container = document.createElement("li");
                $(new_grid_container).html(grid_list_view.list());
                contents.push({
                    content: $(new_grid_container).html()
                });
            }
            self.slide_view_pic_len = contents.length;
            //当只有一张图时不显示小圆点
            var no_single;
            contents.length > 1 ? no_single = true : no_single = false;
            self.$slide_out = self.$("[data-role=container-img-list]");
            //设置选中第一个
            // modify by hudw 先判断对象是否存在
            if (contents[0]) {
                contents[0].class = "current";
            }
            /**
             * modify by hudw
             * 2014.12.25
             * 使用iscroll 实现轮播
             */
            self.$slide_out.html(slide_tpl({
                contents: contents,
                no_single: no_single
            }));
            var l = self.$slide_out.find(".swiper-slide").length;
            var w = utility.get_view_port_width();
            var h = grid_list_view && grid_list_view._get_size_by_type("double").height;
            self.$slide_out.find(".swiper-slide").width(w).height(h);
            self.$slide_out.height(h);
            self.slide_view = new IScroll(self.$slide_out, {
                bounce: false,
                snap: true,
                snapThreshold: utility.get_view_port_width() / 5,
                momentum: false,
                hScroll: true,
                vScroll: false,
                hScrollbar: false,
                vScrollbar: false,
                checkDOMChanges: true
            });
            self.slide_view.current_page = 1;
            $(self.slide_view.scroller).width(utility.float(l * w)).height(h);
            if (contents.length > 1) {
                self.$slide_out.height(h + 20);
                self.$slide_out.find('[data-role="ad-pics-num"] span').eq(0).addClass("swiper-visible-switch swiper-active-switch");
            }
            self.slide_view.on("scrollEnd", function() {
                var _self = this;
                var idx = _self.currPageX;
                self.$slide_out.find('[data-role="ad-pics-num"] span').removeClass("swiper-visible-switch swiper-active-switch");
                self.$slide_out.find('[data-role="ad-pics-num"] span').eq(idx).addClass("swiper-visible-switch swiper-active-switch");
            });
            self.slide_view.refresh();
            /***END***/
            setTimeout(function() {
                self.view_scroll_obj.refresh();
            }, 50);
        },
        get_model_info: function() {
            var self = this;
            //用于预览
            if (self.preview_data) {
                console.log(self.preview_data);
                self._insert_data(self.preview_data);
                //安装轮播
                self._setup_slide(self.preview_data.new_model_pic);
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.reset_top();
                }
            } else {
                self.model.get_info();
            }
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height() - 45;
        }
    });
    module.exports = model_card_view;
});

define("pai/wx-1.1.0/model_date/model_card/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return '\r\n       <div class="right-button-wrap" data-role="menu">\r\n            <a><i class="circle-min"></i><i class="circle-min"></i><i class="circle-min"></i></a>\r\n        </div>\r\n    ';
        }
        function program3(depth0, data) {
            return "\r\n        <style>\r\n            .model-card .native_scroll > *\r\n            {\r\n                -webkit-transform: translateZ(0px);\r\n            }\r\n\r\n            .model-card .native_scroll > * {\r\n                -webkit-transform: translate3d(0,0,0);\r\n            }\r\n        </style>\r\n    ";
        }
        function program5(depth0, data) {
            return "\r\n                                查看我的条件\r\n                        ";
        }
        function program7(depth0, data) {
            return '\r\n                        <span class="ui-button-content" data-role="yuepai"><i class="icon icon-yuepai-m"></i> 约拍</span>\r\n                        ';
        }
        function program9(depth0, data) {
            return "page-back";
        }
        function program11(depth0, data) {
            return "msg";
        }
        function program13(depth0, data) {
            return "\r\n                                返回修改\r\n                        ";
        }
        function program15(depth0, data) {
            return '\r\n                        <span class="ui-button-content"><i class="icon icon-siliao-m"></i> 私聊</span>\r\n                        ';
        }
        buffer += '<main role="main" class="model-card">\r\n    <header class="nav-header mine-model-car-header-opacity" data-role="slide-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a href="javascript:;"><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title" data-role="moteka-title"></h3>\r\n\r\n       <div class="right-button-wrap" data-role="menu">\r\n           <a href="javascript:;"><i class="circle-min"></i><i class="circle-min"></i><i class="circle-min"></i></a>\r\n        </div> \r\n    </header>\r\n    <div class="fade-header fn-hide">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-moder-ka-back"></i></a>\r\n        </div>\r\n\r\n    ';
        stack1 = helpers.unless.call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n    </div>\r\n    ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_android, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    <div  data-role="container" class="content-body" style="position: relative;">\r\n        <div data-role="items-container"></div>\r\n        <footer  class="pop-model-car-confirm fn-hide" data-role="date-footer">\r\n            <ul class="list clearfix">\r\n                <li data-role="yuepai">\r\n                    <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-role="yuepai">\r\n                        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.program(7, program7, data),
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                    </button>\r\n                </li>\r\n                <li data-role="';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.program(11, program11, data),
            fn: self.program(9, program9, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '">\r\n                    <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width">\r\n                        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.program(15, program15, data),
            fn: self.program(13, program13, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </footer>\r\n\r\n        <div class="pop-max-dabenxiang" data-role="pop-max-dabenxiang" style="background-image:url(../mobile/images/pop-modelcar-tips.png);background-size:80%;background-repeat:no-repeat;background-position:50%">\r\n            \r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n\r\n</main>\r\n\r\n';
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/model_card/tpl/items-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="rbox fldi"><span class=""><label data-role="cameraman-require">';
            if (helper = helpers.style) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.style;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</label></span></div>\r\n            ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="rbox fldi"><span class="cor-y">';
            if (helper = helpers.price) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.price;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "元（";
            if (helper = helpers.hour) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.hour;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "小时）</span></div>\r\n            ";
            return buffer;
        }
        function program5(depth0, data) {
            return '\r\n            <div class="l">备注</div>\r\n        ';
        }
        function program7(depth0, data) {
            return '\r\n                                <i class="icon icon-v1-cam-r"></i>\r\n                            ';
        }
        function program9(depth0, data) {
            return '\r\n                                <i class="icon icon-v2-cam-r"></i>\r\n                            ';
        }
        function program11(depth0, data) {
            return '\r\n                                <i class="icon icon-v3-cam-r"></i>\r\n                            ';
        }
        function program13(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <div class="r exp"><span class="">';
            if (helper = helpers.intro) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.intro;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</span></div>\r\n        ";
            return buffer;
        }
        function program15(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="line-top w-100"></div>\r\n    <div class="item master mgbt_none">\r\n        <div class="title">这些大师约拍过</div>\r\n        <div class="ph_contain" data-role="ph_contain">\r\n            ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.date_log, {
                hash: {},
                inverse: self.noop,
                fn: self.program(16, program16, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        </div>\r\n\r\n    </div>\r\n";
            return buffer;
        }
        function program16(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="cam_icon_contain" data-role="cam_icon" data-cam_id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                    <div class="cam_icon"  style="background-image: url(';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '); width: 50px; height: 50px;"></div>\r\n                    ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.level1, {
                hash: {},
                inverse: self.noop,
                fn: self.program(17, program17, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.level2, {
                hash: {},
                inverse: self.noop,
                fn: self.program(19, program19, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.level3, {
                hash: {},
                inverse: self.noop,
                fn: self.program(21, program21, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                </div>\r\n            ";
            return buffer;
        }
        function program17(depth0, data) {
            return '\r\n                        <div class="icon icon-v1-cam"></div>\r\n                    ';
        }
        function program19(depth0, data) {
            return '\r\n                        <div class="icon icon-v2-cam"></div>\r\n                    ';
        }
        function program21(depth0, data) {
            return '\r\n                        <div class="icon icon-v3-cam"></div>\r\n                    ';
        }
        function program23(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_follow_each_other, {
                hash: {},
                inverse: self.program(26, program26, data),
                fn: self.program(24, program24, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n\r\n\r\n                <!--div class="focus-contain fn-hide" data-role="focus-contain">\r\n                    <div class="add-inside fn-hide" data-role="follow">\r\n                        <i class="icon icon-focus-yes"></i>\r\n                    </div>\r\n                    <div class="des-inside fn-hide" data-role="unfollow">\r\n                        <i class="icon icon-focus-yes-no"></i>\r\n                    </div>\r\n                </div-->\r\n            ';
            return buffer;
        }
        function program24(depth0, data) {
            return '\r\n                    <div class="ui-follow-mod ui-eachotherfollow-mod" data-role="focus" data-focus-type="each">\r\n                        <i class="icon icon-ui-eachotherfollow-m"></i> <span class="txt">相互关注</span>\r\n                    </div>\r\n                    <div class="ui-follow-mod ui-hasfollow-mod fn-hide" data-role="focus" data-focus-type="focused">\r\n                        <i class="icon icon-ui-hasfollow-m"></i> <span class="txt">已关注</span>\r\n                    </div>\r\n                    <div class="ui-follow-mod fn-hide" data-role="focus" data-focus-type="to_focuse">\r\n                        <i class="icon icon-ui-follow-m"></i> <span class="txt">关注</span>\r\n                    </div>\r\n                ';
        }
        function program26(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_follow_single, {
                hash: {},
                inverse: self.program(29, program29, data),
                fn: self.program(27, program27, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program27(depth0, data) {
            return '\r\n                        <div class="ui-follow-mod ui-eachotherfollow-mod fn-hide" data-role="focus" data-focus-type="each">\r\n                            <i class="icon icon-ui-eachotherfollow-m"></i> <span class="txt">相互关注</span>\r\n                        </div>\r\n                        <div class="ui-follow-mod ui-hasfollow-mod" data-role="focus" data-focus-type="focused">\r\n                            <i class="icon icon-ui-hasfollow-m"></i> <span class="txt">已关注</span>\r\n                        </div>\r\n                        <div class="ui-follow-mod fn-hide" data-role="focus" data-focus-type="to_focuse">\r\n                            <i class="icon icon-ui-follow-m"></i> <span class="txt">关注</span>\r\n                        </div>\r\n                    ';
        }
        function program29(depth0, data) {
            return '\r\n                        <div class="ui-follow-mod ui-eachotherfollow-mod fn-hide" data-role="focus" data-focus-type="each">\r\n                            <i class="icon icon-ui-eachotherfollow-m"></i> <span class="txt">相互关注</span>\r\n                        </div>\r\n                        <div class="ui-follow-mod ui-hasfollow-mod fn-hide" data-role="focus" data-focus-type="focused">\r\n                            <i class="icon icon-ui-hasfollow-m"></i> <span class="txt">已关注</span>\r\n                        </div>\r\n                        <div class="ui-follow-mod" data-role="focus" data-focus-type="to_focuse">\r\n                            <i class="icon icon-ui-follow-m"></i> <span class="txt">关注</span>\r\n                        </div>\r\n                    ';
        }
        buffer += '<div  class="model-car-v2">\r\n\r\n\r\n<div  data-role="container-img-list" class="grid-pic-content">\r\n\r\n</div>\r\n<div class="part-two">\r\n<div class="item bdtp_none">\r\n    <ul class="model-size">\r\n        <li class="icon" data-role="model_data_height">';
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'cm</li>\r\n        <li class="icon" data-role="model_data_weight">';
        if (helper = helpers.weight) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.weight;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'kg</li>\r\n        <li class="icon" data-role="model_data_bust">';
        if (helper = helpers.cup_v2) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.cup_v2;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</li>\r\n        <li class="icon" data-role="model_data_BWH">';
        if (helper = helpers.BWH) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.BWH;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</li>\r\n    </ul>\r\n</div>\r\n\r\n<div class="line-top w-100"></div>\r\n<div class="item pdbt_exp" data-role="nav-to-comment">\r\n    <ul class="info">\r\n        <i class="icon icon-r-16x26-cur"></i>\r\n        <li>\r\n            <div class="lbox ">综合评价</div>\r\n            <div class="rbox fldi">\r\n                <span data-role="starts"></span>\r\n                <span class="cor-5" data-role="model_data_score" style="color:#ff9c00">';
        if (helper = helpers.score) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.score;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '分</span>\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class="lbox ">拍片次数</div>\r\n            <div class="rbox fldi" data-role="model_data_take_photo_times">';
        if (helper = helpers.take_photo_times) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.take_photo_times;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n<div class="line-top w-100"></div>\r\n<div class="item mgbt_none bdbt_none">\r\n    <ul class="info">\r\n        <li>\r\n            <div class="lbox ">擅长风格</div>\r\n            ';
        stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.model_style_combo, 
        stack1 == null || stack1 === false ? stack1 : stack1.main), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n        </li>\r\n        <li>\r\n\r\n            <div class="lbox ">价格</div>\r\n            ';
        stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.model_style_combo, 
        stack1 == null || stack1 === false ? stack1 : stack1.main), {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n        </li>\r\n        <!--li>\r\n                    <div class="lbox ">拍摄类型</div>\r\n                    <div class="rbox fldi" data-role="model_data_style">';
        if (helper = helpers.model_type_list) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.model_type_list;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n                </li-->\r\n    </ul>\r\n</div>\r\n\r\n<div class="item to_more_style" data-role="to_more_style">\r\n    <div class="more">查看全部风格和价格</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class="line-top w-100"></div>\r\n<div class="item spe-box">\r\n    <div class="notice">\r\n        <div class="l">信用要求</div>\r\n        <div class="l">拍摄人数</div>\r\n        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.intro, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    </div>\r\n    <div class="details">\r\n        <div class="r">\r\n                    <span class="">\r\n                        <label data-role="cameraman-require">\r\n                            ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.level_r_1, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n                            ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.level_r_2, {
            hash: {},
            inverse: self.noop,
            fn: self.program(9, program9, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n                            ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.level_r_3, {
            hash: {},
            inverse: self.noop,
            fn: self.program(11, program11, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n                        </label>\r\n                    </span>\r\n        </div>\r\n        <div class="r">不超过<span class="">';
        if (helper = helpers.limit_num) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.limit_num;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</span>人</div>\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.intro, {
            hash: {},
            inverse: self.noop,
            fn: self.program(13, program13, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    </div>\r\n    <ul class="info fn-hide">\r\n        <li>\r\n            <div class="lbox ">信用要求</div>\r\n            <div class="rbox fldi"><span class=""><label data-role="cameraman-require">';
        if (helper = helpers.level_require_text) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.level_require_text;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</label></span></div>\r\n        </li>\r\n        <li>\r\n            <div class="lbox ">拍摄人数</div>\r\n            <div class="rbox fldi">不超过<span class="">';
        if (helper = helpers.limit_num) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.limit_num;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</span>人</div>\r\n        </li>\r\n\r\n        <!--li>\r\n                    <div class="lbox ">拍摄类型</div>\r\n                    <div class="rbox fldi" data-role="model_data_style">';
        if (helper = helpers.model_type_list) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.model_type_list;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</div>\r\n                </li-->\r\n    </ul>\r\n</div>\r\n\r\n";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.date_log, {
            hash: {},
            inverse: self.noop,
            fn: self.program(15, program15, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n\r\n<header class="partc">\r\n    <div class="avatar">\r\n        <a data-role="profile">\r\n            <i class="img avatar-img" data-role="user-img" style="background-image:url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\')"></i>\r\n        </a>\r\n    </div>\r\n    <div class="meta-info">\r\n        <div class="model_nickname_sexy_line">\r\n            <div class="nickname" data-role="model-info-name">';
        if (helper = helpers.user_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n            <div class="sexy fn-hide">男女</div>\r\n        </div>\r\n        <div class="model_id_city_line">\r\n            <div class="model_id">ID ：<label data-role="model-id">';
        if (helper = helpers.user_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</label></div>\r\n            <div class="model_city">';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</div>\r\n        </div>\r\n        <div>\r\n            ";
        stack1 = helpers.unless.call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.noop,
            fn: self.program(23, program23, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n        </div>\r\n        <p class="user-data fn-hide">\r\n            <span class="area" data-role="model-info-city_name" style="color:#786a63">';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</span>\r\n        </p>\r\n        <p class="action fn-hide">\r\n\r\n        </p>\r\n    </div>\r\n\r\n</header>\r\n\r\n<div class="line-top w-100"></div>\r\n<section class="score-info" style="">\r\n    <a data-role="go_fans"><em data-role="be_follow_count">';
        if (helper = helpers.be_follow_count) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.be_follow_count;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</em>粉丝</a>\r\n    <div class="line"></div>\r\n    <a data-role="level"><em >Lv';
        if (helper = helpers.level) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.level;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</em>级别</a>\r\n    <div class="line"></div>\r\n    <a data-role="jifen"><em >';
        if (helper = helpers.jifen) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.jifen;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</em>魅力值</a>\r\n</section>\r\n\r\n</div>\r\n</div>\r\n";
        return buffer;
    });
});

define("pai/wx-1.1.0/model_date/model_card/tpl/starts-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            return '\r\n        <i class="icon icon-stat-s-y"></i>\r\n    ';
        }
        function program4(depth0, data) {
            return '\r\n        <i class="icon icon-start-m-1"></i>\r\n    ';
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

define("pai/wx-1.1.0/widget/slide_v2/tpl/slide-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <div class="swiper-slide"> ';
            if (helper = helpers.content) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.content;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</div>\r\n        ";
            return buffer;
        }
        function program3(depth0, data) {
            return "fn-hide";
        }
        function program5(depth0, data) {
            return '\r\n        <span class="swiper-pagination-switch"></span>\r\n    ';
        }
        buffer += '<div class="scroll-area swiper-wrapper" data-role="ad-pic" data-prevent-scroll="slider" style="height: ';
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n        ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n</div>\r\n\r\n<div data-role="ad-pics-num" class="ad-pic-point-out ';
        stack1 = helpers.unless.call(depth0, depth0 && depth0.no_single, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" >\r\n    ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n</div>\r\n";
        return buffer;
    });
});

/**
 *  个人空间Popup
 */
define("pai/wx-1.1.0/ui/mine-popup/index-debug", [ "pai/wx-1.1.0/ui/popup/index-debug", "$-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug" ], function(require, exports, module) {
    var Popup = require("pai/wx-1.1.0/ui/popup/index-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var mainTpl = require("pai/wx-1.1.0/ui/mine-popup/mine-popup-debug.handlebars");
    var mine_Popup = Popup.extend({
        setup: function() {
            var self = this;
            var items = self.get("items") || {
                edit: true,
                report: false
            };
            console.log();
            self.setContent(mainTpl({
                uid: self.get("uid"),
                items: items
            })).$el.addClass("mine-popup").on("tap", "[data-role=navigate]", function(event) {
                var $target = $(event.currentTarget);
                var appTarget = $target.attr("data-target");
                self.hide();
                switch (appTarget) {
                  case "edit":
                    console.log(self.model);
                    page_control.navigate_to_page("mine/profile");
                    //page_control.navigate_to_page('model_date/model_card/edit_condition', {model_info:self.model});
                    break;

                  case "setting":
                    //page_control.navigate_to_page('model_date/model_card/edit_condition');
                    break;

                  case "about":
                    //page_control.navigate_to_page('model_date/model_card/edit_condition');
                    break;

                  case "report":
                    page_control.navigate_to_page("report/" + self.get("report_model_id"));
                    break;
                }
            });
            Popup.prototype.setup.call(self);
        },
        set_config: function(options) {
            var self = this;
            return self;
        }
    });
    module.exports = mine_Popup;
});

define("pai/wx-1.1.0/ui/popup/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var UA = require("pai/wx-1.1.0/frame/ua-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var popupTpl = require("pai/wx-1.1.0/ui/popup/popup-debug.handlebars");
    var Popup = View.extend({
        attrs: {
            style: null,
            content: "",
            start: "bottom",
            closeButton: true,
            template: popupTpl
        },
        templateHelpers: {
            formatString: templateHelpers.formatString
        },
        events: {
            tap: function(event) {
                var self = this;
                if (!event.target.getAttribute("data-role") && event.currentTarget === event.target) {
                    setTimeout(function() {
                        self.hide();
                    }, 100);
                }
            },
            webkitAnimationEnd: "_animationEnd",
            animationend: "_animationEnd",
            "tap [data-role=close-button]": "hide"
        },
        /**
         * 构建element
         * @private
         */
        _parseElement: function() {
            var self = this;
            self.set("templateModel", {
                content: self.get("content"),
                closeButton: self.get("closeButton"),
                start: self.get("start")
            });
            View.prototype._parseElement.apply(self);
            self.$container = self.$("[data-role=container]");
            self.$content = self.$("[data-role=content]");
            var style = self.get("style");
            style && self.$container.css(style);
        },
        _animationEnd: function(event) {
            var self = this;
            var animationName = event.animationName;
            var start = self.get("start");
            if (animationName === "popup-" + start + "-slidedown" || animationName === "popup-" + start + "-slideup") {
                if (!self._visible) {
                    self.$el.addClass("fn-hide").removeClass(start + "-slideup-pin " + start + "-slidedown");
                } else if (self._visible) {
                    self.$el.addClass(start + "-slideup-pin").removeClass(start + "-slideup");
                }
                self._animationRunning = false;
                self.trigger("animationEnd", event);
            }
        },
        setup: function() {
            var self = this;
            self._animationRunning = false;
            View.prototype.setup.call(self);
        },
        setContent: function(str) {
            var self = this;
            self.$content.html(str);
            return self;
        },
        show: function() {
            var self = this;
            if (self._animationRunning) {
                return;
            }
            if (!self.rendered) {
                self.render();
            }
            self._visible = true;
            if (UA.isAndroid) {
                self.$el.addClass(self.get("start") + "-slideup-pin").removeClass("fn-hide");
                self.trigger("change", self._visible);
            } else {
                setTimeout(function() {
                    self._animationRunning = true;
                    self.$el.removeClass("fn-hide").addClass(self.get("start") + "-slideup");
                    self.trigger("change", self._visible);
                }, 0);
            }
            return self;
        },
        hide: function() {
            var self = this;
            if (self._animationRunning) {
                return;
            }
            self._visible = false;
            if (UA.isAndroid) {
                self.$el.addClass("fn-hide");
                self.trigger("change", self._visible);
            } else {
                setTimeout(function() {
                    self._animationRunning = true;
                    self.$el.addClass(self.get("start") + "-slidedown");
                    self.trigger("change", self._visible);
                }, 0);
            }
            return self;
        },
        toggle: function() {
            var self = this;
            self._visible ? self.hide() : self.show();
            return self;
        },
        destroy: function() {
            var self = this;
            self.remove();
            View.prototype.destroy.apply(self);
            return self;
        }
    });
    module.exports = Popup;
});

define("pai/wx-1.1.0/ui/popup/popup-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, options, functionType = "function", escapeExpression = this.escapeExpression, self = this, helperMissing = helpers.helperMissing;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += " ui-popup-start-";
            if (helper = helpers.start) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.start;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1);
            return buffer;
        }
        function program3(depth0, data) {
            return '\n        <footer class="ui-popup-footer" data-role="footer">\n            <button data-role="close-button">取消</button>\n        </footer>\n        ';
        }
        buffer += '<div class="ui-popup';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.start, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '">\n    <div class="ui-popup-container" data-role="container">\n        <div class="ui-popup-content" data-role="content">\n            ' + escapeExpression((helper = helpers.formatString || depth0 && depth0.formatString, 
        options = {
            hash: {},
            data: data
        }, helper ? helper.call(depth0, depth0 && depth0.content, options) : helperMissing.call(depth0, "formatString", depth0 && depth0.content, options))) + "\n        </div>\n\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.closeButton, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\n    </div>\n</div>";
        return buffer;
    });
});

define("pai/wx-1.1.0/ui/mine-popup/mine-popup-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '<a data-role="navigate"  data-target="edit" data-uid=';
            if (helper = helpers.uid) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.uid;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ">编辑个人资料</a>";
            return buffer;
        }
        function program3(depth0, data) {
            return '<a data-role="navigate"  data-target="report">举报</a>';
        }
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.items, stack1 == null || stack1 === false ? stack1 : stack1.edit), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\n";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.items, stack1 == null || stack1 === false ? stack1 : stack1.report), {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\n<!--<a data-role="navigate" data-target="setting">设置</a>-->\n<!--<a data-role="navigate" data-target="about">关于</a>-->';
        return buffer;
    });
});

define("pai/wx-1.1.0/ui/download_tips/download_tips-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<div data-role="other_browser_tips" class="other_browser_tips fn-hide" ><span>马上体验约yue APP，更多模特，更多优惠</span></div>';
    });
});

/**
 * 模特卡 模型
 * 汤圆 2014.8.21
 */
define("pai/wx-1.1.0/model_date/model_card/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        url: global_config.ajax_url.model_card,
        "default": {
            user_id: "",
            chest: "",
            cup: "",
            waist: "",
            hip: "",
            height: "",
            weight: "",
            intro: "",
            honor: "",
            cameraman_require: "",
            location_id: "",
            city_name: "",
            user_name: "",
            score: 0,
            stars: 0,
            take_photo_times: 0,
            user_icon: "",
            model_pic: [],
            model_type: [],
            model_style: []
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self._get_info_xhr = xhr;
            }).on("success:fetch", function(xhr, xhrOptions) {}).on("complete:fetch", function(xhr, status) {
                delete self._get_info_xhr;
            });
        },
        /**
         * 转换数据格式
         * @param response
         * @returns {*}
         */
        parse: function(response) {
            if (response.result_data) {
                return response.result_data.data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            var user_id = self.get("user_id");
            self.user_id = user_id;
            self._setup_events();
        },
        get_info: function() {
            var self = this;
            if (self._get_info_xhr) {
                return;
            }
            self.fetch({
                url: self.url,
                data: {
                    user_id: self.user_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        },
        /**
         * 获得模特卡基础数据
         */
        get_base_info: function() {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_model_card_base_info,
                //data : 'user_id='+self.user_id,
                //cache : false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_base_info:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:get_base_info:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:get_base_info:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_base_info:fetch", xhr, status);
                }
            });
        },
        /**
         * /更新头像
         * @param key
         * @param val
         * @param options
         * @return {*}
         */
        update_avater: function(key, val, options) {
            var self = this;
            var attrs;
            if (key == null || typeof key === "object") {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }
            options || (options = {});
            options.url = global_config.ajax_url.save_model_card;
            var paramData = [];
            for (var key in attrs) {
                paramData.push(key + "=" + attrs[key]);
            }
            options.data = paramData.join("&");
            options.beforeSend = function(xhr, options) {
                self.trigger("before:update_avater:save", xhr, options);
            };
            options.success = function(model, response, options) {
                self.trigger("success:update_avater:save", response, options);
            };
            options.error = function(model, xhr, options) {
                self.trigger("error:update_avater:save", model, xhr, options);
            };
            options.complete = function(xhr, status) {
                self.trigger("complete:update_avater:save", xhr, status);
            };
            self.save(attrs, options);
            return self;
        },
        /**
         * /保存模特信息
         * @param key
         * @param val
         * @param options
         * @return {*}
         */
        save_model_card_info: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.save_model_card,
                data: data,
                type: "POST",
                //cache : false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:update_info:save", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:update_info:save", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:update_info:save", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:update_info:save", xhr, status);
                }
            });
            return self;
        },
        /*save_model_card_info: function(key, val, options) {
            var self = this;

            var attrs;
            if (key == null || typeof key === 'object') {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }

            options || (options = {});

            options.url = global_config.ajax_url.save_model_card;
            var paramData = [];
            for (var key in attrs) {
                paramData.push(key + '=' + attrs[key]);
            }
            options.data = paramData.join('&');
            options.beforeSend = function(xhr, options) {
                self.trigger('before:update_info:save', xhr, options);
            };
            options.success = function(model, response, options) {
                self.trigger('success:update_info:save', response, options);
            };
            options.error = function(model, xhr, options) {
                self.trigger('error:update_info:save', model, xhr, options);
            };
            options.complete = function(xhr, status) {
                self.trigger('complete:update_info:save', xhr, status);
            };


            self.save(attrs, options);

            return self;
        },*/
        follow_request: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.follow_user,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_follow", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_follow", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_follow", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_follow", xhr, status);
                }
            });
        },
        unfollow_request: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.follow_user,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_unfollow", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_unfollow", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_unfollow", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_unfollow", xhr, status);
                }
            });
        },
        judge_can_date: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.check_cameraman_require,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:judge_can_date", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:judge_can_date", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:judge_can_date", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:judge_can_date", xhr, status);
                }
            });
        },
        wx_sign: function(url) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.wx_get_js_api_sign_package,
                data: {
                    url: url
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:wx_sign", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:wx_sign", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:wx_sign", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:wx_sign", xhr, status);
                }
            });
        }
    });
});

/**
 * 我要约拍
 * nolestLam 2014.8.21
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/model_date/model_style/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/model_style/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/model_date/model_style/choosen_view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/model_date/model_card/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var model_style_view = require("pai/wx-1.1.0/model_date/model_style/view-debug");
    var model_card_model = require("pai/wx-1.1.0/model_date/model_card/model-debug");
    page_control.add_page([ function() {
        return {
            title: "我要约拍",
            route: {
                "model_style/:query(/:payment_no)": "model_style"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                //从路由取id
                self.user_id = route_params_arr[0];
                var model_obj = null;
                var model = route_params_obj;
                //用于预览跳过来
                var preview_data = null;
                var is_preview = !utility.is_empty(route_params_obj);
                if (is_preview) {
                    route_params_obj.data.is_preview = true;
                    preview_data = route_params_obj.data;
                }
                var options = {};
                if (is_preview) {
                    options.templateModel = {
                        is_preview: is_preview
                    };
                }
                options.user_id = self.user_id;
                //判断是否从模特卡到达此页面
                if (model && model.cid) {
                    model_obj = route_params_obj;
                    options.model = model_obj;
                    options.is_new_fetch = false;
                } else {
                    //建立model
                    model_obj = new model_card_model({
                        user_id: self.user_id
                    });
                    options.model = model_obj;
                    options.is_new_fetch = true;
                }
                options.parentNode = self.$el;
                //生成大view，传入model对象 modify by hdw 2014.8.25 19:13
                var model_style_view_obj = new model_style_view(options).set_preview_data(preview_data).render();
            },
            page_before_show: function() {}
        };
    } ]);
});

/**
 * 我要约拍
 * nolestLam 2014.8.
 */
define("pai/wx-1.1.0/model_date/model_style/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/model_date/model_style/choosen_view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/model_date/model_card/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var model_style = require("pai/wx-1.1.0/model_date/model_style/tpl/main-debug.handlebars");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var choosen_view = require("pai/wx-1.1.0/model_date/model_style/choosen_view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var model_card_model = require("pai/wx-1.1.0/model_date/model_card/model-debug");
    var model_style_view = View.extend({
        attrs: {
            template: model_style
        },
        events: {
            'tap [data-role="page-back"]': function() {
                var self = this;
                page_control.back();
            },
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=choosen-style-tap]": function(ev) {
                var self = this;
                if (utility.login_id == self.get("user_id")) {
                    return;
                }
                var $choosen_btn = $(ev.currentTarget);
                var id = $choosen_btn.attr("data-id");
                var style = $choosen_btn.attr("data-style");
                var price = $choosen_btn.attr("data-price");
                var params = $choosen_btn.attr("data-params");
                var data = self._search_data(style);
                // 用于打折价格，特殊处理
                var is_discount = params == "discount" ? 1 : 0;
                console.log(data);
                self.model.set("model_selected_info", data);
                //{style : style,price : price ,is_discount : is_discount},
                self.model_card_model_obj.judge_can_date({
                    model_user_id: self.model.get("user_id")
                });
            }
        },
        _search_data: function(style) {
            var self = this;
            var data;
            $.each(self.cache_data.model_style_v2, function(i, obj) {
                if (obj.text == style) {
                    data = obj;
                    return false;
                }
            });
            return data;
        },
        _setup_events: function() {
            var self = this;
            self.model.on("before:fetch", function() {
                m_alert.show("加载中...", "loading", {
                    delay: -1
                });
            }).on("success:fetch", function(response) {
                m_alert.hide();
                self._fetch_render(self.preview_data);
            }).on("error:fetch", function() {
                m_alert.show("网络异常", "error");
            });
            // 判断是否约拍
            self.model_card_model_obj.on("before:judge_can_date", function() {
                m_alert.show("加载中...", "loading", {
                    delay: -1
                });
            }).on("success:judge_can_date", function(response, options) {
                var response = response.result_data;
                var cache = self.model.toJSON();
                //设置缓存 用于其他页面跳转表单页获取数据 2014-12-4
                utility.storage.set("submit_cache_" + utility.user.get("user_id"), cache);
                var location = window.location;
                // 修改成直接去到表单页面
                // modify by hudw 2014.12.9
                var url = encodeURIComponent(location.origin + "/mobile/" + window._page_mode + "#model_date/submit_application");
                if (response.code != 1) {
                    m_alert.show(response.msg, "error", {
                        delay: 3e3
                    });
                    switch (utility.int(response.model_level_require)) {
                      case 2:
                        page_control.navigate_to_page("mine/authentication/v2/from_date_" + url);
                        break;

                      case 3:
                        page_control.navigate_to_page("mine/authentication/v3/from_date_" + url);
                        break;
                    }
                    return;
                }
                m_alert.hide();
                page_control.navigate_to_page("model_date/submit_application", self.model);
            }).on("error:judge_can_date", function() {
                m_alert.show("网络异常", "error");
            });
            self.on("update_list", function() {
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.refresh();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        _fetch_render: function(data) {
            var self = this;
            var render_data = self.model.toJSON();
            //预览的情况
            data && (render_data = data);
            self.cache_data = render_data;
            self.$choosen_contenter.html("");
            //循环生成按钮
            $.each(render_data.model_style_v2, function(i, item) {
                data && (render_data.model_style_v2[i].is_preview = true);
                //用于预览
                var choosen_btn = new choosen_view({
                    templateModel: render_data.model_style_v2[i],
                    parentNode: self.$choosen_contenter
                }).render();
            });
            self.trigger("update_list");
            self._drop_reset();
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                is_hide_dropdown: false
            });
            self.view_scroll_obj = view_scroll_obj;
            // 下拉完成
            self.view_scroll_obj.on("dropload", function(e) {
                self.model.get_info();
            });
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        setup: function() {
            var self = this;
            self.model_card_model_obj = new model_card_model();
            self.$container = self.$("[data-role=container]");
            self.$container_img_list = self.$("[data-role=container-img-list]");
            self.$choosen_contenter = self.$('[data-role="choosen-contenter"]');
            //self.$commit_fee = self.$('[data-role="commit_fee"]');
            self._setup_events();
            // 如果model是传递过来的，执行_fetch_render，否则请求获取新的model
            if (!self.get("is_new_fetch")) {
                // 大视图渲染后执行渲染列表内容
                self.once("render", function() {
                    self._fetch_render();
                });
            } else {
                self.model.get_info();
            }
        },
        set_preview_data: function(data) {
            var self = this;
            self.preview_data = data || null;
            return self;
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = model_style_view;
});

define("pai/wx-1.1.0/model_date/model_style/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return "我的约拍条件";
        }
        function program3(depth0, data) {
            return "我要约拍";
        }
        function program5(depth0, data) {
            return "请选择拍摄风格：";
        }
        buffer += '<main role="main" class="location">\r\n    \r\n<!--     <header class="page-header wryh">\r\n                <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n                \r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n\r\n    <div data-role="container" class="content-body commit">\r\n        <div>\r\n            <div class="content-body ">\r\n                <!--use for choise or my-->\r\n                <div class="commit-block">\r\n                    <!--div class="notice">\r\n                        <p class="commit-notice">摄影师信用金要求：</p>\r\n                        <p class="commit-fee" data-role="commit_fee"></p>\r\n                    </div-->\r\n                    <div class="style-content">\r\n                    <div class="notice-style">';
        stack1 = helpers.unless.call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</div>\r\n                        <div class="choosen-style" data-role="choosen-contenter">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <!--use for choise or my end-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</main>';
        return buffer;
    });
});

/**
 * Created by nolestLam on 2014/8/22.
 */
define("pai/wx-1.1.0/model_date/model_style/choosen_view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var choosen_btn = require("pai/wx-1.1.0/model_date/model_style/tpl/choosen-debug.handlebars");
    var choosen_view = View.extend({
        attrs: {
            template: choosen_btn
        },
        events: {},
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            console.log(template_model);
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {},
        setup: function() {
            var self = this;
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = choosen_view;
});

define("pai/wx-1.1.0/model_date/model_style/tpl/choosen-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <p class="choosen-style-child-price" data-role="choosen-price" >';
            if (helper = helpers.discount) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.discount;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</p>\r\n            ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <p class="choosen-style-child-price" data-role="choosen-price" >';
            if (helper = helpers.combo_text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.combo_text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</p>\r\n        ";
            return buffer;
        }
        function program5(depth0, data) {
            return '<i class="icon icon-r-16x26"></i>';
        }
        buffer += '<div class="choosen-style-child" data-role="choosen-style-tap" data-style="';
        if (helper = helpers.text) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.text;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-price="';
        if (helper = helpers.price) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.price;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-params="';
        if (helper = helpers.params) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.params;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-id="';
        if (helper = helpers.id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">\r\n    <p class="choosen-style-child-title" data-role="choosen-style">';
        if (helper = helpers.text) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.text;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n    <div class="choosen-style-child-price-container">\r\n        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_discount, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        stack1 = helpers.unless.call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n    </div>\r\n</div>\r\n\r\n";
        return buffer;
    });
});

/**
 * 提交约拍申请 - index
 * nolestLam 2014.8.25
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/model_date/submit_application/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/submit_application/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/model_date/submit_application/model-debug", "pai/wx-1.1.0/model_date/agreement/view-debug", "pai/wx-1.1.0/model_date/model_card/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var submit_application_view = require("pai/wx-1.1.0/model_date/submit_application/view-debug");
    var model = require("pai/wx-1.1.0/model_date/submit_application/model-debug");
    var agreement_view = require("pai/wx-1.1.0/model_date/agreement/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var model_card = require("pai/wx-1.1.0/model_date/model_card/model-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "提交约拍申请",
            route: {
                "model_date/submit_application(/:custom_params)": "model_date/submit_application"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model_obj = null;
                var model_card_obj = {};
                var custom_params = decodeURIComponent(route_params_arr[0]);
                // 人体私拍协议
                var agreement_view_obj = new agreement_view({
                    parentNode: self.$el
                }).render();
                agreement_view_obj.hide();
                if (route_params_arr[0]) {
                    // 从其他页面直接跳转到表单页，通过路径传参数这样形成一个数据
                    // hudw 2014.12.8
                    var obj = eval("(" + custom_params + ")");
                    /*var cache  =
                    {
                        combo_text: "1元(200小时)",
                        continue_price: "2000",
                        continue_text: "加钟续拍每小时200元",
                        hour: "1",
                        price: "10",
                        style: "性感 清新1111",
                        address : "广东省-东莞",
                        location_id : 101029011,
                        detail_address : '肥龙广场9413号',
                        user_id : 100261,
                        time : "2015-1-13 12:30",
                        limit_num : 10,
                        person_num : 9,
                        user_name : 'Jane girl',
                        is_from_custom_data : true,
                        disable_time : true,
                        disable_address : true,
                        disable_detail_address : true,
                        disable_person_num : true
                    };

                    obj = cache;*/
                    console.log(obj);
                    model_obj = new model({});
                    if (!utility.is_empty(obj)) {
                        model_card_obj = new model_card({
                            user_id: obj.user_id
                        });
                        model_card_obj.get_info();
                    }
                    // 加载模特数据
                    model_card_obj.on("before:fetch", function() {
                        m_alert.show("加载中...", "loading", {
                            delay: -1
                        });
                    }).on("success:fetch", function(response) {
                        m_alert.hide();
                        model_obj = model_card_obj;
                        model_obj.set("model_selected_info", obj);
                        utility.storage.set("submit_cache_" + utility.user.get("user_id"), model_obj);
                        console.log(model_obj.toJSON());
                        self.submit_application_view_obj = new submit_application_view({
                            model: model_obj,
                            parentNode: self.$el,
                            templateModel: model_obj.toJSON(),
                            is_from_custom_params: 1,
                            model_card_obj: model_card_obj,
                            agreement_view_obj: agreement_view_obj
                        }).render();
                    }).on("error:fetch", function() {
                        m_alert.show("网络异常", "error");
                    });
                } else {
                    if (route_params_obj && route_params_obj.cid) {
                        //从约拍风格到达此页面
                        model_obj = route_params_obj;
                        console.log(model_obj);
                    } else {
                        //在约拍风格跳转其他流程，再到达此页面，建立新的model,从缓存中读取model属性 2014-12-4 nolset
                        // 做容错机制交互
                        model_obj = new model({});
                        model_obj.attributes = utility.storage.get("submit_cache_" + utility.user.get("user_id"));
                    }
                    self.submit_application_view_obj = new submit_application_view({
                        model: model_obj,
                        parentNode: self.$el,
                        templateModel: model_obj.toJSON(),
                        is_from_custom_params: 0,
                        model_card_obj: model_card_obj,
                        agreement_view_obj: agreement_view_obj
                    }).render();
                }
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {},
            window_change: function(page_view) {}
        };
    } ]);
});

/**
 * 提交约拍申请
 * nolestLam 2014.8.25
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/model_date/submit_application/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var submit_application = require("pai/wx-1.1.0/model_date/submit_application/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var choosen_group_view = require("pai/wx-1.1.0/widget/choosen_group/view-debug");
    var number_btn_view = require("pai/wx-1.1.0/widget/number_btn/view-debug");
    var select_view = require("pai/wx-1.1.0/widget/select/view-debug");
    //var location_data = require('../../common/location_data');
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var submit_application_view = View.extend({
        attrs: {
            template: submit_application
        },
        forms: {
            // 表单类
            number: {},
            select: {},
            choosen_btn: {}
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=btn-more-sec]": function(ev) {
                var self = this;
                //self.$('[data-role=btn-more-sec]').find('.icon').toggleClass("icon-deg");
                self.$content_empty.toggleClass("fn-hide");
                self.$content_box.toggleClass("fn-hide");
                if (self.$content_box.hasClass("fn-hide")) {
                    self._is_show_detail = false;
                } else {
                    self._is_show_detail = true;
                }
                self.view_scroll_obj.refresh();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-role=submit-application-btn]": function(ev) {
                var self = this;
                utility.page_pv_stat_action({
                    tj_point: "submit_order"
                });
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                self._init_selected_value_to_model();
                if (self.cansend) {
                    console.log(self.model);
                    page_control.navigate_to_page("model_date/payment", self.model);
                }
            },
            'tap [data-role="time"]': function() {
                var self = this;
                if (self.model.get("model_selected_info") && self.model.get("model_selected_info").disable_time) {
                    return;
                }
                self.forms["select"]["time"].show();
            },
            'tap [data-role="address"]': function() {
                var self = this;
                if (self.model.get("model_selected_info") && self.model.get("model_selected_info").disable_address) {
                    return;
                }
                if (self.has_no_location_data) {
                    self._init_location_data();
                    return;
                }
                self.forms["select"]["province"].show();
            },
            'tap [data-role="ui-choosen-btn"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var price = $cur_btn.attr("data-selected-price");
                self.forms["number"]["price"].set_vaule(price);
            },
            'tap [data-role="add"]': function() {
                var self = this;
            },
            'tap [data-role="minus"]': function() {
                var self = this;
            },
            'tap [data-role="btn-test"]': function() {
                var self = this;
                return;
                self.submit_yuepai();
            },
            'tap [data-role="detail-location"]': function() {
                var self = this;
                if (self.model.get("model_selected_info") && self.model.get("model_selected_info").disable_address) {
                    return;
                }
                page_control.navigate_to_page("edit_page/textarea", {
                    title: "详细地址",
                    text: self.$('[data-role="detail-location"]').val(),
                    edit_obj: self.$('[data-role="detail-location"]')
                });
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self.$('[data-role="total-price-v2"]').html(self.model.get("model_selected_info").combo_text);
            });
            // 订单请求
            self.model.on("before:fetch", function() {}).on("success:fetch", function() {}).on("complete:fetch", function(xhr, status) {});
            self.on("update_info", function(response, xhr) {
                // 区分当前对象
                var _self = this;
            });
            self._setup_scroll();
            self.view_scroll_obj.refresh();
            self.get("agreement_view_obj").on("receive", function() {
                self.cansend = true;
                self.is_receive = true;
                self._init_selected_value_to_model();
                page_control.navigate_to_page("model_date/payment", self.model);
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        /*
        _set_price : function(hour)
        {
            var self = this;

            var style_price = self.model.get("model_selected_info").price;

            if(hour.trim() == '')
            {
                return
            }
            else
            {
                self.$('[data-role="total-price"]').html(utility.int(style_price*hour))

            }

        },
        */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装选择组模块
         * @private
         */
        _setup_choosen_group: function() {
            var self = this;
            var key = self.model.get("model_selected_info").style;
            var model_style = self.model.get("model_style");
            //var model_type = self.model.get('model_type');
            var model_type = self.model.get("new_model_type_list");
            var style_list = [];
            $(model_style).each(function(i, obj) {
                if (obj.text == key) {
                    obj.selected = true;
                } else {
                    obj.selected = false;
                }
                style_list.push(obj);
            });
            console.log(style_list);
            self.forms["choosen_btn"]["choosen_style_group"] = new choosen_group_view({
                templateModel: {
                    list: style_list
                },
                parentNode: self.$choosen_style_group,
                is_multiply: false,
                css: "btn_width"
            }).render();
            self.forms["choosen_btn"]["choosen_type_group"] = new choosen_group_view({
                templateModel: {
                    list: model_type
                },
                parentNode: self.$choosen_type_group,
                is_multiply: false,
                css: "btn_wided_sec"
            }).render();
            self.forms["choosen_btn"]["choosen_style_group"].on("success:selected", function(obj) {
                console.log(obj);
            });
        },
        /**
         * 安装数字按钮
         * @private
         */
        _setup_number_btn: function() {
            var self = this;
            /*
            self.forms['number']['price'] = new number_btn_view
            ({
                templateModel :
                {
                    type : 'tel'
                },
                min_value : 1,
                step : 50,
                parentNode: self.$number_for_price,
                value : self.model.get('model_selected_info').price,
                is_floor : true
            }).render();

            self.forms['number']['time'] = new number_btn_view
            ({
                templateModel :
                {
                    type : 'tel'
                },
                min_value : 1,
                step : 1,
                parentNode: self.$number_for_time,
                value : 1,
                is_floor : true
            }).render();
            */
            self.forms["number"]["limit_num"] = new number_btn_view({
                templateModel: {
                    type: "tel",
                    disable: true
                },
                min_value: 1,
                max_value: self.get("templateModel").limit_num,
                step: 1,
                parentNode: self.$number_for_limit_num,
                value: self.model.get("model_selected_info").limit_num || 1,
                disable: self.get("is_from_custom_params") ? true : false,
                is_floor: true
            }).render();
        },
        /**
         * 安装下拉选择框
         * @private
         */
        _setup_select: function(location_data) {
            var self = this;
            self.has_no_location_data = false;
            var province = location_data.two_lv_data.province;
            var city = location_data.two_lv_data.city;
            var date_arr = utility.select_time.mix_date().date_arr;
            var hour_arr = utility.select_time.mix_date().hour_arr;
            var min_arr = utility.select_time.mix_date().min_arr;
            // 初始化时间
            // modify by hudw 2015.1.11
            if (self.model.get("model_selected_info") && self.model.get("model_selected_info").time) {
                var form_time = new Date(self.model.get("model_selected_info").time);
                var form_year = form_time.getFullYear();
                var form_month = form_time.getMonth() + 1;
                var form_date = form_time.getDate();
                var form_hour = form_time.getHours();
                var form_min = form_time.getMinutes();
                for (var obj in date_arr) {
                    if (date_arr[obj].value == form_year + "-" + form_month + "-" + form_date) {
                        date_arr[obj].selected = true;
                    } else {
                        date_arr[obj].selected = false;
                    }
                }
                for (var obj in hour_arr) {
                    if (hour_arr[obj].value == form_hour) {
                        hour_arr[obj].selected = true;
                    } else {
                        hour_arr[obj].selected = false;
                    }
                }
                for (var obj in min_arr) {
                    if (min_arr[obj].value == form_min) {
                        min_arr[obj].selected = true;
                    } else {
                        min_arr[obj].selected = false;
                    }
                }
            }
            self.forms["select"]["time"] = new m_select({
                templateModel: {
                    options: [ date_arr, hour_arr, min_arr ]
                },
                parentNode: self.$el
            }).render();
            // 开始时间确认
            self.forms["select"]["time"].on("confirm:success", function(arr) {
                self.$('[data-role="time_str"]').html(arr[0].value + " " + arr[1].value + ":" + arr[2].value);
            });
            // 如果有自定义 location id 时进行初始化
            if (self.model.get("model_selected_info") && self.model.get("model_selected_info").location_id) {
                var location_id = self.model.get("model_selected_info").location_id;
                var city_id = location_id;
                var province_id = utility.int(city_id && city_id.toString().slice(0, 6));
                // 设置默认市
                var city_arr = city[province_id];
                for (var i = 0; i < province.length; i++) {
                    if (province[i].id == province_id) {
                        province[i].selected = true;
                        break;
                    }
                }
                for (var i = 0; i < city_arr.length; i++) {
                    if (city_arr[i].id == city_id) {
                        city_arr[i].selected = true;
                        break;
                    }
                }
                var address_str = self.model.get("model_selected_info").address;
                self.$('[data-role="address_str"]').attr("data-city-id", city_id).html(address_str);
            } else {
                // 设置默认市
                var city_arr = city[province[0].id];
                // 设置省第一项默认选中
                province[0].selected = true;
                city_arr[0].selected = true;
                self.$('[data-role="address_str"]').attr("data-city-id", city_arr[0].id).html(province[0].text + "-" + city_arr[0].value);
            }
            // 级联查询必须有“不限”的数据组
            self.forms["select"]["province"] = new m_select({
                templateModel: {
                    options: [ province, city_arr ]
                },
                parentNode: self.$el
            }).render();
            self.forms["select"]["province"].on("change:options", function(arr, cur_scroll_obj) {
                if (cur_scroll_obj.index == 0) {
                    var key = arr[0].id;
                    var options = city[key];
                    console.log(options);
                    if (options) {
                        options[0].selected = true;
                        self.forms["select"]["province"].set_options([ options ], 1);
                    }
                }
            });
            // 地址确认
            self.forms["select"]["province"].on("confirm:success", function(arr) {
                if (utility.is_empty(arr[0].value)) {
                    m_alert.show("请选择省份", "right");
                    return;
                }
                self.$('[data-role="address_str"]').attr("data-city-id", arr[1].id).html(arr[0].value + "-" + arr[1].value);
            });
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$container_img_list = self.$("[data-role=container-img-list]");
            // 头部图片容器
            // 数字按钮
            //self.$number_for_price = self.$('[data-role="number-btn-container-for-price"]');
            //self.$number_for_time = self.$('[data-role="number-btn-container-for-time"]');
            self.$number_for_limit_num = self.$('[data-role="number-btn-container-for-limit_num"]');
            // 风格选择选项
            self.$choosen_style_group = self.$('[data-role="choosen_style_group"]');
            // 类型选择选项
            self.$choosen_type_group = self.$('[data-role="choosen_type_group"]');
            // 下拉选择容器
            self.$select_container_for_year = self.$('[data-role="select-container-for-year"]');
            self.$select_container_for_month = self.$('[data-role="select-container-for-month"]');
            self.$select_container_for_day = self.$('[data-role="select-container-for-day"]');
            self.$select_container_for_hour = self.$('[data-role="select-container-for-hour"]');
            self.$select_container_for_province = self.$('[data-role="select-container-for-province"]');
            self.$select_container_for_city = self.$('[data-role="select-container-for-city"]');
            //信息是否合法
            self.cansend = false;
            // 详细地址
            self.$detail_location = self.$('[data-role="detail-location"]');
            //空块
            self.$content_empty = self.$('[data-role="content-empty"]');
            // 填选项
            self.$content_box = self.$('[data-role="content-box"]');
            // 安装事件
            self._setup_events();
            // 安装按钮模块
            self._setup_number_btn();
            self._init_location_data();
            self.has_no_location_data = true;
            // 初始化订单
            self._init_forms();
        },
        /**
         * 初始化订单
         * @private
         */
        _init_forms: function() {
            var self = this;
            var model_selected_info = self.model.get("model_selected_info");
            // 初始化表单
            self.$('[data-role="time_str"]').html(model_selected_info.time || "");
            if (model_selected_info.is_from_custom_data) {
                var price = utility.int(model_selected_info.price);
                var hour = utility.int(model_selected_info.hour);
                self.model.get("model_selected_info").price = utility.float(price * hour);
            }
        },
        submit_yuepai: function() {
            var self = this;
            page_control.navigate_to_page("model_date/submit_success/12");
        },
        // 安装下拉模块
        _init_location_data: function() {
            var self = this;
            if (utility.storage.get("location_data_v2")) {
                self._setup_select(utility.storage.get("location_data_v2"));
                return;
            }
            utility.ajax_request({
                url: global_config.ajax_url.location_data_v2,
                cache: true,
                beforeSend: function() {
                    m_alert.show("地区加载中...", "loading", {
                        delay: -1
                    });
                },
                success: function(ret) {
                    m_alert.hide();
                    var data = ret.result_data;
                    var location_data_v2 = {
                        two_lv_data: {
                            province: JSON.parse(data.two_lv_data.province),
                            city: eval("(" + data.two_lv_data.city + ")")
                        }
                    };
                    utility.storage.set("location_data_v2", location_data_v2);
                    self._setup_select(location_data_v2);
                },
                error: function() {
                    self.has_no_location_data = true;
                    self.$('[data-role="address_str"]').html("点击此处 加载地区数据");
                    m_alert.show("网络异常", "error");
                }
            });
        },
        /**
         * 初始化获取选中的值
         * @private
         */
        _init_selected_value_to_model: function() {
            var self = this;
            console.log(self.model);
            //var price = self.forms['number']['price'].get_value();
            //var dur_time  = self.forms['number']['time'].get_value();
            var limit_num = self.forms["number"]["limit_num"].get_value();
            //var style = self.forms['choosen_btn']['choosen_style_group'].get_value();
            //var type  = self.forms['choosen_btn']['choosen_type_group'].get_value();
            var province_city = self.forms["select"]["province"].get_value();
            /*var date = self.forms['select']['year'].get_value().value + "-" +
                       self.forms['select']['month'].get_value().value + "-" +
                       self.forms['select']['day'].get_value().value + "-" +
                       self.forms['select']['hour'].get_value().value;*/
            var date = self.$('[data-role="time_str"]').html();
            var detail_location = self.$detail_location.val();
            var address = self.$('[data-role="address_str"]').html() + detail_location;
            var cameraman_require = utility.float(self.model.get("cameraman_require"));
            var available_balance = utility.user.get("available_balance");
            self.cansend = true;
            /*
            if(price == 0)
            {
                m_alert.show('出价不能为0','error');

                self.cansend = false;

                return
            }

            if(price < 10)
            {
                m_alert.show('至少10块','error');

                self.cansend = false;

                return
            }

            if(dur_time == 0)
            {
                m_alert.show('时长不能为0','error');

                self.cansend = false;

                return
            }

            var reg_num = new RegExp(/^[0-9]*$/);

            if(!reg_num.test(dur_time))
            {
                m_alert.show('请正确输入时长','error');

                //self._set_price(self.forms['number']['time'].get_value());

                //self.$('[data-role="total-price"]').html(self.model.get("model_selected_info").price);

                self.cansend = false;

                return
            }
            */
            /*
            if(price < 0 || isNaN(price))
            {
                m_alert.show('请正确输入价格','error');

                self.cansend = false;

                return
            }

            if(price > 10000)
            {
                m_alert.show('金额过高','error');

                self.cansend = false;

                return
            }

            if(dur_time < 0 || isNaN(dur_time))
            {
                m_alert.show('请正确输入时间','error');

                self.cansend = false;

                return
            }

            if(dur_time > 24)
            {
                m_alert.show('约拍时长不能超过24小时','error');

                self.cansend = false;

                return
            }
             */
            if (limit_num <= 0 || isNaN(limit_num)) {
                m_alert.show("请正确输入人数", "error");
                self.cansend = false;
                return;
            }
            if (self.model.get("model_selected_info") && self.model.get("model_selected_info").limit_num) {
                if (utility.int(limit_num) > self.model.get("model_selected_info").limit_num) {
                    m_alert.show("人数过多", "error");
                    self.cansend = false;
                    return;
                }
            } else {
                if (utility.int(limit_num) > utility.int(self.get("templateModel").limit_num)) {
                    m_alert.show("人数过多", "error");
                    self.cansend = false;
                    debugger;
                    return;
                }
            }
            if (date.trim() == "" || date.indexOf('data-role="notice-span"') > 0) {
                m_alert.show("请选择拍摄时间", "error");
                self.cansend = false;
                return;
            }
            if (self.$detail_location.val().trim() == "") {
                m_alert.show("详细地址不能为空", "error");
                self.cansend = false;
                return;
            }
            console.log(self.model.get("model_selected_info"));
            if (self.model.get("model_selected_info") && self.model.get("model_selected_info").text == "人体" && !self.is_receive) {
                self.cansend = false;
                self.get("agreement_view_obj").show();
                return;
            }
            console.log(self.model.get("model_selected_info"));
            var style = self.model.get("model_selected_info").text;
            /*if (self.get("is_from_custom_params")) {
                style = self.model.get("model_selected_info").style;

                self.model.set("user_name", self.model.get("model_selected_info").user_name);
            }*/
            self.model.set("model_selected_info", $.extend(self.model.get("model_selected_info"), {
                style: style,
                // 风格
                //price  : price, // 单价
                //hour : dur_time,// 时长
                limit_num: limit_num,
                //人数上限
                total_price: self.model.get("model_selected_info").price,
                // 总价
                can_use_balance: available_balance > 0 ? 1 : 0,
                //type  : type.length && type[0].text || '',// 类型
                date: date,
                // 日期
                available_balance: available_balance,
                //自己的钱包
                address: address
            }));
            console.log(self.model.get("model_selected_info"));
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            /*if (self.get("is_from_custom_params"))
            {
                self.$(".inside_arrow").addClass("fn-hide");
                self.$('[data-role="limit_num_str"]').addClass("fn-hide");
                var price = utility.int(self.model.get("model_selected_info").price);
                var hour = utility.int(self.model.get("model_selected_info").hour);

                self.model.get('model_selected_info').price = (utility.float(price * hour));

                self.$('[data-role="detail_price"]').html(utility.float(price * hour));
            }*/
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height() - 95;
        },
        reset_scroll_height: function() {
            console.log("22");
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            self.view_scroll_obj.refresh();
        }
    });
    module.exports = submit_application_view;
});

define("pai/wx-1.1.0/model_date/submit_application/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            return "fn-hide";
        }
        function program3(depth0, data) {
            return "readonly";
        }
        function program5(depth0, data) {
            var stack1;
            return escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
            stack1 == null || stack1 === false ? stack1 : stack1.detail_address), typeof stack1 === functionType ? stack1.apply(depth0) : stack1));
        }
        function program7(depth0, data) {
            var stack1;
            return escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
            stack1 == null || stack1 === false ? stack1 : stack1.limit_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1));
        }
        function program9(depth0, data) {
            var stack1, helper;
            if (helper = helpers.limit_num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.limit_num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            return escapeExpression(stack1);
        }
        buffer += '<main role="main" class="submit_application wryh">\r\n    <!-- <header class="page-header wryh">\r\n                <div class="page-back" data-role="page-back" ><i class="icon icon-back-40x40"></i></div>\r\n                <div class="page-back" data-role="page-back"><i class="icon icon-add-06"></i></div>\r\n                提交约拍申请\r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">提交约拍申请</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n    \r\n    <div class="content-body">\r\n            <div class="procedure-1" data-role="container">\r\n                <div>\r\n                <!-- 头部模块 start  -->\r\n                <div class="procedure-header-mod">\r\n                    <ul class="step">\r\n                        <li class="current">提交约拍申请</li>\r\n                        <li>模特接受约拍</li>\r\n                        <li>拍摄/完成</li>\r\n                    </ul>\r\n                    <ul class="num">\r\n                        <li class="common  current">\r\n                            <i class="num-icon">1</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common ">\r\n                            <i class="num-icon">2</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common ">\r\n                            <i class="num-icon">3</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <!-- 头部模块 end  -->\r\n                <div class="line exp ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.is_discount), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += ' fn-hide">\r\n                    <div class="notice">单价</div>\r\n                    <div class="data_input">\r\n                        <div class="side_border"></div>\r\n                        <div class="inside">\r\n                            <div class="inside_input">\r\n                                <div class="pre-price" data-role="pre-price">12</div>\r\n                                <div class="details fn-hide" data-role="pre-price" data-input-name="pre-price"></div>\r\n                                <div class="inside_arrow exp" style="width: 100px;">元/小时</div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="line exp ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.is_discount), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += ' fn-hide">\r\n                    <div class="notice">时长</div>\r\n                    <div class="data_input">\r\n                        <div class="side_border"></div>\r\n                        <div class="inside exp">\r\n                            <div class="inside_input" data-role="begin-time">\r\n                                <div class="details" data-role="number-btn-container-for-time" data-input-name="time"></div>\r\n                                <div class="inside_arrow">\r\n                                    小时\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class="line exp mt fn-hide">\r\n                    <div class="notice">总价</div>\r\n                    <div class="data_input">\r\n                        <div class="side_border"></div>\r\n                        <div class="inside">\r\n                            <div class="inside_input">\r\n                                <div class="total-price" data-role="total-price"></div>\r\n                                <div class="details fn-hide"  data-input-name="total-price"></div>\r\n                                <div class="inside_arrow exp">元</div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="line exp mt">\r\n                    <div class="notice">价格</div>\r\n                    <div class="data_input">\r\n                        <div class="side_border"></div>\r\n                        <div class="inside">\r\n                            <div class="inside_input">\r\n                                <div class="show_detail">\r\n                                    <div class="show" data-role="detail_price">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.combo_text), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n                                    <!--div class="show exp">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.continue_text), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div-->\r\n                                </div>\r\n                            <!--div class="total-price" data-role="total-price-v2"></div>\r\n                            <div class="details"  data-input-name="total-price">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.continue_text), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div-->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="data-area fn-hide">\r\n\r\n                    <div class="choosen">\r\n                        <div class="notice">风格</div>\r\n                        <div class="style" data-role="choosen_style_group">\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class="line mt b fn-hide" data-role="btn-more-sec">\r\n                    <div class="notice">选填项</div>\r\n                    <div class="data_input">\r\n                        <div class="inside" >\r\n                            <div class="inside_input" >\r\n                                <div class="details"></div>\r\n\r\n                            </div>\r\n                            <div class="inside_arrow" >\r\n                                <i class="icon icon-allow exp"></i>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="op">\r\n                    <div class="content-empty fn-hide" data-role="content-empty"></div>\r\n                    <div class="content-box" data-role="content-box">\r\n                        <div class="item item-two select-row-container fn-hide">\r\n                            <div class="item item-two select-row-container">\r\n                                <div class="lbox lbox-two ltime">时间：</div>\r\n                                <div class="select-container">\r\n                                    <div class="cvox" data-role="select-container-for-year" data-input-name="year">\r\n                                    </div>\r\n                                    <label>年</label>\r\n                                </div>\r\n                                <div class="select-container">\r\n                                    <div class="cvox" data-role="select-container-for-month" data-input-name="month">\r\n                                    </div>\r\n                                    <label>月</label>\r\n                                </div>\r\n                                <div class="select-container">\r\n                                    <div class="cvox" data-role="select-container-for-day" data-input-name="day">\r\n                                    </div>\r\n                                    <label>日</label>\r\n                                </div>\r\n                                <div class="select-container">\r\n                                    <div class="cvox" data-role="select-container-for-hour" data-input-name="hour">\r\n                                    </div>\r\n                                    <label>时</label>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div class="line mt">\r\n                            <div class="notice">时间</div>\r\n                            <div class="data_input">\r\n                                <div class="side_border exp"></div>\r\n                                <div class="inside b" data-role="time">\r\n                                    <div class="inside_input">\r\n                                        <div class="details" data-role="time_str"><span class="notice-span" data-role="notice-span">请选择到场拍摄时间</span></div>\r\n\r\n                                    </div>\r\n                                    <div class="inside_arrow">\r\n                                        <i class="icon icon-allow mt ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.disable_time), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '"></i>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div class="line">\r\n                            <div class="notice">地址</div>\r\n                            <div class="data_input">\r\n                                <div class="side_border exp"></div>\r\n                                <div class="inside b" data-role="address">\r\n                                    <div class="inside_input" >\r\n                                        <div class="details" data-role="address_str">\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div class="inside_arrow">\r\n                                        <i class="icon icon-allow mt ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.disable_address), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '"></i>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="line b">\r\n                            <div class="notice"></div>\r\n                            <div class="data_input">\r\n                                <div class="side_border exp"></div>\r\n                                <div class="inside">\r\n                                    <div class="inside_input">\r\n                                        <div class="details">\r\n                                            <input ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.disable_detail_address), {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += ' value="';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.detail_address), {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '"  class="inh" type="text" data-role="detail-location" data-input-name="detail-location" placeholder="请输入详细地址"/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="line exp b k mt">\r\n                            <div class="notice">几人去拍</div>\r\n                            <div class="data_input">\r\n                                <div class="side_border"></div>\r\n                                <div class="inside exp k">\r\n                                    <div class="inside_input exp" data-role="limit_num">\r\n                                        <div class="details" data-role="number-btn-container-for-limit_num" data-input-name="limit_num"></div>\r\n                                        <div class="inside_arrow"></div>\r\n\r\n                                    </div>\r\n                                    <p class="exp_notice">模特限定了每次拍摄人数不得超过';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.limit_num), {
            hash: {},
            inverse: self.program(9, program9, data),
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '人</p>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class="line inh fn-hide">\r\n                            <div class="notice">类型</div>\r\n                            <div class="data_input">\r\n                                <div class="side_border axp"></div>\r\n                                <div class="inside">\r\n                                    <div class="inside_input">\r\n                                        <div class="details" data-role="choosen_type_group">\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="item item-two select-row-container fn-hide">\r\n                            <div class="lbox lbox-two ltime">地点</div>\r\n                            <div class="select-container">\r\n                                <div class="cvox" data-role="select-container-for-province" data-input-name="province">\r\n                                </div>\r\n                                <div class="cvox" data-role="select-container-for-city" data-input-name="city">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="item item-three fn-hide">\r\n                            <div class="lbox lbox-two">&nbsp;</div>\r\n                            <div class="cvox">\r\n                                <input type="text"  placeholder="请填写拍摄地点 ">\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="empty"></div>\r\n                <!--  -->\r\n                </div>\r\n            </div>\r\n            <div class="submit-application-page-footer">\r\n                <div class="btn_container">\r\n                    <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large" data-role="submit-application-btn">\r\n                        <span class="ui-button-content">提交</span>\r\n                    </button>\r\n                    <!--button  class="ui-button ui-button-primary ui-button-size-middle ui-button-block ">\r\n                        <span class="ui-button-content"></span>\r\n                    </button-->\r\n                </div>\r\n                <!-- <div class="btn" data-role="submit-application-btn" >提交</div> -->\r\n            </div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n</main>';
        return buffer;
    });
});

/**
 * Created by nolestLam on 2014/8/26.
 */
/**
 * 按钮组
 * templateModel :
 * {
 *    list : list //对象arr [{...},{...},{...}]
 * }
 * [int]btn_per_line : 2, //每行按钮个数
 * [string]line_margin : '0px 0px 15px 0px', //每行margin
 * [string]btn_width : '143px', //按钮宽度
 * [obj]parentNode: self.$btn_container,
 * [Boolean]is_multiply : false
 */
define("pai/wx-1.1.0/widget/choosen_group/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var item_tpl = require("pai/wx-1.1.0/widget/choosen_group/tpl/choosen_group-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: item_tpl,
            css: "",
            is_multiply: false
        },
        events: {
            "tap [data-role=ui-choosen-btn]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var selected_value = $cur_btn.attr("data-selected-value");
                var id = $cur_btn.attr("data-selected-id");
                var params = $cur_btn.attr("data-selected-params");
                var remark = $cur_btn.attr("data-selected-remark");
                var disabled = $cur_btn.attr("data-disabled");
                var readonly = $cur_btn.attr("data-readonly");
                var normal_status = $cur_btn.attr("data-normal_status");
                var is_multiply = self.is_multiply;
                if (disabled) {
                    return;
                }
                if (readonly) {
                    return;
                }
                if (!is_multiply) {
                    self._clear_btn_selected();
                }
                if (utility.int(normal_status) != 2 || utility.int(normal_status) != 3) {
                    self._set_btn_selected($cur_btn);
                }
                self.trigger("success:selected", {
                    value: selected_value,
                    id: id,
                    selected: $cur_btn.hasClass("current"),
                    params: params,
                    remark: remark,
                    normal_status: normal_status
                });
            }
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            var divide_obj = {
                list: [],
                btn_width: self.get("btn_width"),
                //按钮宽度
                line_margin: self.get("line_margin")
            };
            var list_length = template_model.list.length;
            var btn_per_line = self.get("btn_per_line") ? self.get("btn_per_line") : 3;
            var line_num = Math.ceil(list_length / btn_per_line);
            for (var i = 0; i < line_num; i++) {
                divide_obj.list.push(template_model.list.slice(btn_per_line * i, btn_per_line * (i + 1)));
            }
            self.set("templateModel", divide_obj);
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {
            var self = this;
        },
        setup: function() {
            var self = this;
            // 是否多选
            self.is_multiply = self.get("is_multiply") || false;
            // 所有的选择模块
            self.$choosen_btn = self.$("[data-role=ui-choosen-btn]");
            self._setup_events();
            // 设置样式
            self._set_item_size();
        },
        get_obj_by_idx: function(idx) {
            var self = this;
            return self.$choosen_btn.eq(idx);
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        },
        _set_item_size: function() {
            var self = this;
            var css = self.get("css");
            if (css) {
                self.$choosen_btn.addClass(css);
            }
        },
        /**
         * 设置按钮选中
         * @param btn
         * @private
         */
        _set_btn_selected: function(btn) {
            var $btn = btn;
            $btn.toggleClass("current");
        },
        /**
         * 清除选中按钮样式
         * @private
         */
        _clear_btn_selected: function() {
            var self = this;
            self.$choosen_btn.removeClass("current");
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 获取选中的值
         * @returns {Array}
         */
        get_value: function(key) {
            var self = this;
            var value_arr = [];
            var $selected_btn_group = self.$el.find(".current[data-role=ui-choosen-btn]");
            $selected_btn_group.each(function(i, obj) {
                value_arr.push({
                    text: $(obj).attr("data-selected-value"),
                    id: $(obj).attr("data-selected-id"),
                    params: $(obj).attr("data-selected-params")
                });
            });
            return value_arr;
        },
        /**
         * 获取选中个数
         * @returns {Number}
         */
        get_selected_count: function() {
            var self = this;
            var value_arr = self.get_selected_value();
            return value_arr.length;
        }
    });
});

define("pai/wx-1.1.0/widget/choosen_group/tpl/choosen_group-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data, depth1) {
            var buffer = "", stack1;
            buffer += '\r\n        <div class="ui-choosen-line" style="';
            stack1 = helpers["with"].call(depth0, depth1, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ';position: relative;">\r\n            ';
            stack1 = helpers.each.call(depth0, depth0, {
                hash: {},
                inverse: self.noop,
                fn: self.programWithDepth(4, program4, data, depth1),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        </div>\r\n    ";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "margin:";
            if (helper = helpers.line_margin) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.line_margin;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ";";
            return buffer;
        }
        function program4(depth0, data, depth2) {
            var buffer = "", stack1, helper;
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.normal_status, {
                hash: {},
                inverse: self.noop,
                fn: self.program(5, program5, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n                <div style="text-align: left;padding-left: 15px;';
            stack1 = helpers["with"].call(depth0, depth2, {
                hash: {},
                inverse: self.noop,
                fn: self.program(7, program7, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" class="ui-choosen-btn ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.readonly, {
                hash: {},
                inverse: self.noop,
                fn: self.program(9, program9, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += " ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.selected, {
                hash: {},
                inverse: self.noop,
                fn: self.program(11, program11, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            stack1 = helpers["if"].call(depth0, depth0 && depth0.disabled, {
                hash: {},
                inverse: self.noop,
                fn: self.program(13, program13, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            stack1 = helpers["if"].call(depth0, depth0 && depth0.normal_status, {
                hash: {},
                inverse: self.noop,
                fn: self.program(15, program15, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" data-normal_status="';
            if (helper = helpers.normal_status) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.normal_status;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-disabled="';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.disabled, {
                hash: {},
                inverse: self.noop,
                fn: self.program(17, program17, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" data-selected-value="';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-selected-id="';
            if (helper = helpers.id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-selected-params="';
            if (helper = helpers.params) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.params;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-selected-remark="';
            if (helper = helpers.remark) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.remark;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-selected-price="';
            if (helper = helpers.price) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.price;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-readonly="';
            if (helper = helpers.readonly) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.readonly;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="ui-choosen-btn" >';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</div>\r\n            ";
            return buffer;
        }
        function program5(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '<div class="inline-block fn-hide" style="width: 20px;height: 20px;background-color: #FF4978;position: absolute;left: -10px;bottom: -10px;font-size: 8px;line-height: 20px;color: #fff;border-radius: 10px;text-align: center;">';
            if (helper = helpers.status_txt) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.status_txt;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>";
            return buffer;
        }
        function program7(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "width:";
            if (helper = helpers.btn_width) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.btn_width;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ";";
            return buffer;
        }
        function program9(depth0, data) {
            return " readonly";
        }
        function program11(depth0, data) {
            return " current";
        }
        function program13(depth0, data) {
            return " disabled";
        }
        function program15(depth0, data) {
            return " normal_status";
        }
        function program17(depth0, data) {
            return "1";
        }
        buffer += '<style>\r\n    .status_txt{\r\n        color:#ff0052;\r\n        margin-left: 5px;\r\n    }\r\n    .normal_status_txt{\r\n        color:#333;\r\n    }\r\n    .light_status_txt{\r\n        color:#aaa;\r\n    }\r\n</style>\r\n<div class="ui-choosen-group" data-role="ui-choosen-group" data-group-name="';
        if (helper = helpers.group_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.group_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" style="';
        if (helper = helpers.style) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.style;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" >\r\n    ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.list, {
            hash: {},
            inverse: self.noop,
            fn: self.programWithDepth(1, program1, data, depth0),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n</div>\r\n";
        return buffer;
    });
});

/**
 * 数字表单按钮
 * hdw 2014.8.26
 */
define("pai/wx-1.1.0/widget/number_btn/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var item_tpl = require("pai/wx-1.1.0/widget/number_btn/tpl/number_btn-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: item_tpl,
            min_value: 0,
            max_value: 999999999999,
            step: 100,
            disable: false
        },
        events: {
            "tap [data-role=add]": function() {
                var self = this;
                self.add_num();
            },
            "tap [data-role=minus]": function() {
                var self = this;
                self.minus_num();
            }
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {
            var self = this;
            //获取焦点取整
            self.$('[data-role="input-num-btn"]').on("focus", function() {
                self._value = self.$number_input.val();
            });
            //失焦取整
            self.$('[data-role="input-num-btn"]').on("change blur", function() {
                var value = self.to_number(self.$number_input.val());
                if (value < self.min_value) {
                    m_alert.show("所填数字不得小于" + self.min_value, "error");
                    self.$number_input.val(self._value);
                    return;
                } else if (value > self.max_value) {
                    m_alert.show("所填数字不得大于" + self.max_value, "error");
                    self.$number_input.val(self._value);
                }
                if (self.is_floor) {
                    self.$number_input.val(Math.floor(value));
                }
            });
        },
        add_num: function() {
            var self = this;
            if (self.get("disable")) {
                return;
            }
            var step = self.step;
            var cur_value = utility.int(self.$number_input.val());
            cur_value = cur_value + step;
            if (cur_value > self.max_value) {
                m_alert.show("所填数字不得大于" + self.max_value, "error");
                return;
            }
            self.set_vaule(cur_value);
            self.trigger("add_value:success", cur_value);
        },
        minus_num: function() {
            var self = this;
            if (self.get("disable")) {
                return;
            }
            var step = self.step;
            var cur_value = utility.int(self.$number_input.val());
            cur_value = cur_value - step;
            if (cur_value < self.min_value) {
                m_alert.show("所填数字不得小于" + self.min_value, "error");
                return;
            }
            self.set_vaule(cur_value);
            self.trigger("minus:success", cur_value);
        },
        set_vaule: function(num) {
            var self = this;
            self.$number_input && self.$number_input.val(utility.int(num));
        },
        get_value: function() {
            var self = this;
            return self.$number_input.val();
        },
        setup: function() {
            var self = this;
            self.min_value = utility.int(self.get("min_value"));
            self.max_value = utility.int(self.get("max_value"));
            self.step = utility.int(self.get("step"));
            self.disable = self.get("disable");
            self.value = utility.int(self.get("value"));
            self.is_floor = self.get("is_floor");
            // 设置加减按钮
            self.$add_btn = self.$("[data-role=add]");
            self.$minus = self.$("[data-role=minus]");
            self.$number_input = self.$("[data-role=input-num-btn]");
            // 安装事件
            self._setup_events();
            // 初始化参数
            self.set_vaule(self.value);
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        },
        /**
         * 格式化数字
         * @returns Float
         */
        to_number: function(s) {
            return parseFloat(s, 10) || 0;
        }
    });
});

define("pai/wx-1.1.0/widget/number_btn/tpl/number_btn-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            return 'readonly="true"';
        }
        buffer += '<!--div class="ui-number-btn cbox">\r\n    <div class="b" data-role="minus"><i class="icon icon-reduce"></i></div>\r\n    <input type="';
        if (helper = helpers.type) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.disable, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '  data-role="input-num-btn"  class="input-text">\r\n    <div class="b" data-role="add"><i class="icon icon-add"></i></div>\r\n</div-->\r\n<div class="ui-add-reduce">\r\n    <div class="add" data-role="minus"><i class="icon icon-reduce-32x32-m"></i></div>\r\n    <div class="input-area"><input type="';
        if (helper = helpers.type) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.disable, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '  data-role="input-num-btn"  class="input"></div>\r\n    <div class="reduce " data-role="add"><i class="icon icon-add-32x32-m"></i></div>\r\n</div>';
        return buffer;
    });
});

/**
 * 下拉表单
 * hdw 2014.8.27
 */
define("pai/wx-1.1.0/widget/select/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var item_tpl = require("pai/wx-1.1.0/widget/select/tpl/select-debug.handlebars");
    var options_tpl = require("pai/wx-1.1.0/widget/select/tpl/options-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: item_tpl
        },
        events: {
            'change [data-role="select"]': function() {
                var self = this;
            }
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            var defaulut_key = template_model.defaulut_key || false;
            console.log(defaulut_key);
            // 设置默认选中选
            if (template_model.options && template_model.options.length > 0) {
                for (var i = 0; i < template_model.options.length; i++) {
                    if (!defaulut_key) {
                        template_model.options[0].selected = true;
                        console.log(template_model.options[i].value);
                        break;
                    }
                    if (defaulut_key == template_model.options[i].value) {
                        template_model.options[i].selected = true;
                        break;
                    }
                }
            }
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {
            var self = this;
            self.$select_control.on("change", function(ev) {
                var $selected_options = self.$select_control.find('[data-role="options"]');
                var value = self.$select_control.val();
                var index = self.$select_control.get(0).selectedIndex;
                var text = self.$select_control.find('[data-role="options"]').eq(index).text();
                var id = self.$select_control.find('[data-role="options"]').eq(index).attr("data-id");
                $selected_options.removeAttr("selected");
                $selected_options.eq(index).attr("selected", true);
                var data = {
                    value: value,
                    text: text,
                    index: index,
                    id: id
                };
                self.set_value(data);
                console.log(data);
                self.trigger("change:options", data);
            });
        },
        set_value: function(data) {
            var self = this;
            self.selected_data = data;
        },
        get_value: function() {
            var self = this;
            return self.selected_data;
        },
        get_default_value: function() {
            var self = this;
            var $selected_options = self.$select_control.find("[selected]");
            var id = $selected_options.attr("data-id");
            var value = $selected_options.val();
            var text = $selected_options.text();
            var index = self.$select_control.get(0).selectedIndex;
            var data = {
                value: value,
                text: text,
                index: index,
                id: id
            };
            self.set_value(data);
            return data;
        },
        set_options: function(data) {
            var self = this;
            var html_str = options_tpl(data);
            self.$select_control.html(html_str);
        },
        setup: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.$select_control = self.$el;
            // 安装事件
            self._setup_events();
            self.set_options(template_model);
            self.get_default_value();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
});

define("pai/wx-1.1.0/widget/select/tpl/select-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<select data-role="select" >\r\n\r\n</select>';
    });
});

define("pai/wx-1.1.0/widget/select/tpl/options-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <option data-id="';
            if (helper = helpers.id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="options" value="';
            if (helper = helpers.value) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.value;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.selected, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ">";
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</option>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            return "selected";
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.options, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

/**
 * 提交约拍申请 - 模型
 * nolestLam 2014.8.25
 */
define("pai/wx-1.1.0/model_date/submit_application/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        url: global_config.ajax_url.model_card,
        "default": {
            user_id: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self._get_info_xhr = xhr;
            }).on("success:fetch", function(xhr, xhrOptions) {}).on("complete:fetch", function(xhr, status) {
                delete self._get_info_xhr;
            });
        },
        /**
         * 转换数据格式
         * @param response
         * @returns {*}
         */
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function(options) {},
        get_info: function() {
            var self = this;
            if (self._get_info_xhr) {
                return;
            }
            self.fetch({
                url: self.url,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 首页 - 城市选择
 * 汤圆 2014.18.
 */
define("pai/wx-1.1.0/model_date/agreement/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var agreement = require("pai/wx-1.1.0/model_date/agreement/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var agreement_view = View.extend({
        attrs: {
            template: agreement
        },
        events: {
            swiperight: function() {},
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                self.hide();
            },
            "tap [data-role=btn-go-to]": function(ev) {
                var self = this;
                self.trigger("receive");
                self.hide();
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self._setup_scroll();
            //.once('render',self._render_after,self);
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装底部导航
         * @private
         */
        _reset: function() {
            var self = this;
        },
        _add_one: function(model) {
            var self = this;
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            // 安装事件
            self._setup_events();
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
            self.refresh();
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
            self.refresh();
        },
        refresh: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.refresh();
        }
    });
    module.exports = agreement_view;
});

define("pai/wx-1.1.0/model_date/agreement/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="location">\r\n    \r\n\r\n    <header class="nav-header agreement-header">\r\n        <div class="left-button-wrap" >\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">拍摄协议</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>  \r\n\r\n    <div data-role="container" class="content-body"  style="background:#eeeeee" >\r\n        <div style="height:100%">\r\n\r\n            <div class="agreement-page">\r\n                <h3>请仔细阅读【拍摄人体模特协议书】</h3>\r\n                <p class="p1">以下内容为虚构，请产品尽快给到文案”</p>\r\n                <ul class="list clearfix">\r\n                    <li>1.资金保障。您付款后，款项由【约拍】平台保管，直至您在拍摄现场签到后，款项才会付给模特。</li>\r\n                    <li>2.质量无忧。若您在现场发现模特货不对版，可拒绝签到并申请退款。</li>\r\n                    <li>3.资金保障。您付款后，款项由【约拍】平台保管，直至您在拍摄现场签到后，款项才会付给模特.质量无忧。若您在现场发现模特货对版，可拒绝签到并申请退款。</li>\r\n                </ul>        \r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <footer  class="pop-event-info" >\r\n         <div class="btn">\r\n             <button data-role="btn-go-to" class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-size-radius-large ">\r\n                <span class="ui-button-content">接受</span>\r\n            </button>\r\n         </div>\r\n    </footer>\r\n\r\n</main>';
    });
});

/**
 * 支付页面
 * hdw 20148.28
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/model_date/payment/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/payment/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/pay_item/view-debug", "pai/wx-1.1.0/widget/pay_item/model-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/model_date/payment/model-debug", "pai/wx-1.1.0/model_date/model_card/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var payment_view = require("pai/wx-1.1.0/model_date/payment/view-debug");
    var payment_model = require("pai/wx-1.1.0/model_date/payment/model-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var model_card = require("pai/wx-1.1.0/model_date/model_card/model-debug");
    page_control.add_page([ function() {
        return {
            title: "支付",
            route: {
                "model_date/payment": "model_date/payment"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model_obj = null;
                var pay_ment_model_obj = null;
                var model = route_params_obj;
                //判断是否从约拍风格到达此页面
                if (model && model.cid) {
                    model_obj = route_params_obj;
                    // 实例化支付模型
                    pay_ment_model_obj = new payment_model();
                } else {
                    // 做容错机制交互
                    m_alert.show("订单不存在", "error", {
                        delay: 1e3
                    });
                    setTimeout(function() {
                        page_control.navigate_to_page("hot");
                    }, 1e3);
                    return;
                }
                var payment_view_obj = new payment_view({
                    templateModel: model_obj,
                    model: model_obj,
                    pay_model: pay_ment_model_obj,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 支付页面
 * hudw 2014.8.28
 */
define("pai/wx-1.1.0/model_date/payment/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/pay_item/view-debug", "pai/wx-1.1.0/widget/pay_item/model-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var payment = require("pai/wx-1.1.0/model_date/payment/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var pay_items = require("pai/wx-1.1.0/widget/pay_item/view-debug");
    var WX = require("pai/wx-1.1.0/common/I_WX-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var payment_view = View.extend({
        attrs: {
            template: payment
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function() {
                page_control.back();
            },
            'tap [data-role="pay-btn"]': function() {
                var self = this;
                utility.page_pv_stat_action({
                    tj_point: "pay_order"
                });
                if (self._submit_disable) {
                    return;
                }
                self._submit_disable = true;
                if (confirm("确认支付?")) {
                    self.pay_action();
                } else {
                    self._submit_disable = false;
                }
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.pay_model.on("before:fetch", function() {
                m_alert.show("提交中...", "loading", {
                    delay: -1
                });
            }).on("success:fetch", function(response, options) {
                self._submit_disable = false;
                var response = response && response.result_data;
                var code = response && response.code;
                var channel_return = response && response.channel_return;
                var payment_no = response && response.payment_no;
                var options = options;
                switch (code) {
                  // 余额支付成功
                    case 1:
                    m_alert.show(response.message, "right");
                    page_control.navigate_to_page("model_date/submit_success");
                    break;

                  // 生成请求参数成功，待跳转到第三方
                    case 2:
                    m_alert.show("第三方支付跳转", "right");
                    var data_url = response.data;
                    var third_code = response.third_code;
                    if (third_code == "alipay_purse") {
                        // 支付宝
                        App.alipay({
                            alipayparams: data_url,
                            payment_no: payment_no
                        }, function(data) {
                            var result = utility.int(data.result);
                            self.after_pay_text(result);
                            if (result == 1 || result == -1 || result == -2) {
                                window.location.href = channel_return;
                            }
                        });
                    } else if (third_code == "tenpay_wxapp") {
                        // 微信支付
                        App.wxpay(JSON.parse(data_url), function(data) {
                            var result = utility.int(data.result);
                            self.after_pay_text(result);
                            if (result == 1 || result == -1 || result == -2) {
                                window.location.href = channel_return;
                            }
                        });
                    } else if (third_code == "tenpay_wxpub") {
                        // 微信支付
                        if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") {
                            console.log(JSON.parse(data_url));
                            WeiXinSDK.setConfig(response.wx_sign_package);
                            WeiXinSDK.ready(function(Api) {
                                WeiXinSDK.chooseWXPay(JSON.parse(data_url), function(data) {
                                    var result = utility.int(data.code);
                                    if (result == 1) {
                                        window.location.href = channel_return;
                                    }
                                });
                            });
                        } else {
                            WX.isWexXin() && WX.wxPay(JSON.parse(data_url), function(data) {
                                var result = utility.int(data.code);
                                if (result == 1) {
                                    window.location.href = channel_return;
                                }
                            });
                        }
                    }
                    break;

                  // 参数错误
                    case -1:
                  // 用户余额有变动
                    case -2:
                  // 添加到约拍表时产生错误
                    case -3:
                  // 生成第三方请求参数产生错误
                    case -4:
                    m_alert.show(response.message, "error");
                    break;

                  default:
                    m_alert.hide();
                }
            }).on("error:fetch", function(xhr, status) {
                m_alert.show("网络出错", "error", {
                    delay: 2e3
                });
                self._submit_disable = false;
            }).on("complete:fetch", function(xhr, status) {
                //m_alert.hide();
                self._submit_disable = false;
            });
            utility.user.on("before:get_info:fetch", function() {
                m_alert.show("正在加载支付模块...", "loading", {
                    delay: -1
                });
            }).on("success:get_info:fetch", function(response) {
                m_alert.hide();
                // 请求成功后再次设置
                self.pay_item_obj.model.set("available_balance", utility.user.get("available_balance"));
                // 初始化表单
                self.count_payment({
                    select_balance: self.model.get("model_selected_info").can_use_balance
                });
            }).on("error:get_info:fetch", function() {
                m_alert.show("网络异常，需要重试", "error", {
                    delay: 1e3
                });
                // 初始化表单
                self.count_payment({
                    select_balance: self.model.get("model_selected_info").can_use_balance
                });
            });
            self.pay_item_obj.on("selected:available_balance", function() {
                var select_balance = self.pay_item_obj.model.get("can_use_balance");
                self.count_payment({
                    select_balance: select_balance
                });
                if (self.pay_item_obj._is_select_balance_require == 0) {
                    setTimeout(function() {
                        self.view_scroll_obj.scrollTo(0, 200);
                    }, 100);
                }
                self.view_scroll_obj.refresh();
            });
            self._setup_scroll();
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        pay_action: function() {
            var self = this;
            var model_id = self.model.get("user_id");
            var hour = self.model.get("model_selected_info").hour;
            var date = self.model.get("model_selected_info").date;
            var type = self.model.get("model_selected_info").type;
            var style = self.model.get("model_selected_info").style;
            var price = self.model.get("model_selected_info").price;
            var address = self.model.get("model_selected_info").address;
            var available_balance = utility.user.get("available_balance");
            var is_available_balance = self.pay_item_obj.model.get("can_use_balance");
            var limit_num = self.model.get("model_selected_info").limit_num;
            var is_from_custom_data = self.model.get("model_selected_info").is_from_custom_data;
            var direct_confirm_id = 0;
            if (self.model.get("model_selected_info").direct_confirm_id) {
                direct_confirm_id = self.model.get("model_selected_info").direct_confirm_id;
            }
            // 设置打折优惠
            if (self.model.get("model_selected_info").is_discount) {
                hour = 2;
                price = utility.int(price / 2);
            }
            var loc = window.location;
            var data = {
                model_id: model_id,
                hour: hour,
                date: date,
                type: type || "",
                style: style,
                price: price,
                address: address,
                available_balance: available_balance,
                is_available_balance: is_available_balance,
                limit_num: limit_num,
                third_code: self.pay_item_obj.model.get("pay_type"),
                is_from_custom_data: is_from_custom_data,
                wx_version: global_config.WeiXin_Version,
                url: loc.origin + loc.pathname + loc.search,
                direct_confirm_id: direct_confirm_id
            };
            self.pay_model.set("pay_info", data);
            utility.date_info.set({
                model: self.model,
                pay_ment_model: self.pay_model
            });
            self.pay_model.pay(data);
        },
        /**
         * 计算支付金额
         * @private
         */
        count_payment: function(params) {
            var self = this;
            var total_price = utility.float(self.model.get("model_selected_info").total_price);
            var balance = utility.float(utility.user.get("available_balance"));
            if (params.select_balance) {
                var must_pay_money = balance - total_price;
                // 信用金够钱支付的时候
                if (must_pay_money > 0) {
                    self.must_pay_money = 0;
                } else {
                    self.must_pay_money = -(balance - total_price);
                }
            } else {
                // 没有用信用金支付
                self.must_pay_money = total_price;
            }
            self.must_pay_money = utility.format_float(self.must_pay_money, 2);
            self.$need_pay_str.html(self.must_pay_money);
            //self.pay_item_obj.update_price(self.must_pay_money);
            self.pay_item_obj.model.set("need_price", self.must_pay_money);
            if (self.must_pay_money > 0) {
                // 余额不够支付,出现第三方支付选择
                if (!self.pay_item_obj) {
                    m_alert.show("第三方支付模块尚未加载!", "error");
                    return;
                }
                // 隐藏支付宝、财付通、微信支付
                self.pay_item_obj.hide_pay_items_by_type("alipay_purse");
                self.pay_item_obj.hide_pay_items_by_type("caifutong");
                self.pay_item_obj.hide_pay_items_by_type("tenpay_wxapp");
                self.pay_item_obj.show_other_pay_items();
                self.pay_item_obj._select_pay_type("tenpay_wxpub");
            } else {
                self.pay_item_obj.hide_other_pay_items();
            }
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 每次进入确保拿最新数据
            utility.user.get_info();
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$submit_btn = self.$('[data-role="pay-btn"]');
            self.$pay_items_container = self.$('[data-role="pay-items-container"]');
            self.$need_pay_str = self.$('[data-role="data-pay-rest"]');
            // 设置支付模型
            self.pay_model = self.get("pay_model");
            // 支付选项参数模型
            var pay_items_model = {
                can_use_balance: self.model.get("model_selected_info").can_use_balance,
                available_balance: utility.user.get("available_balance"),
                total_price: self.model.get("model_selected_info").total_price,
                show_price_info: true,
                is_support_outtime: true,
                is_support_now_out: true
            };
            self.pay_item_obj = new pay_items({
                templateModel: pay_items_model,
                parentNode: self.$pay_items_container
            }).render();
            self.pay_item_obj.hide_other_pay_items();
            // 安装事件
            self._setup_events();
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height() - 95;
        },
        /**
         * 显示支付结束后的文案
         * @param code
         */
        after_pay_text: function(code) {
            switch (utility.int(code)) {
              case 1:
              case -2:
              case -1:
                m_alert.show("支付成功", "right");
                break;

              case 0:
                m_alert.show("其它错误", "error");
                break;

              case -3:
                m_alert.show("支付失败", "error");
                break;

              case -4:
                m_alert.show("支付取消", "error");
                break;
            }
        }
    });
    module.exports = payment_view;
});

define("pai/wx-1.1.0/model_date/payment/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                            " + escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
            stack1 == null || stack1 === false ? stack1 : stack1.user_name), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "\r\n                        ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "\r\n                            ";
            if (helper = helpers.user_name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "\r\n                        ";
            return buffer;
        }
        buffer += '<main role="main" class="procedure-pay">\r\n    \r\n    <!-- <header class="page-header wryh">\r\n                <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n                支付\r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">支付</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n\r\n    <div class="content-body secondary" style="background: none;">\r\n        <div data-role="container">\r\n            <div>\r\n            <div class="procedure-header-mod">\r\n                <ul class="step">\r\n                    <li class="current">提交约拍申请</li>\r\n                    <li>模特接受约拍</li>\r\n                    <li>拍摄/完成</li>\r\n                </ul>\r\n                <ul class="num">\r\n                    <li class="common  current">\r\n                        <i class="num-icon">1</i>\r\n                        <div class="line-grey"></div>\r\n                        <div class="line-red"></div>\r\n                    </li>\r\n                    <li class="common ">\r\n                        <i class="num-icon">2</i>\r\n                        <div class="line-grey"></div>\r\n                        <div class="line-red"></div>\r\n                    </li>\r\n                    <li class="common ">\r\n                        <i class="num-icon">3</i>\r\n                        <div class="line-grey"></div>\r\n                        <div class="line-red"></div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class="pay-details-info" style="background-color: #fff;margin-top: 12px;border-bottom: 1px solid #dddddd;">\r\n                <div class="pay-details-info-line f12 " style="border-bottom: none;line-height: 30px;height:30px;text-indent: 8px;">\r\n                    <div style="margin:0;">模特：</div>\r\n                    <div data-role="pay-details-info-line-name" style="margin-top: 0;">\r\n                        ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.user_name), {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                        </div>\r\n\r\n                </div>\r\n                <div class="pay-details-info-line f12 " style="line-height: 30px;height:30px;text-indent: 8px;">\r\n                    <div style="margin:0;">风格：</div>\r\n                    <div data-role="pay-details-info-line-style" style="margin-top: 0;">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.model_selected_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.style), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n                </div>\r\n                <!--div class="pay-details-module-info-content">\r\n                    <p class="pay-details-module-info-notice">风格：</p>\r\n                    <p class="pay-details-module-info-style">内衣</p>\r\n                </div-->\r\n            </div>\r\n            <div data-role="pay-items-container"></div>\r\n            <div class="pay-details-notice">\r\n                <p>提示：</p>\r\n                <p>支付的款项会在现场签到后才支付给模特。</p>\r\n                <p>现场发现模特货不对板可拒绝签到，并申请退款。</p>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    <div class="pay-details-btn">\r\n        <div class="left">\r\n            <p class="data-pay-rest_notice">还需支付：</p>\r\n            <p class="data-pay-rest">￥<label  data-role="data-pay-rest">0</label></p>\r\n        </div>\r\n        <div class="right">\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large" data-role="pay-btn">\r\n                <span class="ui-button-content"><i class="icon icon-btn-icon-fk"></i>去支付</span>\r\n            </button>\r\n        </div>\r\n        <!-- <div class="pay-details-btn-tap">支付</div> -->\r\n    </div>\r\n</main>';
        return buffer;
    });
});

/**
 * 支付选项表单
 * hdw 2014.8.26
 */
define("pai/wx-1.1.0/widget/pay_item/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/widget/pay_item/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var item_tpl = require("pai/wx-1.1.0/widget/pay_item/tpl/items-debug.handlebars");
    var pay_item_model = require("pai/wx-1.1.0/widget/pay_item/model-debug");
    module.exports = View.extend({
        attrs: {
            template: item_tpl
        },
        events: {
            // 选择信用金
            'tap [data-role="select-cameraman-require-row"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var $yes_tag = $cur_btn.find('[data-role="yes-tag"]');
                if ($yes_tag.hasClass("current")) {
                    $yes_tag.removeClass("current");
                    self._is_select_balance_require = 0;
                } else {
                    $yes_tag.addClass("current");
                    self._is_select_balance_require = 1;
                }
                self.model.set("can_use_balance", self._is_select_balance_require);
                self.trigger("selected:available_balance");
            },
            // 选择支付类型
            'tap [data-role="choosen-pay-type"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var $yes_tag = $cur_btn.find('[data-role="yes-tag"]');
                var pay_type = $cur_btn.attr("data-type");
                self.model.set("pay_type", pay_type);
                self._select_pay_type(pay_type);
            }
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {
            var self = this;
            self.on("selected:available_balance", function() {}).on("selected:pay_type", function() {});
            self.listenTo(self.model, "change", self._render_pay_items);
        },
        set_value: function(data) {
            var self = this;
            self.model.set(data);
        },
        get_value: function() {
            var self = this;
            return self.model;
        },
        _select_pay_time: function(type) {
            var self = this;
        },
        _select_pay_type: function(type) {
            var self = this;
            self.$pay_type_group.find('[data-role="yes-tag"]').removeClass("current");
            self.$('[data-type="' + type + '"]').find('[data-role="yes-tag"]').addClass("current");
            self._pay_type = type;
            self.model.set("pay_type", self._pay_type);
            self.trigger("selected:pay_type");
        },
        _render_pay_items: function() {
            var self = this;
            self.$total_price_container.html(self.model.get("total_price"));
            self.$pay_price_container.html(self.model.get("need_price"));
            self.$available_balance_container.html(self.model.get("available_balance"));
            self.$use_balance_tag.removeClass("current");
            if (self.model.get("can_use_balance")) {
                self.$use_balance_tag.addClass("current");
            }
        },
        setup: function() {
            var self = this;
            self.$pay_price_container = self.$("[data-role=pay-price]");
            self.$pay_type_group = self.$('[data-role="choosen-pay-type"]');
            self.$other_pay_items = self.$('[data-role="other-pay-items"]');
            self.$total_price_container = self.$("[data-role=pay-details-price-info-line-price]");
            self.$use_balance_tag = self.$('[data-role="select-cameraman-require-row"]').find("[data-role=yes-tag]");
            self.$available_balance_container = self.$('[data-role="available-balance-str"]');
            self.model = new pay_item_model({
                can_use_balance: self.get("templateModel").can_use_balance,
                total_price: self.get("templateModel").total_price,
                available_balance: self.get("templateModel").available_balance,
                is_support_outtime: self.get("templateModel").is_support_outtime,
                is_support_outtime: self.get("templateModel").is_support_now_out
            });
            // 安装事件
            self._setup_events();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        },
        show_other_pay_items: function() {
            var self = this;
            self.$other_pay_items.removeClass("fn-hide");
        },
        hide_other_pay_items: function() {
            var self = this;
            self.$other_pay_items.addClass("fn-hide");
        },
        /**
         * 根据指定类型隐藏支付选项
         * @param type
         */
        hide_pay_items_by_type: function(type) {
            var self = this;
            self.$el.find('[data-type="' + type + '"]').addClass("fn-hide");
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
});

define("pai/wx-1.1.0/widget/pay_item/tpl/items-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            return "fn-hide";
        }
        function program3(depth0, data) {
            return '\r\n                <div class="pay-details-price-info-line-notice">随时退</div>\r\n                <i class="icon icon-tui-30x30"></i>\r\n            ';
        }
        function program5(depth0, data) {
            return '\r\n                <div class="pay-details-price-info-line-notice">过期退</div>\r\n                <i class="icon icon-tui-30x30"></i>\r\n            ';
        }
        function program7(depth0, data) {
            return "current";
        }
        buffer += '<div>\r\n    <p class="pay-details-payment-title">应付金额</p>\r\n    <div class="pay-details-price-info ';
        stack1 = helpers.unless.call(depth0, depth0 && depth0.show_price_info, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '">\r\n        <div class="pay-details-price-info-line">\r\n            <div>支付总价：<div class="pay-details-price-info-line-price" style="margin:0 0 0 15px;">￥<label data-role="pay-details-price-info-line-price">';
        if (helper = helpers.total_price) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.total_price;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</label></div>\r\n            </div>\r\n\r\n\r\n            ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_support_now_out, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_support_outtime, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n        </div>\r\n        <div class="pay-details-price-info-line" data-role="select-cameraman-require-row">\r\n            <div>钱包余额：<div class="id-price" data-role="yes-tag" style="margin:0 0 0 15px;">￥<label data-role="available-balance-str">';
        if (helper = helpers.available_balance) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.available_balance;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</label></div>\r\n            </div>\r\n\r\n            <i class="icon icon-normal-32x32 ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.can_use_balance, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="yes-tag"></i>\r\n\r\n        </div>\r\n        <div class="pay-details-price-info-line">\r\n            <div>还需支付：<div class="pay-price" style="margin:0 0 0 15px;">￥<label data-role="pay-price">0</label></div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div data-role="other-pay-items" class="pay-type-container">\r\n        <p class="pay-details-payment-title">支付方式</p>\r\n        <div  class="pay-details-payment">\r\n            <div class="pay-details-payment-line" data-role="choosen-pay-type" data-type="tenpay_wxpub">\r\n                <i class="icon icon-wx-100x60 payment-way" ></i>\r\n                <div>\r\n                    <p>微信公众号支付</p>\r\n                    <p>安装微信5.0及以上版本的使用</p>\r\n                </div>\r\n                <i class="icon icon-normal-32x32 payment-choosen" data-role="yes-tag"></i>\r\n            </div>\r\n            <div class="pay-details-payment-line" data-role="choosen-pay-type" data-type="alipay_purse">\r\n                <i class="icon icon-pay-100x60 payment-way" ></i>\r\n                <div>\r\n                    <p>支付宝支付</p>\r\n                    <p>推荐有支付宝账号的用户使用</p>\r\n                </div>\r\n                <i class="icon icon-normal-32x32 payment-choosen" data-role="yes-tag" ></i>\r\n            </div>\r\n            <div class="pay-details-payment-line fn-hide" data-role="choosen-pay-type" data-type="caifutong">\r\n                <i class="icon icon-qq-100x60 payment-way" ></i>\r\n                <div>\r\n                    <p>财付通支付</p>\r\n                    <p>支持银行卡和财付通账户支付</p>\r\n                </div>\r\n                <i class="icon icon-normal-32x32 payment-choosen" data-role="yes-tag"></i>\r\n            </div>\r\n            <div class="pay-details-payment-line" data-role="choosen-pay-type" data-type="tenpay_wxapp">\r\n                <i class="icon icon-wx-100x60 payment-way" ></i>\r\n                <div>\r\n                    <p>微信支付</p>\r\n                    <p>安装微信5.0及以上版本的使用</p>\r\n                </div>\r\n                <i class="icon icon-normal-32x32 payment-choosen" data-role="yes-tag"></i>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>';
        return buffer;
    });
});

/**
 * 支付选项 模型
 * hudw 2014.9.5
 */
define("pai/wx-1.1.0/widget/pay_item/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        "default": {
            total_price: 0,
            available_balance: 0,
            need_price: 0,
            pay_type: "",
            can_use_balance: "",
            is_support_outtime: "",
            is_support_now_out: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
        },
        initialize: function(options) {
            var self = this;
            self._setup_events();
        }
    });
});

/**
 * 支付 模型
 * hudw 2014.8.28
 */
define("pai/wx-1.1.0/model_date/payment/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "$-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        url: global_config.ajax_url.pay,
        "default": {
            user_id: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self._get_info_xhr = xhr;
            }).on("success:fetch", function(xhr, xhrOptions) {}).on("error:fetch", function(xhr, xhrOptions) {}).on("complete:fetch", function(xhr, status) {
                delete self._get_info_xhr;
            });
        },
        /**
         * 转换数据格式
         * @param response
         * @returns {*}
         */
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function(options) {
            var self = this;
            self._setup_events();
        },
        pay: function(data) {
            var self = this;
            if (self._get_info_xhr) {
                return;
            }
            var location = window.location;
            var from_app = utility.get_url_params(window.location.search, "from_app");
            // 版本号
            var vwx = window.location.search.replace("?", "");
            if (from_app) {
                var redirect_url = location.origin + "/m/" + window._page_mode + "?from_app=1#model_date/submit_success";
            } else {
                var redirect_url = location.origin + "/m/" + window._page_mode + "?" + vwx + "#model_date/submit_success";
            }
            redirect_url = encodeURIComponent(redirect_url);
            data = $.extend(data, {
                redirect_url: redirect_url
            });
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 首页 - 模特卡
 * 汤圆 2014.8.21
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/model_date/submit_success/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/submit_success/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/model_date/submit_success/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var submit_success_view = require("pai/wx-1.1.0/model_date/submit_success/view-debug");
    var model = require("pai/wx-1.1.0/model_date/submit_success/model-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "模特卡",
            route: {
                "model_date/submit_success(/:pay_ment_id)": "model_date/submit_success"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var from_app = utility.get_url_params(window.location.search, "from_app");
                // 设置该状态下Android页面返回禁止
                utility.set_no_page_back(utility.getHash());
                var model_obj = new model({});
                var submit_success_view_obj = new submit_success_view({
                    from_app: utility.int(from_app),
                    model: model_obj,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 首页 - 模特卡
 * 汤圆 2014.8.21
 */
define("pai/wx-1.1.0/model_date/submit_success/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/I_WX-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var submit_success = require("pai/wx-1.1.0/model_date/submit_success/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var grid = require("pai/wx-1.1.0/widget/model_pic/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var submit_success_view = View.extend({
        attrs: {
            template: submit_success
        },
        events: {
            "tap [data-role=date-city]": function(ev) {},
            "tap [data-role=page-back]": function(ev) {
                page_control.navigate_to_page("hot");
            },
            'tap [data-role="to_date_list"]': function() {
                page_control.navigate_to_page("mine/consider/can_back_to_mine");
            },
            'tap [data-role="talk"]': function() {
                var self = this;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                var date_model = utility.date_info && utility.date_info.get().model;
                var data = {
                    senderid: utility.login_id,
                    receiverid: utility.int(date_model.user_id),
                    sendername: utility.user.get("nickname"),
                    receivername: date_model.user_name,
                    sendericon: utility.user.get("user_icon"),
                    receivericon: date_model.user_icon
                };
                if (App.isPaiApp) {
                    App.chat(data);
                }
            },
            'tap [data-role="to_message"]': function() {
                var self = this;
                page_control.navigate_to_page("hot");
                console.log(self.from_app);
                if (self.from_app) {
                    console.log("back");
                    App.isPaiApp && App.app_back();
                } else {
                    console.log("show_chat_list");
                    App.isPaiApp && App.show_chat_list();
                }
            },
            'tap [data-name="wx_card_download_btn"]': function() {
                window.location.href = "http://app.yueus.com/";
            },
            'tap [data-role="wx_return"]': function() {
                page_control.navigate_to_page(global_config.default_index_route);
            },
            "tap [data-role=btn-role-down-app]": function(ev) {
                var self = this;
                window.location.href = "http://app.yueus.com/";
            },
            "tap [data-role=btn-v2-validation]": function(ev) {
                var self = this;
                page_control.navigate_to_page("model_date/v2_validation");
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.model.on("before:fetch", function() {}).on("success:fetch", function() {
                self._render_model_card();
            }).on("complete:fetch", function(xhr, status) {});
            self.on("update_info", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                // 头部滚动条
                // self._setup_scroll_top();
                // self.view_scroll_obj_top.refresh();
                //主要滚动条
                self._setup_scroll();
                self.view_scroll_obj.refresh();
            });
            self._setup_scroll();
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$procedure_wrap_page, {
                lazyLoad: true,
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 渲染模特卡
         * @param response
         * @param options
         * @private
         */
        _render_model_card: function() {
            var self = this;
            var model_data = self.model.toJSON();
            var html_str = model_card({
                model_data_mod: model_data
            });
            var $container_op = self.$container;
            $container_op.html(html_str);
            //塞内容
            self.trigger("update_info");
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$container_img_list = self.$("[data-role=container-img-list]");
            // 头部图片容器
            self.$procedure_wrap = self.$("[data-role=procedure_wrap]");
            // 头部图片容器
            self.$procedure_wrap_page = self.$('[data-role="procedure_wrap_page"]');
            // 滚动容器
            self.from_app = self.get("from_app");
            self.$v2_level = self.$('[data-role="v2-level"]');
            //self.$container_top = self.$('[data-role=container-top]'); // 滚动容器
            // 安装事件
            self._setup_events();
            // v2显示
            self.v2_validation_show();
        },
        v2_validation_show: function() {
            var self = this;
            if (utility.user.get("user_level") <= 1) {
                self.$v2_level.removeClass("fn-hide");
            }
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav");
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$procedure_wrap_page.height(view_port_height);
            //self.view_scroll_obj.refresh()
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = submit_success_view;
});

define("pai/wx-1.1.0/model_date/submit_success/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="procedure-succeed">\r\n    <!-- <header class="page-header wryh">\r\n        <div class="page-back fn-hide" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n                提交成功\r\n    </header> -->\r\n    <header class="nav-header mine-nav-header">\r\n        <h3 class="title">提交成功</h3>\r\n    </header>\r\n    <div data-role="container" class="content-body">\r\n        <div data-role="procedure_wrap_page">\r\n            <div>\r\n                <div class="wrap-div" data-role="procedure_wrap">\r\n                    <!-- <div class="procedure-header-mod">\r\n                        <ul class="step">\r\n                            <li>提交约拍申请</li>\r\n                            <li>支付</li>\r\n                            <li class="current">提交成功</li>\r\n                        </ul>\r\n                        <ul class="num">\r\n                            <li class="common">\r\n                                        <i class="num-icon">1</i>\r\n                                        <div class="line-grey"></div>\r\n                                        <div class="line-red"></div>\r\n                                    </li>\r\n                                    <li class="common">\r\n                                        <i class="num-icon">2</i>\r\n                                        <div class="line-grey"></div>\r\n                                        <div class="line-red"></div>\r\n                                    </li>\r\n                                    <li class="common  current">\r\n                                        <i class="num-icon">3</i>\r\n                                        <div class="line-grey"></div>\r\n                                        <div class="line-red"></div>\r\n                                    </li>\r\n                        </ul>\r\n                    </div> -->\r\n\r\n\r\n                    <div class="icon-yes"><i class="icon icon-success-60x60"></i></div>\r\n                    <div class="notice-one">约拍申请提交成功</div>\r\n\r\n\r\n\r\n                    <div class="v2_area fn-hide" data-role="v2-level">\r\n                        <div class="level-des">\r\n                            模特的等级要求为<span class="cor">V2实名认证</span> <br>\r\n                            为提高约拍成功率\r\n                        </div>\r\n\r\n                        <div class="wx_download_contain">\r\n                         <!--    <button class="ui-button ui-button-primary ui-button-size-large ui-button-block download"  data-role="button" data-name="wx_card_download_btn"><span class="ui-button-content">下载约yue APP</span></button>\r\n\r\n                            <button class="ui-button ui-button-nocolor ui-button-size-large ui-button-block return_find"  data-role="wx_return"><span class="ui-button-content">返回约拍页</span></button> -->\r\n\r\n                            <div class="btn-vacation">\r\n                                <button class="ui-button ui-button-primary ui-button-size-large ui-button-block download"  data-role="btn-v2-validation" ><span class="ui-button-content">快点击这里认证吧</span></button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    <ul class="list-txt">\r\n                        <li><div class="circle"></div> <div class="txt">模特会在48小时内处理你的申请，请耐心等待。</div></li>\r\n                        <li><div class="circle"></div> <div class="txt">想要提前了解模特沟通拍摄细节，请下载约yue APP。</div></li>\r\n                        <li><div class="circle"></div> <div class="txt">付款后款项将暂时由【约yue】平台保管，成功签到后，款项才会支付给模特。如果想尽快联系模特或者咨询交易，可致电：400-082-9003</div></li>\r\n                    </ul>\r\n\r\n\r\n\r\n\r\n                </div>    \r\n                        \r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="btn_container_success ">\r\n            <div class="left fn-hide">\r\n                <button class="ui-button ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large auto_width" data-role="to_date_list">\r\n                    <span class="ui-button-content">去约拍列表</span>\r\n                </button>\r\n            </div>\r\n            <div class="right mr10">\r\n                <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width ui-button-color2" data-role="btn-role-down-app">  <!-- data-role="talk" -->\r\n                    <span class="ui-button-content">下载约yue APP</span>\r\n                </button>\r\n            </div>\r\n            <div class="right">\r\n                <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-role="to_message">\r\n                    <span class="ui-button-content">返回约拍页</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * 模特卡 模型
 * 汤圆 2014.8.21
 */
define("pai/wx-1.1.0/model_date/submit_success/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        url: global_config.ajax_url.model_card,
        "default": {
            user_id: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self._get_info_xhr = xhr;
            }).on("success:fetch", function(xhr, xhrOptions) {}).on("complete:fetch", function(xhr, status) {
                delete self._get_info_xhr;
            });
        },
        /**
         * 转换数据格式
         * @param response
         * @returns {*}
         */
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function(options) {},
        get_info: function() {
            var self = this;
            if (self._get_info_xhr) {
                return;
            }
            self.fetch({
                url: self.url,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 约拍完成
 * hudw 2014.9.21
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/model_date/complete_application/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/complete_application/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var complete_application_view = require("pai/wx-1.1.0/model_date/complete_application/view-debug");
    page_control.add_page([ function() {
        return {
            title: "约拍完成",
            route: {
                "model_date/complete_application/:date_id": "model_date/complete_application"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var date_id = route_params_arr[0];
                var complete_application_view_obj = new complete_application_view({
                    parentNode: self.$el,
                    date_id: date_id
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 约拍成功
 * hudw 2014.9.21
 */
define("pai/wx-1.1.0/model_date/complete_application/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var complete_application = require("pai/wx-1.1.0/model_date/complete_application/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var info_tpl = require("pai/wx-1.1.0/model_date/complete_application/tpl/info-debug.handlebars");
    var complete_application_view = View.extend({
        attrs: {
            template: complete_application
        },
        events: {
            'tap [data-role="nav-to-model"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var model_id = $cur_btn.attr("data-model-id");
                var date_id = $cur_btn.attr("data-date_id");
                page_control.navigate_to_page("mine/consider_details_camera/" + date_id);
            },
            'tap [data-role="page-back"]': function() {
                page_control.back();
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            utility.user.on("before:get_date_by_date_id:fetch", function(response, options) {
                m_alert.show("加载中...", "loading");
            }).on("success:get_date_by_date_id:fetch", function(response, options) {
                m_alert.hide();
                self._render_info(response);
            }).on("error:get_date_by_date_id:fetch", function(response, options) {
                m_alert.hide();
            }).on("complete:get_date_by_date_id:fetch", function(response, options) {});
            self.on("update_info", function() {
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.refresh();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        _render_info: function(response) {
            var self = this;
            var responses = response.result_data;
            var html_str = info_tpl(responses.data);
            self.$srcoll_wrapper.html(html_str);
            self.trigger("update_info");
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$srcoll_wrapper = self.$('[data-role="scroll_wrapper"]');
            self.date_id = self.get("date_id");
            // 安装事件
            self._setup_events();
            self.refresh(self.date_id);
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        refresh: function(date_id) {
            var self = this;
            utility.user.get_date_by_date_id(date_id);
        }
    });
    module.exports = complete_application_view;
});

define("pai/wx-1.1.0/model_date/complete_application/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="procedure-finish secondary">\r\n\r\n<!--     <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        模特约拍\r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">模特约拍</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body">\r\n        <div data-role="scroll_wrapper">\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n</main>';
    });
});

define("pai/wx-1.1.0/model_date/complete_application/tpl/info-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            return '\r\n        <div class="notice-one">约拍已失效</div>\r\n        ';
        }
        function program3(depth0, data) {
            return '\r\n        <div class="notice-one">祝贺你，模特已经接受邀请。</div>\r\n    ';
        }
        function program5(depth0, data) {
            return "fn-hide";
        }
        function program7(depth0, data) {
            var stack1;
            return escapeExpression((stack1 = depth0 && depth0.code, typeof stack1 === functionType ? stack1.apply(depth0) : stack1));
        }
        function program9(depth0, data) {
            return escapeExpression(typeof depth0 === functionType ? depth0.apply(depth0) : depth0);
        }
        buffer += '\r\n\r\n<div class="procedure-page-wrap" style="padding-bottom:40px">\r\n<div class="procedure-header-mod">\r\n    <ul class="step">\r\n        <li>提交约拍申请</li>\r\n        <li>模特接受约拍</li>\r\n        <li class="current">拍摄/完成</li>\r\n    </ul>\r\n    <ul class="num">\r\n        <li class="common">\r\n            <i class="num-icon">1</i>\r\n            <div class="line-grey"></div>\r\n            <div class="line-red"></div>\r\n        </li>\r\n        <li class="common">\r\n            <i class="num-icon">2</i>\r\n            <div class="line-grey"></div>\r\n            <div class="line-red"></div>\r\n        </li>\r\n        <li class="common current">\r\n            <i class="num-icon">3</i>\r\n            <div class="line-grey"></div>\r\n            <div class="line-red"></div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n<div class="icon-yes"><i class="icon icon-success-60x60"></i></div>\r\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.event_status, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n<div class="details-content ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.event_status, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="nav-to-model" data-model-id="';
        if (helper = helpers.to_date_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.to_date_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-date_id="';
        if (helper = helpers.date_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">\r\n    <div class="details-content-top">\r\n        <i class="icon icon-time-48x46 icon-one"></i>\r\n        <div class="middle">\r\n            <p>模特：</p><p data-role="finish-date-name">';
        if (helper = helpers.model_nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.model_nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n            <p>时间：</p><p data-role="finish-date-time">';
        if (helper = helpers.date_time) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_time;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n        </div>\r\n        <i class="icon icon-r-16x26-cur icon-two"></i>\r\n    </div>\r\n    <div class="details-content-bot">\r\n        <p>密码：</p>\r\n        <p class="pw" data-role="finish-date-pw">';
        stack1 = helpers.each.call(depth0, depth0 && depth0.code, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</p>\r\n        <img class="ewm" data-role="finish-date-ewm" src="';
        stack1 = helpers.each.call(depth0, depth0 && depth0.qr_code, {
            hash: {},
            inverse: self.noop,
            fn: self.program(9, program9, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '"/>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="details-notice ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.event_status, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '">\r\n    <p>约拍三步走：</p>\r\n    <p>第一步，出示交易二维码或密码</p>\r\n    <p>第二步，模特扫描，开始私拍</p>\r\n    <p>第三步，给模特进行评价</p>\r\n</div>\r\n</div>';
        return buffer;
    });
});

/**
 * 我的
 * hudw 2014.8.30
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/mine/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/model-debug", "pai/wx-1.1.0/mine/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var mine = require("pai/wx-1.1.0/mine/model-debug");
    var mine_view = require("pai/wx-1.1.0/mine/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    page_control.add_page([ function() {
        return {
            title: "我的",
            route: {
                "mine(/:payment_no)": "mine"
            },
            transition_type: "none",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var user_id = route_params_arr[0];
                //角色分支
                if (utility.user.get("role") == "model") {
                    utility.user.set("is_model", true);
                    utility.user.set("is_cameraman", false);
                    utility.user.set("notice_list", "model_notice_list");
                } else {
                    utility.user.set("is_model", false);
                    utility.user.set("is_cameraman", true);
                    utility.user.set("notice_list", "cameraman_notice_list");
                }
                self.mine_view_obj = new mine_view({
                    model: utility.user,
                    parentNode: self.$el,
                    templateModel: utility.user
                }).render();
            },
            page_before_show: function() {
                var self = this;
                if (self.mine_view_obj) {
                    if (utility.user) {
                        utility.user.off("before:get_info:fetch");
                    }
                    self.mine_view_obj.refresh(true);
                }
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 我的 视图
 * hudw 2014.8.30
 */
define("pai/wx-1.1.0/mine/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var main_tpl = require("pai/wx-1.1.0/mine/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var pull_down = require("pai/wx-1.1.0/widget/pull_down/view-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var mine_view = View.extend({
        attrs: {
            template: main_tpl
        },
        events: {
            // 调试模式，后门开启
            'tap [data-role="debug-header"]': function() {},
            swiperight: function() {},
            "tap [data-role=page-back]": function(ev) {},
            'tap [data-role="nav-to-login"]': function() {
                utility.stat_action({
                    tj_point: "touch",
                    tj_touch_type: "login"
                });
                page_control.navigate_to_page("account/login");
            },
            'tap [data-role="nav-to-zone"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                if ($(ev.srcElement).hasClass("head-icon")) {}
                var role = self.model.get("role");
                if (role == "cameraman") {
                    return;
                    page_control.navigate_to_page("zone/" + self.model.get("user_id") + "/cameraman");
                } else {
                    //page_control.navigate_to_page('zone/'+self.model.get('user_id')+'/model');
                    //page_control.navigate_to_page('model_date/model_card/edit_all');
                    page_control.navigate_to_page("model_date/model_card/edit_all");
                }
            },
            'tap [data-role="act"]': function() {
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                page_control.navigate_to_page("mine/status");
            },
            /**
             * 约拍列表
             */
            'tap [data-role="date"]': function() {
                var self = this;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                page_control.navigate_to_page("mine/consider");
            },
            /**
             * 活动劵
             */
            'tap [data-role="nav-to-security"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                page_control.navigate_to_page("act/security");
            },
            /**
             * 提现
             */
            'tap [data-role="get-money-btn"]': function() {
                var self = this;
                //没有绑定手机前不能提现
                if (self.phone && self.phone != "") {
                    page_control.navigate_to_page("mine/money/withdrawal");
                } else if (self.phone == "") {
                    m_alert.show("请先绑定手机", "error");
                    setTimeout(function() {
                        page_control.navigate_to_page("account/register/bind_phone");
                    }, 1e3);
                }
            },
            /**
             * 充值
             */
            'tap [data-role="add-value-btn"]': function() {
                var self = this;
                page_control.navigate_to_page("mine/money/recharge/0");
            },
            'tap [data-role="setup"]': function() {
                return;
                page_control.navigate_to_page("account/setup");
            },
            'tap [data-role="identity_money"]': function() {
                page_control.navigate_to_page("mine/credit", {
                    available_balance: utility.user.get("available_balance")
                });
            },
            'tap [data-role="show-chat-list"]': function() {
                var self = this;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                if (!App.isPaiApp) {
                    console.warn("no App");
                    return;
                }
                App.show_chat_list();
            },
            'tap [data-role="nav-to-login"]': function() {
                page_control.navigate_to_page("account/login");
            },
            'tap [data-role="to-be-model-btn"]': function() {
                var self = this;
                if (confirm("请再次确认，身份暂不支持修改哦。")) {
                    window.role = "model";
                    page_control.navigate_to_page("account/login/model");
                }
            },
            'tap [data-role="to-bill"]': function() {
                page_control.navigate_to_page("mine/money/bill");
            },
            'tap [data-role="credit-level"]': function() {
                page_control.navigate_to_page("mine/authentication_list");
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.model.on("before:get_info:fetch", function() {
                self.$avaliable_balance.html("金额读取中...");
            }).on("success:get_info:fetch", function(response) {
                if (self.pull_down_obj) {
                    self.pull_down_obj.set_pull_down_style("loaded");
                }
                self.phone = response.result_data.data.phone;
                self.render_info(response);
                self.render_role_items();
                if (!self.refresh_from_before) {
                    // 重置下拉
                    self._drop_reset();
                }
            }).on("error:get_info:fetch", function() {
                //m_alert.show('网络异常','error',{delay:1000});
                self.$avaliable_balance.html("数据加载失败");
            });
            self.once("render", function() {
                self.is_rendered = true;
                if (!self.footer_obj) {
                    self._setup_footer();
                }
            });
        },
        render_info: function(response) {
            var self = this;
            utility.user.update_user(response.result_data.data);
            self.$avaliable_balance.html("￥" + utility.user.get("available_balance"));
            //解决头像不闪 2014-12-4 nolest
            var img_obj = new Image();
            img_obj.src = utility.user.get("user_icon");
            img_obj.onload = function() {
                self.$login_info.find('[data-role="head-icon"]').find("i").css("background-image", "url(" + utility.user.get("user_icon") + ")");
            };
            self.$login_info.find('[data-role="user-name"]').html(utility.user.get("nickname"));
            self.$login_info.find('[data-role="location-name"]').html(utility.user.get("city_name"));
            if (utility.user.get("ticket_num") > 0) {
                self.$('[data-role="notice_security_container"]').removeClass("fn-hide");
                self.$('[data-role="notice_security_num"]').html(utility.user.get("ticket_num"));
            } else {
                self.$('[data-role="notice_security_container"]').addClass("fn-hide");
                self.$('[data-role="notice_security_num"]').html(0);
            }
            /*var time = 200;

            self._reset_scroll_to(time);*/
            if (!self.view_scroll_obj) {
                //主要滚动条
                self._setup_scroll(utility.auth.is_login() ? false : true);
                self.view_scroll_obj.refresh();
                return;
            }
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function(is_hide_dropdown) {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                _startY: 45,
                is_hide_dropdown: is_hide_dropdown
            });
            self.view_scroll_obj = view_scroll_obj;
            // 下拉完成
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            self.footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_my_pai: true
                }
            }).render();
        },
        /**
         *
         * @private
         */
        _setup_pull_down: function() {
            var self = this;
            self.pull_down_obj = new pull_down({
                parentNode: self.$refresh_top_bar,
                templateModel: {
                    top: -65
                }
            }).render();
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 安装事件
            self._setup_events();
            self.recent_icon_url = "";
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.mid_container = self.$("[data-role=scoll-wrapper]");
            self.$avaliable_balance = self.$('[data-role="availiable-balance"]');
            self.$login_info = self.$('[data-role="login-info"]');
            self.$no_login_info = self.$('[data-role="no-login-info"]');
            self.$setup_btn = self.$('[data-role="setup"]');
            self.$change_role_btn = self.$('[data-role="change-btn"]');
            self.$refresh_top_bar = self.$("[data-role=refresh-bar-container]");
            self.$appver_update_point = self.$("[data-appver-update-point]");
            //self._setup_pull_down();
            self.render_role_items();
            // 检查是否有红点更新
            App.isPaiApp && App.app_info(function(data) {
                if (utility.int(data.appupdate) == 1) {
                    self.$appver_update_point.removeClass("fn-hide");
                } else {
                    self.$appver_update_point.addClass("fn-hide");
                }
            });
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        refresh: function(tag) {
            var self = this;
            if (utility.auth.is_login()) {
                self.model.get_info();
                self.refresh_from_before = tag;
                self.$login_info.removeClass("fn-hide");
                self.$no_login_info.addClass("fn-hide");
            } else {
                self.$no_login_info.removeClass("fn-hide");
                self.$login_info.addClass("fn-hide");
            }
        },
        render_role_items: function() {
            var self = this;
            var role = utility.user.get("role");
            if (utility.user.get("role") == "cameraman") {} else if (utility.user.get("role") == "model") {}
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 50;
        },
        _pull_refresh: function() {
            var self = this;
            self.pull_down_obj.set_pull_down_style("loading");
            self.view_scroll_obj.minScrollY = 60;
            self.view_scroll_obj.scrollTo(0, 60);
            self.refresh();
        },
        _reset_scroll_to: function(time) {
            var self = this;
            self.view_scroll_obj.minScrollY = 0;
            self.view_scroll_obj.scrollTo(0, 0, time);
        }
    });
    module.exports = mine_view;
});

define("pai/wx-1.1.0/mine/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            var buffer = "";
            return buffer;
        }
        function program3(depth0, data) {
            return "fn-hide";
        }
        buffer += '\r\n<main role="main" class="mine wryh">\r\n    <header class="nav-header my-zone-header" data-role="debug-header">\r\n        <div class="left-button-wrap">\r\n\r\n        </div>\r\n        <h3 class="title">我的</h3>\r\n\r\n        <div class="right-button-wrap" data-role="setup">\r\n            <i class="circle-mod fn-hide" data-appver-update-point="1"></i>\r\n            <a><!-- <i class="icon icon-my-edit-m"></i> --></a>\r\n        </div>\r\n    </header>\r\n\r\n    <div class="content-body " data-role="container" style="height: 100%">\r\n        <div data-role="scoll-wrapper" style="height: 100%;">\r\n                <div data-role="refresh-bar-container" class="refresh-bar-container fn-hide" >\r\n\r\n                </div>\r\n\r\n                    <section class="group-user-info mt20  ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_login, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="login-info">\r\n                        <ul>\r\n\r\n\r\n                            <!-- <li class="item head-icon-item fn-hide" data-role="nav-to-zone" data-role-name="cameraman">\r\n                                <div data-role="zone" class="zone">\r\n                                    <i class="icon icon-home-s"></i>\r\n                                    <span>空间</span>\r\n                                </div>\r\n                                <div data-role="head-icon" class="head-img">\r\n                                    <i class="img circle-img head-icon" style="background-image:url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\');"></i>\r\n                                </div>\r\n                                <div class="name-and-location">\r\n                                    <div class="user-name" data-role="user-name">';
        if (helper = helpers.nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n                                    <div class="location">\r\n                                        <i class="icon icon-place"></i>\r\n                                        <span data-role="location-name">';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</span>\r\n                                    </div>\r\n                                </div>\r\n                            </li> -->\r\n\r\n\r\n                            <li class="item head-icon-item model position" data-role="nav-to-zone" data-role-name="cameraman" >\r\n                                <div data-role="head-icon" class="head-img">\r\n                                    <i class="img circle-img head-icon" style="background-image:url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\');"></i>\r\n                                </div>\r\n                                <div class="name-and-location">\r\n                                    <div class="user-name" data-role="user-name">';
        if (helper = helpers.nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n                                    <div class="location">\r\n                                       <!--  <i class="icon icon-place"></i> -->\r\n                                        <span data-role="location-name">';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div data-role="edit-model-car" class="edit-model-car" >\r\n                                    <!-- 更新模特卡 -->\r\n                                    <i class="icon icon-r fn-hide"></i>\r\n                                </div>\r\n                            </li>\r\n\r\n\r\n                            <li class="item head-icon-item model position fn-hide" data-role="nav-to-zone" data-role-name="model" >\r\n                                <div data-role="head-icon" class="head-img">\r\n                                    <i class="img circle-img head-icon" style="background-image:url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\');"></i>\r\n                                </div>\r\n                                <div class="name-and-location">\r\n                                    <div class="user-name" data-role="user-name">';
        if (helper = helpers.nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n                                    <div class="location">\r\n                                       <!--  <i class="icon icon-place"></i> -->\r\n                                        <span data-role="location-name">';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div data-role="edit-model-car" class="edit-model-car">\r\n                                    更新模特卡\r\n                                    <i class="icon icon-r"></i>\r\n                                </div>\r\n                            </li>\r\n\r\n\r\n\r\n                            <li class="item balance-item balance-item-h">\r\n                                <div data-role="avaliable-banace" class="avaliable-banace">\r\n                                    <p class="money" ><label data-role="availiable-balance">金额读取中...</label></p>\r\n                                    <p class="text">钱包</p>\r\n                                </div>\r\n\r\n                                    <button  data-role="get-money-btn"   class="fn-hide add-btn ui-button ui-button-primary ui-button-size-min ui-button-block ">\r\n                                        <span class="ui-button-content">提现</span>\r\n                                    </button>\r\n\r\n                                    <button   data-role="add-value-btn"   class="fn-hide add-btn ui-button ui-button-primary ui-button-size-min ui-button-block ">\r\n                                        <span class="ui-button-content">充值</span>\r\n                                    </button>\r\n\r\n                                <button data-role="to-bill"  class="add-btn ui-button ui-button-primary ui-button-size-min ui-button-block ">\r\n                                    <span class="ui-button-content">账单</span>\r\n                                </button>\r\n\r\n\r\n\r\n                            </li>\r\n                        </ul>\r\n                    </section>\r\n\r\n                    <section class="welcome ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_login, {
            hash: {},
            inverse: self.program(1, program1, data),
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '" data-role="no-login-info">\r\n                        <h3>欢迎来到约约</h3>\r\n                        <button class="ui-button ui-button-primary ui-button-size-large ui-button-block" data-role="nav-to-login">\r\n                            <span class="ui-button-content">登录</span>\r\n                        </button>\r\n\r\n                        \r\n                    </section>\r\n\r\n                    <section class="group-user-info group-user-info-list-other mt20" >\r\n                        <ul id="';
        if (helper = helpers.notice_list) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.notice_list;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-role="ui-mine-msg-container">\r\n                            <li class="item" data-role="date">\r\n                                <div class="container">\r\n                                    <div class="date left-icon">\r\n                                        <i class="icon icon-camera-s"></i>\r\n                                        约拍订单\r\n                                    </div>\r\n                                    <i class="icon icon-r"></i>\r\n                                    <div class="num-box fn-hide" data-role="notice_date_num">0</div>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li class="item" >\r\n                                <div class="container" data-role="act">\r\n                                    <div class="act left-icon">\r\n                                        <i class="icon icon-package-s"></i>\r\n                                        外拍订单\r\n                                    </div>\r\n                                    <i class="icon icon-r"></i>\r\n                                    <div class="num-box fn-hide" data-role="notice_act_num">0</div>\r\n                                </div>\r\n\r\n                            </li>\r\n\r\n\r\n                            <!-- <li class="item fn-hide" data-role="identity_money" data-role-name="cameraman">\r\n                                <div class="container">\r\n                                    <div class="identity_money">\r\n                                        <i class="icon icon-identity"></i>\r\n                                        个人信用度\r\n                                    </div>\r\n                                    <i class="icon icon-r"></i>\r\n                                </div>\r\n                            </li> -->\r\n\r\n\r\n                            <li class="item fn-hide" data-role="show-chat-list">\r\n                                <div class="container">\r\n                                    <div class="msg">\r\n                                        <i class="icon icon-letter-s"></i>\r\n                                        消息\r\n                                    </div>\r\n                                    <i class="icon icon-r"></i>\r\n                                    <div class="num-box fn-hide" data-role="notice_msg_num">0</div>\r\n                                </div>\r\n                            </li>\r\n                            <li class="item" data-role="nav-to-security">\r\n                                <div class="container no-border-style">\r\n                                    <div class="act_volume left-icon">\r\n                                        <i class="icon icon-volume-s"></i>\r\n                                        二维码签到券\r\n                                    </div>\r\n                                    <i class="icon icon-r"></i>\r\n                                    <div class="num-box-2 fn-hide" data-role="notice_security_container">还有<span class="color"><i data-role="notice_security_num">0</i></span>张二维码未扫</div>\r\n                                </div>\r\n                            </li>\r\n\r\n\r\n                            \r\n\r\n\r\n                        </ul>\r\n                    </section>\r\n\r\n\r\n                    <section class="group-user-info fn-hide mt20" data-role="credit-level">\r\n                            <li class="item" data-role="">\r\n                                <div class="container no-border-style">\r\n                                    <div class="act_volume left-icon">\r\n                                        <i class="icon icon-credit-level-m"></i>\r\n                                        信用等级\r\n                                    </div>\r\n                                    <i class="icon icon-r"></i>\r\n                                </div>\r\n                            </li>\r\n                    </section>\r\n\r\n\r\n            <section class="group-user-info fn-hide" data-role="change-btn">\r\n                <button data-role="to-be-model-btn" class="add-btn ui-button ui-button-size-min ui-button-block " style="background: #ff0052;color: white;width: 200px;margin: 30px auto;">\r\n                    <span class="ui-button-content">我要当模特</span>\r\n                </button>\r\n            </section>\r\n\r\n\r\n                    <section class="group-user-info fn-hide" data-role="upload_mutiply">\r\n                        <div data-role="upload_imgs fn-hide" style="width: 80px;height: 80px;background: #f90;text-align: center;line-height: 80px;color:#fff;">上传单图片</div>\r\n                        <div data-role="upload_m_imgs fn-hide" style="width: 80px;height: 80px;background: #666;text-align: center;line-height: 80px;color:#fff;">多图zip</div>\r\n                        <div data-role="upload_m_imgs_no_zip fn-hide" style="width: 80px;height: 80px;background: #ff0052;text-align: center;line-height: 80px;color:#fff;">多图非zip</div>\r\n                    </section>\r\n                    <section class="group-user-info fn-hide" data-role="upload_mutiply">\r\n                        <div data-role="imgs_container"></div>\r\n                    </section>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</main>\r\n';
        return buffer;
    });
});

/**
 * 我的zone
 * hudw 2014.9.8
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/mine/zone/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/zone/cameraman_view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/mine/model-debug", "pai/wx-1.1.0/ui/mine-popup/index-debug", "pai/wx-1.1.0/ui/popup/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/mine/zone/model_view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var zone_cameraman_view = require("pai/wx-1.1.0/mine/zone/cameraman_view-debug");
    var zone_model_view = require("pai/wx-1.1.0/mine/zone/model_view-debug");
    var model = require("pai/wx-1.1.0/mine/model-debug");
    page_control.add_page([ function() {
        return {
            title: "我的空间",
            route: {
                "zone/:user_id/:role": "zone"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var user_id = route_params_arr[0];
                if (route_params_arr[1] == "model") {
                    self.zone_model_view_obj = new zone_model_view({
                        parentNode: self.$el,
                        //model : model_obj,
                        model: utility.user,
                        user_id: user_id
                    }).render();
                } else {
                    self.zone_cameraman_view_obj = new zone_cameraman_view({
                        parentNode: self.$el,
                        //model : model_obj,
                        user_id: user_id,
                        is_myself: utility.user.get("user_id") == user_id
                    }).render();
                }
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 我的zone 视图
 * hudw 2014.9.8
 */
define("pai/wx-1.1.0/mine/zone/cameraman_view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/mine/model-debug", "pai/wx-1.1.0/ui/mine-popup/index-debug", "pai/wx-1.1.0/ui/popup/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/mine/zone/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var info_tpl = require("pai/wx-1.1.0/mine/zone/tpl/info-debug.handlebars");
    var mine_model = require("pai/wx-1.1.0/mine/model-debug");
    var mine_popup = require("pai/wx-1.1.0/ui/mine-popup/index-debug");
    var grid = require("pai/wx-1.1.0/widget/model_pic/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var mine_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            'tap [data-role="page-back"]': function() {
                page_control.back();
            },
            'tap [data-role="show-pop"]': function() {
                var self = this;
                if (!self.get("is_myself")) {
                    return;
                }
                if (!utility.auth.is_login()) {
                    alert("尚未登录");
                    return;
                }
                if (!self.mine_Popup) {
                    self.mine_Popup = new mine_popup({
                        uid: utility.user.get("user_id"),
                        items: {
                            edit: true,
                            report: false
                        }
                    }).show();
                } else {
                    self.mine_Popup.show();
                }
            },
            swiperight: function() {
                page_control.back();
            },
            'tap [data-role="follow"]': function() {
                var self = this;
                page_control.navigate_to_page("account/fans_follows/" + self.get("user_id") + "/follow");
            },
            'tap [data-role="fans"]': function() {
                var self = this;
                page_control.navigate_to_page("account/fans_follows/" + self.get("user_id") + "/fans");
            },
            'tap [data-role="user-info"]': function() {
                var self = this;
                // 只有点击自己的头像才是修改
                // hudw 2014.12.4
                if (self.get("user_id") == utility.user.get("user_id")) {
                    page_control.navigate_to_page("mine/profile");
                }
            },
            'tap [data-role="go-comment"]': function() {
                var self = this;
                console.log(utility.user.get("role"));
                page_control.navigate_to_page("comment/list/cameraman/" + self.get("user_id") + "/0");
            },
            /**
             * 点击查看轮播图
             * @param ev
             */
            "tap [data-role=grid-pic-container]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                // 当前图片
                var cur_alumn_img = $cur_btn.attr("data-alumn-img");
                // 所有图片
                var $total_alumn_img = self.$("[data-role=grid-pic-container]");
                var total_alumn_img_arr = [];
                $total_alumn_img.each(function(i, obj) {
                    total_alumn_img_arr.push({
                        url: $(obj).attr("data-alumn-img"),
                        text: ""
                    });
                });
                // 当前图片索引
                var index = $total_alumn_img.index($cur_btn);
                // 轮播图数据
                var data = {
                    img_arr: total_alumn_img_arr,
                    index: index
                };
                console.log(data);
                if (!App.isPaiApp) {
                    console.log("no App");
                    return;
                }
                App.show_alumn_imgs(data);
            },
            //大笨象弹窗口
            'tap [data-role="pop-dabenxiang-cameraman"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("fn-hide");
                utility.storage.set("pop-dabenxiang-cameraman", 1);
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            //大笨象
            /*if(utility.storage.get('pop-dabenxiang-cameraman'))
            {
                self.$('[data-role="pop-dabenxiang-cameraman"]').addClass('fn-hide');
            }*/
            self.model.on([ "change:nickname", "change:pic_arr", "change:user_icon" ].join(" "), function() {
                // 只有编辑自己时才触发
                if (self.model.get("user_id") == utility.user.get("user_id")) {
                    self._render_info(utility.user.toJSON());
                    //监听编辑页修改
                    setTimeout(function() {
                        self.view_scroll_obj.reset_top();
                        self.view_scroll_obj.resetLazyLoad();
                        self.view_scroll_obj.refresh();
                    }, 500);
                }
            }).on("success:get_zone_info:fetch", function(response) {
                self._render_info(response.result_data.data);
            });
            self.on("update_info", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                if (!self.view_scroll_obj) {
                    //主要滚动条
                    self._setup_scroll();
                    self._drop_reset();
                    self.view_scroll_obj.reset_top();
                }
                self._drop_reset();
                self.view_scroll_obj.resetLazyLoad();
                self.view_scroll_obj.reset_top();
                self.view_scroll_obj.refresh();
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        /**
         * 渲染内容
         * @param response
         * @private
         */
        _render_info: function(data) {
            var self = this;
            var html_str = info_tpl(data);
            self.$info_container.html(html_str);
            //var art_imgs = self.model.get('zone_info').model_pic;
            var art_imgs = [];
            var pic_arr = data && data.pic_arr;
            for (var i = 0; i < pic_arr.length; i++) {
                var type;
                if ((i + 2) % 3 == 0) {
                    type = "middle";
                } else {
                    type = "one";
                }
                art_imgs.push({
                    type: type,
                    user_icon: pic_arr[i].user_icon,
                    big_user_icon: pic_arr[i].big_user_icon
                });
            }
            if (art_imgs.length > 0) {
                var grid_list_view = new grid({
                    // 模板参数对象
                    templateModel: {
                        tpl_data: art_imgs,
                        tpl_type: "one"
                    }
                }).render();
                self.$info_container.find("[data-role=grid-container]").html(grid_list_view.list());
            }
            self.trigger("update_info");
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$info_container = self.$('[data-role="info"]');
            // 空间信息容器
            self.$setup_btn = self.$('[data-role="show-pop"]');
            if (self.get("is_myself")) {
                self.$setup_btn.find("a").removeClass("fn-hide");
                self.model = utility.user;
            } else {
                self.model = new mine_model({
                    user_id: self.get("user_id")
                });
            }
            // 安装事件
            self._setup_events();
            // 刷新
            self.refresh();
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        refresh: function() {
            var self = this;
            self.model.get_zone_info("cameraman", self.get("user_id"));
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = mine_view;
});

define("pai/wx-1.1.0/mine/zone/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="zone wryh">\r\n\r\n\r\n\r\n    <header class="nav-header mine-model-car-header zone-cameraman-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">空间</h3>\r\n        \r\n        <div class="right-button-wrap" data-role="show-pop">\r\n            <a class="fn-hide"><i class="circle-min"></i><i class="circle-min"></i><i class="circle-min"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n\r\n    <div class="content-body " data-role="container" >\r\n        <div data-role="info">\r\n\r\n        </div>\r\n\r\n        \r\n\r\n    </div>\r\n\r\n    <!-- 大笨像 -->\r\n        <div class="pop-max-dabenxiang fn-hide" data-role="pop-dabenxiang-cameraman" style="background-image:url(../mobile/images/pop-modelcar-tips.png);background-size:80%;background-repeat:no-repeat;background-position:50%">\r\n        </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/mine/zone/tpl/info-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            return buffer;
        }
        function program2(depth0, data) {
            return '\r\n                            <i class="icon icon-red"></i>\r\n                        ';
        }
        function program4(depth0, data) {
            return '\r\n                            <i class="icon icon-grey"></i>\r\n                        ';
        }
        buffer += '<section class="group-items no-top " style="border:none" >\r\n    <ul>\r\n        <li data-role="grid-container" class="grid-pic-content" >\r\n\r\n        </li>\r\n    </ul>\r\n</section>\r\n<section class="group-items no-top" >\r\n    <ul>\r\n        <li data-role="user-info" class="item user-info">\r\n            <div data-role="head-icon" class="head-icon-items">\r\n                <i class="img circle-img head-icon" style="background-image:url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\');"></i>\r\n                <div class="user-name">';
        if (helper = helpers.nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</section>\r\n<section class="group-items no-top" >\r\n    <ul>\r\n        <li class="item rel-count">\r\n            <div data-role="follow" class="counts">\r\n                <em>';
        if (helper = helpers.follow) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.follow;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</em>\r\n                关注\r\n            </div>\r\n            <div data-role="meber-lv" class="counts">\r\n                <em>VIP_';
        if (helper = helpers.user_level) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_level;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</em>\r\n                会员等级\r\n            </div>\r\n            <div data-role="fans" class="counts fn-hide">\r\n                <em>';
        if (helper = helpers.fans) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.fans;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</em>\r\n                粉丝\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</section>\r\n<section class="group-items ">\r\n    <ul>\r\n        <li data-role="items " class="item location">\r\n            <div class="container"  >\r\n                <div class="com">\r\n                    <span class="txt">地区 : ';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        <li data-role="items " class="item score">\r\n            <div class="container"  data-role="go-comment">\r\n                <div class="com">\r\n                    <span class="txt">评价 : </span>\r\n                    ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.comment_stars_list, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                    <span class="red">';
        if (helper = helpers.comment_score) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.comment_score;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '分</span>\r\n                </div>\r\n                <div>\r\n                        <span class="">';
        if (helper = helpers.comment_num) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.comment_num;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '人评价\r\n                            <i class="icon icon-r"></i>\r\n                        </span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n        <li data-role="items" class="item score">\r\n            <div class="container no-border-style">\r\n                <div class="com">\r\n                    <span>出勤率 : </span>\r\n                    ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.attendance_stars_list, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                    <span class="red">';
        if (helper = helpers.attendance) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.attendance;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '%</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</section>\r\n<section class="group-items fn-hide" style="padding-bottom: 45px;">\r\n    <ul>\r\n        <li data-role="items photo-lv-container" class="item photo-lv">\r\n            <div class="name">摄影等级：</div>\r\n            <div class="txt">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.zone_info, 
        stack1 == null || stack1 === false ? stack1 : stack1.intro), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</div>\r\n        </li>\r\n    </ul>\r\n</section>";
        return buffer;
    });
});

/**
 * 我的zone 视图
 * hudw 2014.9.8
 */
define("pai/wx-1.1.0/mine/zone/model_view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/mine/zone/tpl/model_main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var grid = require("pai/wx-1.1.0/widget/model_pic/view-debug");
    var info_tpl = require("pai/wx-1.1.0/mine/zone/tpl/model_info-debug.handlebars");
    var mine_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            'tap [data-role="bar-swt"]': function(ev) {
                var self = this;
                if (self.$style_list.hasClass("fn-hide")) {
                    self.$style_list.removeClass("fn-hide");
                    self.$bottom_info.addClass("fn-hide");
                    self.$bar_sty.addClass("bar-hover");
                } else {
                    self.$bottom_info.removeClass("fn-hide");
                    self.$style_list.addClass("fn-hide");
                    self.$bar_sty.removeClass("bar-hover");
                }
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="page-back"]': function() {
                var self = this;
                page_control.back();
            },
            'tap [data-role="edit"]': function() {
                var self = this;
                page_control.navigate_to_page("model_date/model_card/edit_all");
            },
            swiperight: function() {
                page_control.back();
            },
            /**
             * 点击查看轮播图
             * @param ev
             */
            "tap [data-role=grid-pic-container]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                // 当前图片
                var cur_alumn_img = $cur_btn.attr("data-alumn-img");
                // 所有图片
                var $total_alumn_img = self.$("[data-role=grid-pic-container]");
                var total_alumn_img_arr = [];
                $total_alumn_img.each(function(i, obj) {
                    total_alumn_img_arr.push({
                        url: $(obj).attr("data-alumn-img"),
                        text: ""
                    });
                });
                // 当前图片索引
                var index = $total_alumn_img.index($cur_btn);
                // 轮播图数据
                var data = {
                    img_arr: total_alumn_img_arr,
                    index: index
                };
                console.log(data);
                if (!App.isPaiApp) {
                    console.log("no App");
                    return;
                }
                App.show_alumn_imgs(data);
            },
            //大笨象弹窗口
            'tap [data-role="pop-dabenxiang-model"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("fn-hide");
                utility.storage.set("pop-dabenxiang-model", 1);
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            //大笨象
            if (utility.storage.get("pop-dabenxiang-model")) {
                self.$('[data-role="pop-dabenxiang-model"]').addClass("fn-hide");
            }
            self._render_info();
            self.model.on("change", function() {
                self._render_info();
            });
            self.on("update_info", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                if (!self.view_scroll_obj) {
                    //主要滚动条
                    self._setup_scroll();
                    self.view_scroll_obj.scrollTo(0, 0);
                    self.view_scroll_obj.resetLazyLoad();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 渲染内容
         * @param response
         * @private
         */
        _render_info: function(response) {
            var self = this;
            console.log(self.model.toJSON());
            var html_str = info_tpl(self.model.toJSON());
            self.$info_container.html(html_str);
            var art_imgs = [];
            var pic_arr = utility.user.get("pic_arr");
            for (var i = 0; i < pic_arr.length; i++) {
                var type;
                if ((i + 2) % 3 == 0) {
                    type = "middle";
                } else {
                    type = "one";
                }
                art_imgs.push({
                    type: type,
                    user_icon: pic_arr[i].img,
                    big_user_icon: pic_arr[i].big_user_icon
                });
            }
            if (art_imgs.length > 0) {
                var grid_list_view = new grid({
                    // 模板参数对象
                    templateModel: {
                        tpl_data: art_imgs,
                        tpl_type: "1l1m1r"
                    }
                }).render();
                self.$info_container.find("[data-role=grid-container]").html(grid_list_view.list());
            }
            self.trigger("update_info");
            self.$style_list = self.$('[data-role="style"]');
            self.$bottom_info = self.$('[data-role="bottom-info"]');
            self.$bar_sty = self.$('[data-role="bar-swt"]');
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$info_container = self.$('[data-role="info"]');
            // 空间信息容器
            // 安装事件
            self._setup_events();
            // 刷新
            self.refresh();
        },
        refresh: function() {
            var self = this;
            self.model.get_zone_info("model", utility.int(self.get("user_id")));
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = mine_view;
});

define("pai/wx-1.1.0/mine/zone/tpl/model_main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="zone wryh">\r\n            <header class="nav-header mine-model-car-header">\r\n                <div class="left-button-wrap" data-role="page-back">\r\n                    <a><i class="icon icon-back"></i></a>\r\n                </div>\r\n\r\n                <h3 class="title">模特卡</h3>\r\n                \r\n                <div class="right-button-wrap" data-role="edit">\r\n                    <a><i class="circle-min"></i><i class="circle-min"></i><i class="circle-min"></i></a>\r\n                </div>\r\n            </header>  \r\n    <div class="content-body " data-role="container" style="">\r\n        <div  data-role="info">\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 大笨像 -->\r\n        <div class="pop-max-dabenxiang" data-role="pop-dabenxiang-model" style="background-image:url(../mobile/images/pop-modelcar-tips.png);background-size:80%;background-repeat:no-repeat;background-position:50%">\r\n        </div>\r\n\r\n</main>';
    });
});

define("pai/wx-1.1.0/mine/zone/tpl/model_info-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                                <div class="item">\r\n                                    <div class="lbox">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                                    <div class="rbox"><span class="cor">￥';
            if (helper = helpers.price) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.price;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span> <span class="font">/小时</span></div>\r\n                                </div>\r\n                            ';
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                                ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(6, program6, data),
                fn: self.program(4, program4, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                            ";
            return buffer;
        }
        function program4(depth0, data) {
            return '\r\n                                    <i class="icon icon-red"></i>\r\n                                ';
        }
        function program6(depth0, data) {
            return '\r\n                                    <i class="icon icon-grey"></i>\r\n                                ';
        }
        buffer += '            <div class="mine-model-car">\r\n                    <ul>\r\n                        <li data-role="grid-container" class="grid-pic-content" >\r\n\r\n                        </li>\r\n                    </ul>\r\n       \r\n                <ul class="bar  "  data-role="bar-swt"  style="clear:both">  <!-- bar-hover -->\r\n                    <li  data-role="yuepai">\r\n                        <i class="icon icon-r-16x26-white"></i>我的约拍条件\r\n                    </li>\r\n\r\n                </ul>\r\n\r\n                <!-- 弹窗口  -->\r\n                <div class="pop-info fn-hide" data-role="style">\r\n                    <div class="wrap-box">\r\n                        <div class="box1">摄影师信用金要求：￥';
        if (helper = helpers.cameraman_require) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.cameraman_require;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n                        <div class="box2">请选择拍摄风格</div>\r\n                        <div class="list-des clearfix">\r\n                            ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.model_style, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div data-role="bottom-info">\r\n                    <div class="wrap-box">\r\n                        <div class="com">评价 :\r\n                            ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.stars, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n                            <span class="red">';
        if (helper = helpers.score) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.score;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '分</span></div>\r\n                        <div class="num">拍片次数  ';
        if (helper = helpers.take_photo_times) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.take_photo_times;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + ' <!-- <i class="icon icon-r"></i> --></div>\r\n                    </div>\r\n\r\n                    <div class="img-area" >\r\n\r\n                        <div class="avatar-size-mod avatar-size-mod-50">\r\n                            <span class="icon avatar-size-area"></span>\r\n                            <i class="avatar-size-img" style="background-image: url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\'); background-size:cover;background-repeat: no-repeat;background-position: 50%;"></i>\r\n                        </div>\r\n\r\n                        <!-- <i class="user-img img circle-img head-icon"  style="background:url(\'';
        if (helper = helpers.user_icon) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.user_icon;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '\') no-repeat;background-size:cover;background-repeat: no-repeat;background-position: 50%;"></i> -->\r\n\r\n                    </div>\r\n\r\n                    <div class="model-info">\r\n                        <p class="p1"><i class="icon icon-person"></i> ';
        if (helper = helpers.nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + ' <i class="icon icon-place"></i> ';
        if (helper = helpers.city_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.city_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n                        <p class="p2">';
        if (helper = helpers.model_type_list) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.model_type_list;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n                    </div>\r\n\r\n                    <ul class="model-size">\r\n                        <li class="icon">';
        if (helper = helpers.height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'cm</li>\r\n                        <li class="icon">';
        if (helper = helpers.weight) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.weight;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'kg</li>\r\n                        <li class="icon">';
        if (helper = helpers.cup) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.cup;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</li>\r\n                        <li class="icon">';
        if (helper = helpers.chest) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.chest;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "-";
        if (helper = helpers.waist) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.waist;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "-";
        if (helper = helpers.hip) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.hip;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</li>\r\n                    </ul>\r\n                </div>\r\n                \r\n                \r\n            </div>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/23.
 *
 * 约拍邀请列表
 *
 */
define("pai/wx-1.1.0/mine/consider/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/consider/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/mine/consider/contain_view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/mine/consider/model-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var consider_view = require("pai/wx-1.1.0/mine/consider/view-debug");
    var consider_model = require("pai/wx-1.1.0/mine/consider/model-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "约拍邀请",
            route: {
                "mine/consider(/:type)": "mine/consider(/:type)"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                //获取用户类型
                var role = utility.user.get("role");
                //融合对象
                var templateModel = [];
                //配置分支信息
                if (role == "cameraman") {
                    templateModel = {
                        role: role,
                        is_cameraman: true
                    };
                } else {
                    templateModel = {
                        role: role,
                        is_cameraman: false
                    };
                }
                var model = new consider_model();
                var view_type;
                var can_back_to_mine = false;
                if (route_params_arr[0] == "consider") {
                    view_type = "consider";
                    can_back_to_mine = true;
                } else if (route_params_arr[0] == "confirm") {
                    view_type = "confirm";
                    can_back_to_mine = true;
                } else if (route_params_arr[0] == "can_back_to_mine") {
                    view_type = "consider";
                    can_back_to_mine = false;
                } else {
                    view_type = "consider";
                    can_back_to_mine = true;
                }
                var view = new consider_view({
                    model: model,
                    parentNode: self.$el,
                    type: view_type,
                    templateModel: templateModel,
                    can_back_to_mine: can_back_to_mine
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/9.
 *
 * 约拍邀请列表view
 */
define("pai/wx-1.1.0/mine/consider/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/mine/consider/contain_view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/mine/consider/model-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var consider_tpl = require("pai/wx-1.1.0/mine/consider/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var new_iscroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var contain_view = require("pai/wx-1.1.0/mine/consider/contain_view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var container_model = require("pai/wx-1.1.0/mine/consider/model-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var qr_tpl = require("pai/wx-1.1.0/act/security/tpl/big_qr_code-debug.handlebars");
    var consider_view = View.extend({
        attrs: {
            template: consider_tpl
        },
        events: {
            swiperight: function() {
                if (window._IS_NEW_WEB_VIEW) {
                    return;
                }
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                if (window._IS_NEW_WEB_VIEW) {
                    App.remove_front();
                    return;
                }
                var self = this;
                if (self.get("can_back_to_mine")) {
                    page_control.back();
                } else {
                    page_control.navigate_to_page("mine");
                }
            },
            'tap [data-role="considering"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("cur").siblings().removeClass("cur");
                self.confirm_view.hide();
                self.consider_view.show();
                //首次加载
                if (self.first_time_in_consider) {
                    self.consider_view.get_list();
                    self.first_time_in_consider = false;
                }
                //点击刷新
                if (self.current_type == "consider") {
                    self.consider_view.refresh();
                }
                self.current_type = "consider";
            },
            'tap [data-role="agreed"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("cur").siblings().removeClass("cur");
                self.consider_view.hide();
                self.confirm_view.show();
                //首次加载
                if (self.first_time_in_confirm) {
                    self.confirm_view.get_list();
                    self.first_time_in_confirm = false;
                }
                //点击刷新
                if (self.current_type == "confirm") {
                    self.confirm_view.refresh();
                }
                self.current_type = "confirm";
            },
            'tap [data-role="confirm_btn"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                if (confirm("是否确认结束")) {
                    self.model.confirm_date(event_id);
                }
            },
            'tap [data-role="to-zone"]': function(ev) {
                var self = this;
                var $panel = $(ev.currentTarget);
                var user_id = $panel.attr("data-date-user-id");
                page_control.navigate_to_page("zone/" + user_id + "/cameraman");
            },
            'tap [data-role="btn_pub_scan"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                if (App.isPaiApp) {
                    App.qrcodescan();
                }
            },
            //出示二维码
            'tap [data-role="btn_pub_be_scan"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                var enroll_id = $cur_btn.attr("data-enroll-id");
                m_alert.show("加载二维码中...", "loading");
                utility.ajax_request({
                    url: global_config.ajax_url.get_act_ticket_detail,
                    data: {
                        event_id: event_id,
                        enroll_id: enroll_id
                    },
                    success: function(data) {
                        var qr_arr = data.result_data.data;
                        if (qr_arr.length == 0) {
                            m_alert.show("二维码不存在", "error");
                            return;
                        }
                        m_alert.hide({
                            delay: -1
                        });
                        // 放大二维码数据整合
                        var pic_w_h = Math.ceil(utility.get_view_port_width() - 90);
                        //滚动外框宽高
                        var out_height = pic_w_h + 35;
                        for (var i = 0; i < qr_arr.length; i++) {
                            qr_arr[i] = {
                                code: qr_arr[i].code,
                                qr_code: qr_arr[i].qr_code,
                                pic_w_h: pic_w_h,
                                out_height: out_height
                            };
                        }
                        // 数据结构
                        var data = {
                            qr_code_arr: qr_arr,
                            pic_w_h: pic_w_h,
                            out_height: out_height
                        };
                        var html_str = qr_tpl(data);
                        // 放大二维码弹出层
                        var dialog = new Dialog({
                            content: html_str
                        }).show();
                        var pic_view_scroll_obj = new_iscroll(dialog.$("[data-role=qr]"), {
                            lazyLoad: true
                        });
                        pic_view_scroll_obj.refresh();
                    },
                    error: function() {
                        m_alert.show("网络异常", "error");
                    }
                });
            },
            'tap [data-role="cameraman_date_list"]': function(ev) {
                var self = this;
                var $panel = $(ev.currentTarget);
                var from_date_id = $panel.attr("data-date-user-id");
                var item_type = $panel.attr("data-item-type");
                var user_id = $panel.attr("data-date-user-id");
                var _date_id = $panel.attr("data-date-id");
                var date_id = $panel.attr("data-to-date-id");
                var status = $panel.attr("data-date_status");
                if ($(ev.target).attr("data-to-tap") == "end" || $(ev.target).attr("data-to-tap") == "commit") {
                    return;
                }
                console.log(item_type);
                if (status == "wait") {
                    page_control.navigate_to_page("mine/consider_details_camera/" + date_id);
                } else {
                    page_control.navigate_to_page("mine/consider_details_camera/" + date_id);
                }
            },
            'tap [data-role="to_model_card"]': function(ev) {
                var self = this;
                var $panel = $(ev.currentTarget);
                var $target = $(ev.target).attr("data-to-tap");
                if ($target == "list") {
                    return;
                }
                var to_date_id = $panel.attr("data-to-date-id");
                page_control.navigate_to_page("model_card/" + to_date_id);
            },
            'tap [data-role="model_date_list"]': function(ev) {
                var self = this;
                var $panel = $(ev.currentTarget);
                var $target = $(ev.target).attr("data-to-tap");
                var to_date_id = $panel.attr("data-to-date-id");
                var item_type = $panel.attr("data-item-type");
                var enroll_id = $panel.attr("data-enroll-id");
                var date_id = $panel.attr("data-date-id");
                var from_date_id = $panel.attr("data-date-user-id");
                if ($target == "commit" || $target == "commit_text" || $target == "end" || $target == "icon") {
                    return;
                }
                if ($(ev.target).attr("data-enroll-id")) {
                    return;
                }
                page_control.navigate_to_page("mine/consider_details_camera/" + date_id);
            },
            'tap [data-role="btn_commit"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var from_date_id = $cur_btn.attr("data-from-date-id");
                var to_date_id = $cur_btn.attr("data-to-date-id");
                //约拍事件id
                var date_id = $cur_btn.attr("data-date-id");
                var can_comment = $cur_btn.attr("data-can-comment");
                var to_event;
                var send_id;
                if (utility.user.get("role") == "model") {
                    to_event = "cameraman";
                    send_id = from_date_id;
                } else {
                    to_event = "model";
                    send_id = to_date_id;
                }
                if (can_comment) {
                    page_control.navigate_to_page("comment/" + to_event + "/" + date_id + "/" + send_id);
                }
            }
        },
        _setup_events: function() {
            var self = this;
            self.model.on("before:confirm_date:fetch", function(response, options) {
                m_alert.show("发送中", "loading");
            }).on("success:confirm_date:fetch", function(response, options) {
                var response = response.result_data;
                var msg = response.msg;
                m_alert.hide();
                if (response.code > 0) {
                    m_alert.show(msg, "right", {
                        delay: 2e3
                    });
                    var data = {
                        status: self.current_status,
                        page: 1
                    };
                    //self.model.get_list(data);
                    self.confirm_view.refresh();
                } else {
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:confirm_date:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:confirm_date:fetch", function(response, options) {});
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.is_cameraman = self.get("templateModel").is_cameraman;
            var model = new container_model();
            //考虑中view
            self.consider_view = new contain_view({
                model: model,
                parentNode: self.$container,
                templateModel: {
                    type_tag: "consider",
                    role: self.get("templateModel").role,
                    is_cameraman: self.is_cameraman
                }
            }).render();
            //确认view
            self.confirm_view = new contain_view({
                model: model,
                parentNode: self.$container,
                templateModel: {
                    type_tag: "confirm",
                    role: self.get("templateModel").role,
                    is_cameraman: self.is_cameraman
                }
            }).render();
            //当前view标记
            self.current_type = self.get("type");
            //首次进入标记
            self.first_time_in_confirm = true;
            self.first_time_in_consider = true;
            if (self.current_type == "consider") {
                self.current_type = "consider";
                self.$('[data-role="considering"]').addClass("cur").siblings().removeClass("cur");
                self.confirm_view.hide();
                self.consider_view.show();
                self.consider_view.get_list();
                self.first_time_in_consider = false;
            } else if (self.current_type == "confirm") {
                self.$('[data-role="agreed"]').addClass("cur").siblings().removeClass("cur");
                self.current_type = "confirm";
                self.confirm_view.show();
                self.consider_view.hide();
                self.confirm_view.get_list();
                self.first_time_in_confirm = false;
            }
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = consider_view;
});

define("pai/wx-1.1.0/mine/consider/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return '\r\n                <div class="considering cur" data-role="considering">模特考虑中</div>\r\n                <div class="agreed" data-role="agreed">模特已同意</div>\r\n            ';
        }
        function program3(depth0, data) {
            return '\r\n                <div class="considering cur" data-role="considering">考虑中</div>\r\n                <div class="agreed" data-role="agreed">已同意</div>\r\n            ';
        }
        buffer += '<main role="main" class="consider secondary">\r\n    <!-- <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        约拍邀请\r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">约拍订单</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n    \r\n    <div class="content-body">\r\n        <div class="accept">\r\n            ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_cameraman, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n        </div>\r\n        <div class="container" data-role="container">\r\n\r\n        </div>\r\n    </div>\r\n</main>';
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/24.
 */
define("pai/wx-1.1.0/mine/consider/contain_view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var contain_view_tpl = require("pai/wx-1.1.0/mine/consider/tpl/contain_view-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var invited_card_view = require("pai/wx-1.1.0/mine/consider/tpl/invite-debug.handlebars");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var load_more = require("pai/wx-1.1.0/widget/load_more/view-debug");
    var considerView = View.extend({
        attrs: {
            template: contain_view_tpl
        },
        events: {},
        _setup_events: function() {
            var self = this;
            self.model.on("before:fetch", function() {
                m_alert.show("加载中", "loading", {
                    delay: 1e3
                });
            }).on("success:fetch", function(response, options) {
                //区分获取数据的view
                if (options.data.status == self.get("templateModel").type_tag) {
                    console.log(response);
                    self._render_invited_card(response.result_data);
                    self.fetching = false;
                }
            }).on("error:fetch", function(response, options) {
                m_alert.show("加载超时", "loading", {
                    delay: 1e3
                });
                self.fetching = false;
            }).on("complete:fetch", function(response, options) {});
        },
        _setup_load_more: function() {
            var self = this;
            self.load_more_obj = new load_more({
                templateModel: {
                    text: "上拉加载更多"
                },
                parentNode: self.$load_more
            }).render();
        },
        setup: function() {
            var self = this;
            self.type_tag = self.get("templateModel").type_tag;
            self.$container = self.$("[data-role=" + self.type_tag + "-warp]");
            self.$content_inside = self.$("[data-role=" + self.type_tag + "-content-inside]");
            self.$load_more = self.$("[data-role=" + self.type_tag + "-load_more]");
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            self.page_count = 1;
            self.fetching = false;
            self._setup_events();
            self._setup_load_more();
            self._setup_scroll();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 40;
        },
        /* 渲染列表
         *
         */
        _render_invited_card: function(data) {
            var self = this;
            self.has_next_page = data.has_next_page;
            self.page_count++;
            self.data_cache = data.list;
            $.each(data.list, function(i, obj) {
                obj.is_cameraman = self.get("is_cameraman");
                console.log(obj);
                /*重写 2014.11.20 nolest
                //modify hudw 2014.11.8
                if(obj.pay_status == 0 && obj.is_cameraman)
                {
                    //待付款
                    obj.status_text = '待付款';
                }
                else if(obj.pay_status == 1)
                {
                    if(obj.date_status == 'wait')
                    {
                        obj.status_text = 'NEW'
                    }
                    else if (obj.date_status == 'confirm')
                    {
                        obj.status_text = ''
                    }
                    else if(obj.date_status == 'cancel')
                    {
                        obj.status_text = '已拒绝'
                    }
                }
                */
                var is_confirm = false;
                if (obj.date_status == "confirm") {
                    is_confirm = true;
                }
                //红色标签
                var is_new = false;
                var is_empty = false;
                console.log(obj.is_new);
                if (obj.lable == "NEW") {
                    is_new = true;
                }
                if (obj.lable == "") {
                    is_empty = true;
                }
                /*
                //已完成的活动的灰色标签
                if(obj.is_end == 1 && obj.is_comment == 1)
                {
                    obj.date_status = 'cancel';
                    obj.status_text = '已完成';
                }
                */
                var data = $.extend(true, {}, obj, {
                    is_cameraman: self.get("templateModel").is_cameraman,
                    is_confirm: is_confirm,
                    is_new: is_new,
                    is_empty: is_empty
                });
                var invited = invited_card_view({
                    data: data
                });
                self.$content_inside.append(invited);
            });
            //无内容时显示背景
            if (self.$content_inside.children().length == 0) {
                self.abnormal_view = new abnormal({
                    templateModel: {
                        content_height: utility.get_view_port_height("all") - 75
                    },
                    parentNode: self.$content_inside
                }).render();
            }
            self.$load_more.find('[data-role="load-more"]').addClass("fn-hide");
            if (self.has_next_page) {
                self.$load_more.find('[data-role="load-more"]').removeClass("fn-hide");
            }
            self._drop_reset();
            self.view_scroll_obj.refresh();
        },
        /* 安装滚动条
         *
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {});
            view_scroll_obj.on("scrollMoveAfter", function() {
                var _self = this;
                if (_self.maxScrollY - _self.y > 40) {
                    //有下一页时才加载
                    if (self.has_next_page && !self.fetching) {
                        self.fetching = true;
                        self.get_list();
                    }
                }
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
            self.view_scroll_obj.refresh();
        },
        /* 加载数据
         *
         */
        get_list: function() {
            var self = this;
            var data = {
                status: self.get("templateModel").type_tag,
                role: self.get("templateModel").role,
                page: self.page_count
            };
            self.model.get_more_list(data);
        },
        /*  刷新方法
         *
         */
        refresh: function() {
            var self = this;
            self.page_count = 1;
            self.$content_inside.html("");
            var refresh_data = {
                status: self.get("templateModel").type_tag,
                role: self.get("templateModel").role,
                page: self.page_count
            };
            self.model.get_more_list(refresh_data);
            self.view_scroll_obj.scrollTo(0, 0);
        },
        _drop_reset: function() {
            var self = this;
            return;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        /*  返回点击数据 大view调用
         *
         */
        search_data: function(id) {
            var self = this;
            var data;
            if (self.data_cache) {
                $.each(self.data_cache, function(i, obj) {
                    if (obj.date_id == id) {
                        data = obj;
                    }
                });
            }
            return data;
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
    module.exports = considerView;
});

define("pai/wx-1.1.0/mine/consider/tpl/contain_view-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div>\r\n    <div data-role="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-warp">\r\n        <div class="warp-box">\r\n            <div class="child-content-inside" data-role="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-content-inside">\r\n\r\n            </div>\r\n            <div class="load-more-container" data-role="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-load_more"></div>\r\n        </div>\r\n    </div>\r\n</div>';
        return buffer;
    });
});

define("pai/wx-1.1.0/mine/consider/tpl/invite-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n<div class="child" >\r\n    <div data-role="model_date_list" data-item-type="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.item_type), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-date-user-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.to_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-date_status="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_status), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-tap="list">\r\n        <div class="title">\r\n            <div class="name">模特：' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.nickname), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n            <div class="status">\r\n                <div class="status-in ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_new), {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += " ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_empty), {
                hash: {},
                inverse: self.noop,
                fn: self.program(6, program6, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.lable), 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n                <div class="arrow"><i class="icon icon-r-16x26"></i></div>\r\n            </div>\r\n        </div>\r\n        <div class="details">\r\n            <!-- <div class="img-container">\r\n                <i class="image-img" style="background-image: url(' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.icon), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + ');"></i>\r\n            </div> -->\r\n\r\n            <div class="img-container" data-role="to_model_card" data-date-user-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.to_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="icon">\r\n            <div class="avatar-size-mod avatar-size-mod-80">\r\n                <span class="icon avatar-size-area "></span>\r\n                <i class="avatar-size-img" style="background-image: url(' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.icon), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '); background-size:cover"></i>\r\n            </div>\r\n            </div>\r\n            \r\n            <div class="details-container">\r\n                <p class="notice">价格：' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_price_v2), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</p>\r\n                <!--p>时间：" + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.hour), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "小时</p-->\r\n                <!--p>类型：" + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_type), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</p-->\r\n                <p class="style">风格：' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_style), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</p>\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_ready), {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(8, program8, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_finish), {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(15, program15, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_cancel), {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(13, program13, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        <!--\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_confirm), {
                hash: {},
                inverse: self.noop,
                fn: self.program(25, program25, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            return "red";
        }
        function program4(depth0, data) {
            return "gray";
        }
        function program6(depth0, data) {
            return "fn-hide";
        }
        function program8(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_scan), {
                hash: {},
                inverse: self.program(11, program11, data),
                fn: self.program(9, program9, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program9(depth0, data) {
            return "\r\n                    ";
        }
        function program11(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <p class="btn_style">\r\n                            <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="end" data-role="btn_pub_be_scan">\r\n                                <span class="ui-button-content" data-to-tap="end"><i class="icon icon-btn-icon-bs" data-to-tap="end"></i>出示二维码</span>\r\n                            </button>\r\n                        </p>\r\n                    ';
            return buffer;
        }
        function program13(depth0, data) {
            return "\r\n                ";
        }
        function program15(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.program(22, program22, data),
                fn: self.program(16, program16, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program16(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div style="margin-bottom:10px">\r\n                            已评价:\r\n                                <span class="starts">\r\n                                    ';
            stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.stars_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(17, program17, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                </span>\r\n                        </div>\r\n                    ";
            return buffer;
        }
        function program17(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(20, program20, data),
                fn: self.program(18, program18, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                    ";
            return buffer;
        }
        function program18(depth0, data) {
            return '\r\n                                            <i class="icon icon-stat-s-y"></i>\r\n                                        ';
        }
        function program20(depth0, data) {
            return '\r\n                                            <i class="icon icon-stat-s-g"></i>\r\n                                        ';
        }
        function program22(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div class="btn-c">\r\n                            <button class="ui-button ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large auto_width" ';
            stack1 = helpers.unless.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.noop,
                fn: self.program(23, program23, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ' data-prev-default="1" data-from-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.to_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_commit" data-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="commit">\r\n                                <span class="ui-button-content" data-tap="commit_text" data-to-tap="commit"><i class="icon icon-btn-icon-pj" data-to-tap="commit"></i>评价模特</span>\r\n                            </button>\r\n                        </div>\r\n                    ';
            return buffer;
        }
        function program23(depth0, data) {
            return 'data-can-comment="1"';
        }
        function program25(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_end), {
                hash: {},
                inverse: self.program(35, program35, data),
                fn: self.program(26, program26, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program26(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.program(33, program33, data),
                fn: self.program(27, program27, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            return buffer;
        }
        function program27(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                            <div style="margin-bottom:10px">\r\n                                已评价:\r\n                                <span class="starts">\r\n                                ';
            stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.stars_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(28, program28, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                </span>\r\n                            </div>    \r\n                        ";
            return buffer;
        }
        function program28(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                                    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(31, program31, data),
                fn: self.program(29, program29, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                ";
            return buffer;
        }
        function program29(depth0, data) {
            return '\r\n                                        <i class="icon icon-stat-s-y"></i>\r\n                                    ';
        }
        function program31(depth0, data) {
            return '\r\n                                        <i class="icon icon-stat-s-g"></i>\r\n                                    ';
        }
        function program33(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                            <div class="btn-c">\r\n                                <button class="ui-button ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large auto_width" ';
            stack1 = helpers.unless.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.noop,
                fn: self.program(23, program23, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ' data-prev-default="1" data-from-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.to_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_commit" data-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="commit">\r\n                                    <span class="ui-button-content" data-tap="commit_text" data-to-tap="commit"><i class="icon icon-btn-icon-pj" data-to-tap="commit"></i>评价模特</span>\r\n                                </button>\r\n                            </div>\r\n                        ';
            return buffer;
        }
        function program35(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_scan), {
                hash: {},
                inverse: self.program(38, program38, data),
                fn: self.program(36, program36, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            return buffer;
        }
        function program36(depth0, data) {
            return "\r\n                        ";
        }
        function program38(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n\r\n                            <p class="btn_style">\r\n                                <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="end" data-role="btn_pub_be_scan">\r\n                                    <span class="ui-button-content" data-to-tap="end"><i class="icon icon-btn-icon-bs" data-to-tap="end"></i>出示二维码</span>\r\n                                </button>\r\n                            </p>\r\n                        ';
            return buffer;
        }
        function program40(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n<div class="child">\r\n    <div  data-role="cameraman_date_list"  data-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-date-user-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-item-type="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.item_type), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-date_status="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_status), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n        <div class="title">\r\n            <div class="name">【约拍】摄影师 ' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.nickname), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n            <div class="status">\r\n                <div class="status-in ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_new), {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += " ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_empty), {
                hash: {},
                inverse: self.noop,
                fn: self.program(6, program6, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.lable), 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n                <div class="arrow"><i class="icon icon-r-16x26"></i></div>\r\n            </div>\r\n        </div>\r\n        <div class="details">\r\n            <!-- <div class="img-container">\r\n                <i class="image-img" style="background-image: url(\'' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.icon), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '\');"></i>\r\n            </div> -->\r\n\r\n            <div class="img-container">\r\n            <div class="avatar-size-mod avatar-size-mod-80" data-date-user-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="to-zone">\r\n                <span class="icon avatar-size-area "></span>\r\n                <i class="avatar-size-img" style="background-image: url(' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.icon), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '); background-size:cover"></i>\r\n            </div>\r\n            </div>\r\n\r\n            <div class="details-container">\r\n                <p class="notice">价格：' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_price_v2), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</p>\r\n                <!--p>时间：" + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.hour), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "小时</p-->\r\n                <!--p>类型：" + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_type), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</p-->\r\n                <p class="style">风格：' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_style), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</p>\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_ready), {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(41, program41, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_finish), {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(46, program46, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_cancel), {
                hash: {},
                inverse: self.program(13, program13, data),
                fn: self.program(13, program13, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n\r\n                <!--\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_confirm), {
                hash: {},
                inverse: self.noop,
                fn: self.program(53, program53, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                -->\r\n        </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n";
            return buffer;
        }
        function program41(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <div class="btn-c" >\r\n                    ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_scan), {
                hash: {},
                inverse: self.program(44, program44, data),
                fn: self.program(42, program42, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    </div>\r\n                ";
            return buffer;
        }
        function program42(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <button class="ui-button ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large auto_width" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="confirm_btn" data-to-tap="end">\r\n                            <span class="ui-button-content" data-to-tap="end"><i class="icon icon-btn-icon-qr" data-to-tap="end"></i>确认完成</span>\r\n                        </button>\r\n                    ';
            return buffer;
        }
        function program44(depth0, data) {
            return '\r\n                        <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-to-tap="end" data-role="btn_pub_scan">\r\n                            <span class="ui-button-content" data-to-tap="end"><i class="icon icon-btn-icon-sm" data-to-tap="end"></i>扫码签到</span>\r\n                        </button>\r\n                    ';
        }
        function program46(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.program(50, program50, data),
                fn: self.program(47, program47, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program47(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div style="margin-bottom:10px">\r\n                            已评价:\r\n                            <span class="starts">\r\n                                ';
            stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.stars_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(48, program48, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                            </span>\r\n                        </div>\r\n                    ";
            return buffer;
        }
        function program48(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n\r\n                                    ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(31, program31, data),
                fn: self.program(29, program29, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                                ";
            return buffer;
        }
        function program50(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div class="btn-c" >\r\n                            <button class="ui-button ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large auto_width" ';
            stack1 = helpers.unless.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.noop,
                fn: self.program(51, program51, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ' data-prev-default="1" data-from-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_commit" data-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="commit">\r\n                                <span class="ui-button-content" data-to-tap="commit"><i class="icon icon-btn-icon-pj" data-to-tap="commit"></i>评价摄影师</span>\r\n                            </button>\r\n                        </div>\r\n                    ';
            return buffer;
        }
        function program51(depth0, data) {
            return ' data-can-comment="1"';
        }
        function program53(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_end), {
                hash: {},
                inverse: self.program(63, program63, data),
                fn: self.program(54, program54, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program54(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n\r\n                        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.program(61, program61, data),
                fn: self.program(55, program55, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n\r\n                    ";
            return buffer;
        }
        function program55(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                                <div style="margin-bottom:10px">\r\n                                    已评价:\r\n                                    <span class="starts">\r\n                                    ';
            stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.stars_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(56, program56, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                    </span>\r\n                                </div>    \r\n                        ";
            return buffer;
        }
        function program56(depth0, data) {
            var buffer = "", stack1;
            buffer += " \r\n                                    \r\n                                            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(59, program59, data),
                fn: self.program(57, program57, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                        \r\n                                    ";
            return buffer;
        }
        function program57(depth0, data) {
            return '\r\n                                                <i class="icon icon-stat-s-y"></i>\r\n                                            ';
        }
        function program59(depth0, data) {
            return '\r\n                                                <i class="icon icon-stat-s-g"></i>\r\n                                            ';
        }
        function program61(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                               \r\n                                <div class="btn-c" >\r\n\r\n\r\n                                    <button class="ui-button ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large auto_width" ';
            stack1 = helpers.unless.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.noop,
                fn: self.program(51, program51, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += ' data-prev-default="1" data-from-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.from_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_commit" data-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-to-tap="commit">\r\n                                        <span class="ui-button-content" data-to-tap="commit"><i class="icon icon-btn-icon-pj" data-to-tap="commit"></i>评价摄影师</span>\r\n                                    </button>\r\n\r\n\r\n\r\n                                </div>\r\n\r\n                        ';
            return buffer;
        }
        function program63(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n\r\n                        <div class="btn-c" >\r\n                            ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_scan), {
                hash: {},
                inverse: self.program(66, program66, data),
                fn: self.program(64, program64, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n                        </div>\r\n                    ";
            return buffer;
        }
        function program64(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                                <button class="ui-button ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large auto_width" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="confirm_btn" data-to-tap="end">\r\n                                    <span class="ui-button-content" data-to-tap="end"><i class="icon icon-btn-icon-qr" data-to-tap="end"></i>确认完成</span>\r\n                                </button>\r\n                            ';
            return buffer;
        }
        function program66(depth0, data) {
            return '\r\n                                <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-to-tap="end" data-role="btn_pub_scan">\r\n                                    <span class="ui-button-content" data-to-tap="end"><i class="icon icon-btn-icon-sm" data-to-tap="end"></i>扫码签到</span>\r\n                                </button>\r\n                            ';
        }
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_cameraman), {
            hash: {},
            inverse: self.program(40, program40, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

/**
 * Created by nolest on 2014/9/9.
 */
define("pai/wx-1.1.0/mine/consider/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "$-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.consider_list,
        "default": {
            date_id: "",
            from_date_id: "",
            to_date_id: "",
            date_status: "",
            date_time: "",
            date_address: "",
            date_type: "",
            date_style: "",
            date_hour: "",
            date_price: "",
            check_id: "",
            event_id: "",
            add_time: "",
            update_time: "",
            pay_status: "",
            cancel_reason: "",
            status_remark: "",
            cameraman_icon: ""
        },
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {},
        get_more_list: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        },
        confirm_date: function(event_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.set_event_end_act,
                data: {
                    event_id: event_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:confirm_date:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:confirm_date:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:confirm_date:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:confirm_date:fetch", xhr, status);
                }
            });
        }
    });
});

define("pai/wx-1.1.0/act/security/tpl/big_qr_code-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <div class="number">密码：<em>';
            if (helper = helpers.code) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.code;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</em></div>\r\n            <div class="picture" data-role="picture" style="width:';
            if (helper = helpers.pic_w_h) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.pic_w_h;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "px;height:";
            if (helper = helpers.out_height) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.out_height;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + 'px" data-role="close">\r\n                <img src="';
            if (helper = helpers.qr_code) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.qr_code;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n            </div>\r\n        ';
            return buffer;
        }
        buffer += '<div class="qr" data-role="qr" style="width:';
        if (helper = helpers.pic_w_h) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.pic_w_h;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height:";
        if (helper = helpers.out_height) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.out_height;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px">\r\n    <div>\r\n        ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.qr_code_arr, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n    </div>\r\n</div>";
        return buffer;
    });
});

define("pai/wx-1.1.0/mine/edit/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/model-debug", "pai/wx-1.1.0/mine/edit/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var model = require("pai/wx-1.1.0/mine/model-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var mine_edit_view = require("pai/wx-1.1.0/mine/edit/view-debug");
    page_control.add_page([ function() {
        return {
            title: "文字设置",
            route: {
                "mine/edit/:type": "mine/edit"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(appView, routeParams, EditObj) {
                var self = this;
                var mineModel = utility.user;
                var pageNavTitle = "";
                var nickname = "";
                var signature = "";
                var isNickname;
                switch (EditObj.type) {
                  case "edit-nickname":
                    pageNavTitle = "编辑昵称";
                    nickname = EditObj.nickname || mineModel.get("nickname");
                    isNickname = true;
                    break;

                  case "edit-phone":
                    pageNavTitle = "绑定手机号";
                    nickname = EditObj.phone || mineModel.get("phone");
                    isNickname = true;
                    break;

                  case "edit-signature":
                    pageNavTitle = "编辑简介";
                    signature = EditObj.signature || mineModel.get("signature");
                    isNickname = false;
                    break;

                  case "edit-ty":
                    pageNavTitle = EditObj.title;
                    signature = EditObj.text_obj.val();
                    isNickname = false;
                    break;
                }
                self.edit_view = new mine_edit_view({
                    model: mineModel,
                    templateModel: {
                        pageNavTitle: pageNavTitle,
                        nickname: nickname,
                        signature: signature,
                        isNickname: isNickname
                    },
                    parentNode: appView.$el
                }).setEditObj(EditObj).render();
            },
            page_show: function() {
                //必需在page_show时设置焦点才有效
                this.edit_view._inputFocus();
            },
            page_before_remove: function() {
                this.edit_view.destroy();
            }
        };
    } ]);
});

define("pai/wx-1.1.0/mine/edit/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var mainTpl = require("pai/wx-1.1.0/mine/edit/tpl/main-debug.handlebars");
    var mine_edit_view = view.extend({
        attrs: {
            template: mainTpl
        },
        /**
         * 事件
         */
        events: {
            "tap [data-role=back]": "_back",
            "tap [data-role=save]": "_save"
        },
        _back: function() {
            page_control.back();
        },
        _save: function() {
            var self = this;
            var inputterVal = self.inputter.val();
            var inputterTrimVal = $.trim(inputterVal);
            if (!inputterTrimVal) {
                tip.show("请输入内容", "error", {
                    delay: 1e3
                });
                return;
            }
            switch (self.editObj.type) {
              case "edit-nickname":
                self.editObj.nickname = inputterTrimVal;
                page_control.back();
                break;

              case "edit-phone":
                self.editObj.phone = inputterTrimVal;
                page_control.back();
                break;

              case "edit-signature":
                self.editObj.signature = inputterVal;
                page_control.back();
                break;

              case "edit-ty":
                self.editObj.text_obj.val(inputterTrimVal);
                page_control.back();
                break;
            }
        },
        /**
         * 光标定到文字最后
         * @private
         */
        _inputFocus: function() {
            var self = this;
            self.inputter = self.$("[data-role=inputter]");
            var len = self.inputter.val().length;
            if (len > 0) {
                self.inputter[0].setSelectionRange(len, len);
            }
            self.inputter.focus();
        },
        setup: function() {
            var self = this;
            self.inputter = self.$("[data-role=inputter]");
        },
        /**
         * 渲染模板
         * @returns {Editview}
         */
        render: function() {
            var self = this;
            view.prototype.render.apply(self);
            self.inputter = self.$("[data-role=inputter]");
            self.trigger("render");
            return self;
        },
        /**
         * 设置编辑对象
         * @param EditObj
         * @return {*}
         */
        setEditObj: function(EditObj) {
            var self = this;
            self.editObj = EditObj;
            return self;
        }
    });
    module.exports = mine_edit_view;
});

define("pai/wx-1.1.0/mine/edit/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="input-label">\r\n                    <input data-role="inputter" type="text" value="';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                </div>\r\n            ';
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="textarea-label">\r\n                    <textarea data-role="inputter">';
            if (helper = helpers.signature) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.signature;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</textarea>\r\n                </div>\r\n            ";
            return buffer;
        }
        buffer += '<main class="mine-edit-page" role="main">\r\n    <header class="nav-header mine-edit-nav-header nav-header-special-pop">\r\n        <div class="left-button-wrap">\r\n            <a data-role="back">\r\n            <i class="icon icon-back"></i>\r\n            </a>\r\n        </div>\r\n\r\n        <h3 class="title">';
        if (helper = helpers.pageNavTitle) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.pageNavTitle;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <button class="ui-button ui-button-primary ui-button-size-default" data-role="save">确定</button>\r\n        </div>\r\n    </header>\r\n\r\n    <div class="mine-edit-fieldset-container" data-role="container">\r\n        <ul class="ui-form">\r\n            <li>\r\n            ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.isNickname, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            </li>\r\n        </ul>\r\n        <p></p>\r\n    </div>\r\n</main>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/10.
 *
 *
 *
 * 约拍订单页
 */
define("pai/wx-1.1.0/mine/consider_details_camera/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/consider_details_camera/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_WX-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var consider_view = require("pai/wx-1.1.0/mine/consider_details_camera/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "约拍详情",
            route: {
                "mine/consider_details_camera/:date_id(/:form)": "mine/consider_details_camera"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var date_id = route_params_arr[0];
                var date_role_is_model = 0;
                if (utility.user.get("role") == "model") {
                    // 约拍对象是摄影师
                    date_role_is_model = 0;
                } else {
                    // 约拍对象是模特
                    date_role_is_model = 1;
                }
                var is_form_cancel = false;
                if (route_params_arr[1] == "form_cancel") {
                    is_form_cancel = true;
                }
                var from_app = utility.get_url_params(window.location.search, "from_app");
                var view = new consider_view({
                    from_app: utility.int(from_app),
                    is_form_cancel: is_form_cancel,
                    parentNode: self.$el,
                    date_id: date_id,
                    date_role_is_model: date_role_is_model
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/10.
 *
 *
 *
 */
define("pai/wx-1.1.0/mine/consider_details_camera/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_WX-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var consider_details_tpl = require("pai/wx-1.1.0/mine/consider_details_camera/tpl/main-debug.handlebars");
    var items_tpl = require("pai/wx-1.1.0/mine/consider_details_camera/tpl/items-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var qr_tpl = require("pai/wx-1.1.0/act/security/tpl/big_qr_code-debug.handlebars");
    var Dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var footer_tpl = require("pai/wx-1.1.0/mine/consider_details_camera/tpl/footer-debug.handlebars");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var consider_view = View.extend({
        attrs: {
            template: consider_details_tpl
        },
        events: {
            swiperight: function() {
                var self = this;
                if (self.get("is_form_cancel")) {
                    page_control.navigate_to_page("mine/consider/can_back_to_mine");
                } else {
                    page_control.back();
                }
            },
            'tap [data-role="comment"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var from_date_id = $cur_btn.attr("data-from-date-id");
                var to_date_id = $cur_btn.attr("data-to-date-id");
                //约拍事件id
                var date_id = $cur_btn.attr("data-date-id");
                var to_event;
                var send_id;
                if (utility.user.get("role") == "model") {
                    to_event = "cameraman";
                    send_id = from_date_id;
                } else {
                    to_event = "model";
                    send_id = to_date_id;
                }
                page_control.navigate_to_page("comment/" + to_event + "/" + date_id + "/" + send_id);
            },
            //出示二维码
            'tap [data-role="show_ewm"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                var enroll_id = $cur_btn.attr("data-enroll-id");
                m_alert.show("加载二维码中...", "loading");
                utility.ajax_request({
                    url: global_config.ajax_url.get_act_ticket_detail,
                    data: {
                        event_id: event_id,
                        enroll_id: enroll_id
                    },
                    success: function(data) {
                        var qr_arr = data.result_data.data;
                        if (!qr_arr || qr_arr.length == 0) {
                            m_alert.show("二维码不存在", "error");
                            return;
                        }
                        m_alert.hide({
                            delay: -1
                        });
                        // 放大二维码数据整合
                        var pic_w_h = Math.ceil(utility.get_view_port_width() - 90);
                        //滚动外框宽高
                        var out_height = pic_w_h + 35;
                        for (var i = 0; i < qr_arr.length; i++) {
                            qr_arr[i] = {
                                code: qr_arr[i].code,
                                qr_code: qr_arr[i].qr_code,
                                pic_w_h: pic_w_h,
                                out_height: out_height
                            };
                        }
                        // 数据结构
                        var data = {
                            qr_code_arr: qr_arr,
                            pic_w_h: pic_w_h,
                            out_height: out_height
                        };
                        var html_str = qr_tpl(data);
                        var interval_num;
                        // 放大二维码弹出层
                        var dialog = new Dialog({
                            content: html_str
                        }).on("after:show", function() {
                            interval_num = setInterval(function() {
                                utility.ajax_request({
                                    url: global_config.ajax_url.get_scan_code,
                                    data: {
                                        code: qr_arr[0].code
                                    },
                                    success: function(data) {
                                        if (data.result_data.data == 1) {
                                            console.log("已扫");
                                            console.log(self.from_app);
                                            if (self.from_app) {
                                                console.log(1);
                                                clearInterval(interval_num);
                                                App.app_back();
                                            } else {
                                                console.log(2);
                                            }
                                        } else if (data.result_data.data == 0) {
                                            console.log("未扫");
                                        }
                                    },
                                    error: function(data) {
                                        console.log("网络超时");
                                    }
                                });
                            }, 1500);
                        }).on("after:hide", function() {
                            clearInterval(interval_num);
                        }).show();
                        var pic_view_scroll_obj = Scroll(dialog.$("[data-role=qr]"), {
                            lazyLoad: true
                        });
                        pic_view_scroll_obj.refresh();
                    },
                    error: function() {
                        m_alert.show("网络异常", "error");
                    }
                });
            },
            'tap [data-role="scan"]': function(ev) {
                var self = this;
                if (App.isPaiApp) {
                    App.qrcodescan({
                        is_nav_page: false,
                        success: function(data) {
                            console.log("qr scan success");
                            App.app_back();
                        }
                    });
                }
            },
            'tap [data-role="agreement"]': function(ev) {
                //接受邀请
                var self = this;
                m_alert.show("提交中...", "loading");
                var $cur_btn = $(ev.currentTarget);
                var date_id = $cur_btn.attr("data-date-id");
                var data = {
                    date_id: date_id,
                    status: "confirm",
                    user_id: utility.user.get("user_id")
                };
                utility.ajax_request({
                    url: global_config.ajax_url.accept_invite,
                    data: data,
                    success: function(data) {
                        m_alert.show("提交成功", "right");
                        if (self.from_app) {
                            App.app_back();
                        } else {
                            self._refresh();
                        }
                    },
                    error: function() {
                        m_alert.show("网络异常", "error");
                    }
                });
            },
            /**
             * 拒绝
             */
            'tap [data-role="refuse"]': function() {
                //拒绝邀请
                var self = this;
                page_control.navigate_to_page("mine/consider_details_model/refuse", self.data_cache);
            },
            'tap [data-role="confirm"]': function(ev) {
                var self = this;
                m_alert.show("提交中...", "loading");
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                if (confirm("是否确认结束")) {
                    utility.ajax_request({
                        url: global_config.ajax_url.set_event_end_act,
                        data: {
                            event_id: event_id
                        },
                        cache: false,
                        success: function(data) {
                            m_alert.show("提交成功", "right");
                            if (self.from_app) {
                                App.app_back();
                            } else {
                                self._refresh();
                            }
                        },
                        error: function() {
                            m_alert.show("网络异常", "error");
                        }
                    });
                }
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                if (self.get("is_form_cancel")) {
                    page_control.navigate_to_page("mine/consider/can_back_to_mine");
                } else {
                    page_control.back();
                }
            },
            'tap [data-role="nav-to-zone"]': function(ev) {
                return;
                var $cur_btn = $(ev.currentTarget);
                var user_id = $cur_btn.attr("data-user-id");
                page_control.navigate_to_page("zone/" + user_id + "/cameraman");
            },
            'tap [data-role="cam-dead"]': function(ev) {
                var self = this;
                var $tap = $(ev.currentTarget);
                if (self.get("date_role_is_model")) {
                    var user_id = $tap.attr("data-to_date_id");
                    page_control.navigate_to_page("model_card/" + user_id);
                } else {
                    var user_id = $tap.attr("data-from_date_id");
                    page_control.navigate_to_page("zone/" + user_id + "/cameraman");
                }
            },
            'tap [data-role="date_cancel"]': function() {
                var self = this;
                if (self.cancel_wait) {
                    page_control.navigate_to_page("mine/date_cancel_reason/" + self.date_id + "/cancel_wait");
                } else {
                    page_control.navigate_to_page("mine/date_cancel_reason/" + self.date_id);
                }
            },
            'tap [data-role="btn_talk"]': function() {
                var self = this;
                //模特发起私聊摄影师
                console.log("模特发起私聊摄影师");
                var data = {
                    senderid: utility.login_id,
                    receiverid: self.cameraman_id,
                    sendername: utility.user.get("nickname"),
                    receivername: self.cameraman_nickname,
                    sendericon: utility.user.get("user_icon"),
                    receivericon: self.cameraman_user_icon
                };
                console.log(data);
                if (!App.isPaiApp) {
                    console.warn("no App");
                    return;
                }
                App.chat(data);
            },
            'tap [data-role="msg"]': function() {
                var self = this;
                //摄影师发起私聊模特
                console.log("摄影师发起私聊模特");
                if (WeixinApi.isWexXin()) {
                    console.log("is weixin");
                    self.dialog_down_app.show();
                } else {
                    console.log("not weixin");
                    self.dialog_down_app.show();
                }
                return;
                var data = {
                    senderid: utility.login_id,
                    receiverid: self.model_id,
                    sendername: utility.user.get("nickname"),
                    receivername: self.model_nickname,
                    sendericon: utility.user.get("user_icon"),
                    receivericon: self.model_user_icon
                };
                console.log(data);
                if (!App.isPaiApp) {
                    console.warn("no App");
                    return;
                }
                App.chat(data);
            },
            'tap [data-role="force_refund"]': function() {
                if (confirm("你好，选择强制退款，系统将会把约拍费用的70%的金额退还到你的钱包，另外30%将给予模特作为补偿，请再次确认。")) {
                    //强制退款
                    var self = this;
                    m_alert.show("提交中...", "loading");
                    utility.ajax_request({
                        url: global_config.ajax_url.force_refund,
                        type: "POST",
                        data: {
                            date_id: self.get("date_id")
                        },
                        cache: true,
                        beforeSend: function(xhr, options) {
                            self.trigger("before:force_refund", xhr, options);
                        },
                        success: function(response, options) {
                            self.trigger("success:force_refund", response, options);
                        },
                        error: function(xhr, options) {
                            self.trigger("error:force_refund", xhr, options);
                        },
                        complete: function(xhr, status) {
                            self.trigger("complete:force_refund", xhr, status);
                        }
                    });
                }
            },
            'tap [data-role="agree"]': function() {
                //同意取消
                var self = this;
                m_alert.show("提交中...", "loading");
                utility.ajax_request({
                    url: global_config.ajax_url.update_agree_status,
                    type: "POST",
                    data: {
                        date_id: self.get("date_id"),
                        agree_status: "agree"
                    },
                    cache: true,
                    beforeSend: function(xhr, options) {
                        self.trigger("before:agree", xhr, options);
                    },
                    success: function(response, options) {
                        self.trigger("success:agree", response, options);
                    },
                    error: function(xhr, options) {
                        self.trigger("error:agree", xhr, options);
                    },
                    complete: function(xhr, status) {
                        self.trigger("complete:agree", xhr, status);
                    }
                });
            },
            'tap [data-role="not_agree"]': function() {
                //不同意取消
                var self = this;
                m_alert.show("提交中...", "loading");
                utility.ajax_request({
                    url: global_config.ajax_url.update_agree_status,
                    type: "POST",
                    data: {
                        date_id: self.get("date_id"),
                        agree_status: "disagree"
                    },
                    cache: true,
                    beforeSend: function(xhr, options) {
                        self.trigger("before:disagree", xhr, options);
                    },
                    success: function(response, options) {
                        self.trigger("success:disagree", response, options);
                    },
                    error: function(xhr, options) {
                        self.trigger("error:disagree", xhr, options);
                    },
                    complete: function(xhr, status) {
                        self.trigger("complete:disagree", xhr, status);
                    }
                });
            },
            'tap [data-role="step_container"]': function() {
                var self = this;
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            utility.user.on("before:get_date_by_date_id:fetch", function() {
                m_alert.show("加载中...", "loading", {
                    delay: -1
                });
            }).on("success:get_date_by_date_id:fetch", function(response) {
                m_alert.hide({
                    delay: -1
                });
                var params = response.result_data;
                // modify hudw 2014.12.26
                // 对于订单的权限进行处理，500代表没有登录权限，404代表不存在的订单
                if (params.code == 500) {
                    m_alert.show(params.msg, "right");
                    setTimeout(function() {
                        page_control.navigate_to_page(global_config.default_index_route);
                    }, 2400);
                    return;
                } else if (params.code == 404) {
                    m_alert.show(params.msg, "right");
                    setTimeout(function() {
                        page_control.navigate_to_page(global_config.default_index_route);
                    }, 2400);
                    return;
                }
                self._render_items(response.result_data.data);
            }).on("error:get_date_by_date_id:fetch", function() {
                m_alert.show("网络异常", "error");
            });
            //拒绝事件
            self.on("success:force_refund", function(response, options) {
                var msg = response.result_data.msg;
                var code = response.result_data.data;
                if (code == 1) {
                    m_alert.show(msg, "right");
                    if (self.from_app) {
                        App.app_back();
                    } else {
                        self._refresh();
                    }
                } else {
                    m_alert.show(msg, "error");
                }
            }).on("error:force_refund", function(response, options) {
                m_alert.show("提交失败，请重试", "error");
            }).on("complete:force_refund", function(response, options) {});
            //同意事件
            self.on("success:agree", function(response, options) {
                var msg = response.result_data.msg;
                var code = response.result_data.data;
                if (code == 1) {
                    m_alert.show(msg, "right");
                    if (self.from_app) {
                        App.app_back();
                    } else {
                        self._refresh();
                    }
                } else {
                    m_alert.show(msg, "error");
                }
            }).on("error:agree", function(response, options) {
                m_alert.show("提交失败，请重试", "error");
            }).on("complete:agree", function(response, options) {});
            //不同意事件
            self.on("success:disagree", function(response, options) {
                var msg = response.result_data.msg;
                var code = response.result_data.data;
                if (code == 1) {
                    m_alert.show(msg, "right");
                    if (self.from_app) {
                        App.app_back();
                    } else {
                        self._refresh();
                    }
                } else {
                    m_alert.show(msg, "error");
                }
            }).on("error:disagree", function(response, options) {
                m_alert.show("提交失败，请重试", "error");
            }).on("complete:disagree", function(response, options) {});
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: false
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self._refresh();
            });
        },
        _refresh: function() {
            var self = this;
            self.$('[data-role="date_cancel"]').addClass("fn-hide");
            self.$('[data-role="date_cancel_notice"]').addClass("fn-hide");
            self.$('[data-role="btn_talk_container"]').addClass("fn-hide");
            utility.user.get_date_by_date_id(self.get("date_id"));
            var view_port_height = self.reset_viewport_height() + 1;
            self.$container.height(view_port_height);
            self.view_scroll_obj.refresh();
        },
        _render_items: function(data) {
            var self = this;
            var has_btn = data.show_button_status || data.show_cancel_button_status;
            self.data_cache = data;
            data = $.extend(true, {}, data, {
                total_price: data.date_price * data.date_hour,
                date_role_is_model: self.get("date_role_is_model"),
                from_app: self.from_app,
                has_btn: has_btn
            });
            //底部提示用户拨打电话的提示
            var show_phone_notice = false;
            if (data.date_log && data.date_log.length != 0) {
                $.each(data.date_log, function(i, obj) {
                    if (obj.type == "reject") {
                        show_phone_notice = true;
                    }
                });
            }
            var html_str = items_tpl(data);
            var footer_str = footer_tpl(data);
            self.$list_container.html(html_str);
            self.date_id = data.date_id;
            self.model_nickname = data.model_nickname;
            self.model_user_icon = data.model_user_icon;
            self.cameraman_nickname = data.cameraman_nickname;
            self.cameraman_user_icon = data.cameraman_user_icon;
            self.cameraman_id = data.from_date_id;
            self.model_id = data.to_date_id;
            //摄影师申请退款按钮
            if (data.show_submit_refund_button == 1 && utility.user.get("role") == "cameraman") {
                self.$('[data-role="date_cancel"]').removeClass("fn-hide");
                self.$('[data-role="date_cancel_notice"]').removeClass("fn-hide");
            }
            //模特同意前退款 设置参数
            if (data.show_submit_refund_button == 1 && data.date_status == "wait" && data.pay_status == "1" && !self.from_app && utility.user.get("role") == "cameraman") {
                self.cancel_wait = true;
            }
            if (data.show_button_status || data.show_cancel_button_status) {
                var view_port_height = self.reset_viewport_height();
                self.$container.height(view_port_height - 50);
                self.view_scroll_obj.refresh();
            }
            if (data.cancel_status == 1 && data.cancel_log && data.cancel_log.length == 1 && utility.user.get("role") == "model" && !self.from_app) {
                //列表中的私聊一下按钮
                self.$('[data-role="btn_talk_container"]').removeClass("fn-hide");
                var view_port_height = self.reset_viewport_height();
                self.$container.height(view_port_height - 50);
                self.view_scroll_obj.refresh();
            }
            self.$footer_container.html(footer_str);
            if (self.from_app) {
                self.$('[data-role="btn_talk_container"]').addClass("fn-hide");
                self.$('[data-role="msg"]').addClass("fn-hide");
            }
            if (show_phone_notice && utility.user.get("role") == "cameraman") {
                self.$('[data-role="reject-notice"]').removeClass("fn-hide");
                self.$('[data-role="step_container"]').css("margin-bottom", "0px");
            }
            self.view_scroll_obj.refresh();
            self._drop_reset();
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="content-body"]');
            self.$list_container = self.$('[data-role="list"]');
            self.$footer_container = self.$('[data-role="footer-contain"]');
            self.from_app = self.get("from_app");
            self._setup_events();
            utility.user.get_date_by_date_id(self.get("date_id"));
            console.log(self.get("date_role_is_model"));
            self.setup_dialog_down_app();
        },
        setup_dialog_down_app: function() {
            var self = this;
            // 已注册过的提示层安装 hudw 2014.11.21
            self.dialog_down_app = new dialog({
                content: '<p class="wx_card_notice">如需与模特私聊，请下载APP</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_download_btn"><span class="ui-button-content">下载APP</span></button>'
            });
            self.dialog_down_app.on("tap:button:wx_card_download_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            });
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height() + 1;
            self.$container.height(view_port_height);
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav");
        }
    });
    module.exports = consider_view;
});

define("pai/wx-1.1.0/mine/consider_details_camera/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="consider_details_camera">\r\n    <header class="nav-header consider_details_camera-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">约拍详情</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n        <div class="tap fn-hide" data-role="date_cancel">申请退款</div>\r\n    </header>\r\n\r\n    <div class="content-body">\r\n        <div class="inside" data-role="content-body">\r\n            <div>\r\n                <div class="yuepai-info-mod" data-role="list">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="footer-contain" data-role="footer-contain"></div>\r\n    </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/mine/consider_details_camera/tpl/items-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <div class="top_notice"><span class="notice">';
            if (helper = helpers.top_title) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.top_title;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '</span><span class="notice_cancel fn-hide">X</span></div>\r\n';
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n        <div class="avatar-size-mod avatar-size-mod-50">\r\n            <span class="icon avatar-size-area"></span>\r\n            <i class="avatar-size-img" style="background-image: url(';
            if (helper = helpers.model_user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.model_user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ');background-size:cover;background-repeat: no-repeat;background-position: 50%;"></i>\r\n        </div>\r\n        <div class="cam-space">\r\n            <div class="cam-right">\r\n                <div class="user-name" data-role="user-name">';
            if (helper = helpers.model_nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.model_nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                <div class="location">\r\n                    <!--i class="icon icon-place"></i-->\r\n                    <span data-role="location-name">';
            if (helper = helpers.city_name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.city_name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="icon icon-r-16x26 arrow"></div>\r\n    ';
            return buffer;
        }
        function program5(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n        <div class="avatar-size-mod avatar-size-mod-50">\r\n            <span class="icon avatar-size-area"></span>\r\n            <i class="avatar-size-img" style="background-image: url(';
            if (helper = helpers.cameraman_user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.cameraman_user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ');background-size:cover;background-repeat: no-repeat;background-position: 50%;"></i>\r\n        </div>\r\n        <div class="cam-space">\r\n            <div class="cam-right">\r\n                <div class="user-name" data-role="user-name">';
            if (helper = helpers.cameraman_nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.cameraman_nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                <div class="location">\r\n                    <!--i class="icon icon-place"></i-->\r\n                    <span data-role="location-name">';
            if (helper = helpers.city_name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.city_name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="icon icon-r-16x26 arrow"></div>\r\n    ';
            return buffer;
        }
        function program7(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="step_container secondary" data-role="step_container">\r\n        <div class="line"></div>\r\n        <div class="step_side">\r\n            ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.date_log, {
                hash: {},
                inverse: self.noop,
                fn: self.program(8, program8, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        </div>\r\n    </div>\r\n";
            return buffer;
        }
        function program8(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="child">\r\n                    <div class="cirle"></div>\r\n                    <div class="user_icon">\r\n                        <div class="avatar-size-mod avatar-size-mod-32">\r\n                            <!--span class="icon avatar-size-area"></span-->\r\n                            <i class="avatar-size-img radius-af" style="background-image: url(';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ');background-size:cover;background-repeat: no-repeat;background-position: 50%;"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div class="log_side">\r\n                        <div class="title">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</div>\r\n                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.reason, {
                hash: {},
                inverse: self.noop,
                fn: self.program(9, program9, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n                        <div class="time">';
            if (helper = helpers.add_time) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.add_time;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                        <div class="btn_talk fn-hide" data-role="btn_talk_container">\r\n                            <button data-role="btn_talk" class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large">\r\n                                <span class="ui-button-content"><i class="icon icon-siliao-m"></i> 私聊一下</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ';
            return buffer;
        }
        function program9(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '<div class="reason">理由：';
            if (helper = helpers.reason) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.reason;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>";
            return buffer;
        }
        stack1 = helpers["if"].call(depth0, depth0 && depth0.top_title, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n<!--div class="top_notice fn-hide"><span class="notice">取消约拍提交成功，请静候回复。</span><span class="notice_cancel">X</span></div>\r\n<div class="top_notice fn-hide"><span class="notice">对方已接受取消约拍</span><span class="notice_cancel">X</span></div>\r\n<div class="top_notice fn-hide"><span class="notice">对方拒绝取消约拍</span><span class="notice_cancel">X</span></div>\r\n<div class="top_notice fn-hide"><span class="notice">已退款成功</span><span class="notice_cancel">X</span></div-->\r\n\r\n<div class="cam-head secondary" data-role="cam-dead" data-from_date_id="';
        if (helper = helpers.from_date_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.from_date_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-to_date_id="';
        if (helper = helpers.to_date_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.to_date_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">\r\n    <div class="cam-head-inside">\r\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.date_role_is_model, {
            hash: {},
            inverse: self.program(5, program5, data),
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    </div>\r\n</div>\r\n\r\n<ul class="list1 secondary">\r\n    <li>\r\n        <div class="l">价格：</div>\r\n        <div class="r">';
        if (helper = helpers.total_price_v2) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.total_price_v2;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <!--li>\r\n        <div class="l">时长：</div>\r\n        <div class="r">';
        if (helper = helpers.date_hour) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_hour;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '小时</div>\r\n    </li-->\r\n    <li>\r\n        <div class="l">到场拍摄人数：</div>\r\n        <div class="r">';
        if (helper = helpers.limit_num) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.limit_num;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <li>\r\n        <div class="l">风格：</div>\r\n        <div class="r">';
        if (helper = helpers.date_style) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_style;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <!--li data-role="nav-to-zone" data-user-id="';
        if (helper = helpers.from_date_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.from_date_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">\r\n        <div class="icon icon-r-16x26"></div>\r\n        <div class="l">摄影师：</div>\r\n        <div class="r">';
        if (helper = helpers.cameraman_nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.cameraman_nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li-->\r\n</ul>\r\n\r\n<ul class="list2 secondary">\r\n    <li>\r\n        <div class="l">到场拍摄时间：</div>\r\n        <div class="r">';
        if (helper = helpers.date_time) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_time;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <li>\r\n        <div class="l">地点：</div>\r\n        <div class="r">';
        if (helper = helpers.date_address) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_address;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <li>\r\n        <div class="l">单号：</div>\r\n        <div class="r">';
        if (helper = helpers.date_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <!--li>\r\n        <div class="l">时间：</div>\r\n        <div class="r">';
        if (helper = helpers.date_time) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_time;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <li>\r\n        <div class="l">类型：</div>\r\n        <div class="r">';
        if (helper = helpers.date_type) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_type;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n    </li>\r\n    <li>\r\n        <div class="l">地点：</div>\r\n        <div class="r">';
        if (helper = helpers.date_address) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.date_address;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</div>\r\n    </li-->\r\n</ul>\r\n";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.date_log, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n<div class="fn-hide" data-role="reject-notice" style="font-size: 12px;color: #666666;padding: 15px 10px 30px 10px;">莫灰心，大批靓模在等你，拨打4000-82-9003，我们帮你！</div>\r\n\r\n\r\n<div class="submit_notice fn-hide" data-role="date_cancel_notice">\r\n    <p class="title">温馨提示：</p>\r\n    <p>1、约拍24小时之前取消，直接默认，全额退款。</p>\r\n    <p>2、约拍24小时之内取消，需要获得模特确认。模特12小时内不回复，系统将默认退款。</p>\r\n    <p>3、在约拍24小时之内取消，模特不同意取消的，将退还总价的70%。</p>\r\n</div>\r\n\r\n\r\n';
        return buffer;
    });
});

define("pai/wx-1.1.0/mine/consider_details_camera/tpl/footer-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="btn_footer">\r\n        ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_button_status, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_cancel_button_status, {
                hash: {},
                inverse: self.noop,
                fn: self.program(15, program15, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    </div>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_code_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_comment_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(5, program5, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_accept_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(7, program7, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_reject_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(9, program9, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_scan_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(11, program11, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.show_event_finsh_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(13, program13, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="btn" data-role="show_ewm" data-event-id="';
            if (helper = helpers.event_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.event_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-enroll-id="';
            if (helper = helpers.enroll_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.enroll_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large">\r\n                        <span class="ui-button-content">出示签到券</span>\r\n                    </button>\r\n                </div>\r\n            ';
            return buffer;
        }
        function program5(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="btn" data-role="comment" data-from-date-id="';
            if (helper = helpers.from_date_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.from_date_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-to-date-id="';
            if (helper = helpers.to_date_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.to_date_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-date-id="';
            if (helper = helpers.date_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.date_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large">\r\n                        <span class="ui-button-content">评价</span>\r\n                    </button>\r\n                </div>\r\n            ';
            return buffer;
        }
        function program7(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="btn" data-role="agreement" data-date-id="';
            if (helper = helpers.date_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.date_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large">\r\n                        <span class="ui-button-content">同意</span>\r\n                    </button>\r\n                </div>\r\n            ';
            return buffer;
        }
        function program9(depth0, data) {
            return '\r\n                <div class="btn" data-role="refuse">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large">\r\n                        <span class="ui-button-content">拒绝</span>\r\n                    </button>\r\n                </div>\r\n            ';
        }
        function program11(depth0, data) {
            return '\r\n                <div class="btn" data-role="scan">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large">\r\n                        <span class="ui-button-content">扫描签到</span>\r\n                    </button>\r\n                </div>\r\n            ';
        }
        function program13(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="btn" data-role="confirm" data-event-id="';
            if (helper = helpers.event_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.event_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large">\r\n                        <span class="ui-button-content">确认拍摄完成</span>\r\n                    </button>\r\n                </div>\r\n            ';
            return buffer;
        }
        function program15(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.display_agree_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(16, program16, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.display_disagree_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(18, program18, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.display_refund_button, {
                hash: {},
                inverse: self.noop,
                fn: self.program(20, program20, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        ";
            return buffer;
        }
        function program16(depth0, data) {
            return '\r\n                <div class="btn" data-role="agree">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large">\r\n                        <span class="ui-button-content">同意取消</span>\r\n                    </button>\r\n                </div>\r\n            ';
        }
        function program18(depth0, data) {
            return '\r\n                <div class="btn" data-role="not_agree">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large">\r\n                        <span class="ui-button-content">不同意取消</span>\r\n                    </button>\r\n                </div>\r\n            ';
        }
        function program20(depth0, data) {
            return '\r\n                <div class="btn" data-role="force_refund">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large">\r\n                        <span class="ui-button-content">强制退款</span>\r\n                    </button>\r\n                </div>\r\n                <div class="btn fn-hide" data-role="msg">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large">\r\n                        <span class="ui-button-content">私聊一下</span>\r\n                    </button>\r\n                </div>\r\n            ';
        }
        stack1 = helpers["if"].call(depth0, depth0 && depth0.has_btn, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

/**
 * Created by Administrator on 2014/9/24.
 *
 * 我的 - 活动列表
 */
define("pai/wx-1.1.0/mine/status/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/status/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/mine/status/contain_view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/mine/status/model-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var status_view = require("pai/wx-1.1.0/mine/status/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var status_model = require("pai/wx-1.1.0/mine/status/model-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "外拍活动",
            route: {
                "mine/status(/:tap_type)": "mine/status"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new status_model({});
                var view = new status_view({
                    tap_type: route_params_arr[0],
                    model: model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/24.
 *
 * 我的 - 活动列表
 */
define("pai/wx-1.1.0/mine/status/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/mine/status/contain_view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/mine/status/model-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var consider_tpl = require("pai/wx-1.1.0/mine/status/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var contain_view = require("pai/wx-1.1.0/mine/status/contain_view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var container_model = require("pai/wx-1.1.0/mine/status/model-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var qr_tpl = require("pai/wx-1.1.0/act/security/tpl/big_qr_code-debug.handlebars");
    var consider_view = View.extend({
        attrs: {
            template: consider_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.navigate_to_page("mine");
            },
            'tap [data-carry="unpaid"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("cur").siblings().removeClass("cur");
                self.paid_view.hide();
                self.pub_view.hide();
                self.uppaid_view.show();
                //首次加载
                if (self.first_time_in_unpaid) {
                    self.uppaid_view.get_list();
                    self.first_time_in_unpaid = false;
                }
                //点击刷新
                if (self.current_type == "unpaid") {
                    self.uppaid_view.refresh();
                }
                self.current_type = "unpaid";
            },
            'tap [data-carry="paid"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("cur").siblings().removeClass("cur");
                self.uppaid_view.hide();
                self.pub_view.hide();
                self.paid_view.show();
                //首次加载
                if (self.first_time_in_paid) {
                    self.paid_view.get_list();
                    self.first_time_in_paid = false;
                }
                //点击刷新
                if (self.current_type == "confirm") {
                    self.paid_view.refresh();
                }
                self.current_type = "confirm";
            },
            'tap [data-carry="pub"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("cur").siblings().removeClass("cur");
                self.paid_view.hide();
                self.uppaid_view.hide();
                self.pub_view.show();
                //首次加载
                if (self.first_time_in_pub) {
                    self.pub_view.get_list();
                    self.first_time_in_pub = false;
                }
                //点击刷新
                if (self.current_type == "pub") {
                    self.pub_view.refresh();
                }
                self.current_type = "pub";
            },
            'tap [data-role="confirm_btn"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                if (confirm("是否确认结束")) {
                    self.model.confirm_date(event_id);
                }
            },
            'tap [data-role="btn_unpaid_pay"]': function(ev) {
                //去付款
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                var enroll_id = $cur_btn.attr("data-enroll-id");
                page_control.navigate_to_page("act/payment/" + event_id + "/" + enroll_id);
            },
            // 待付款 取消报名付款
            'tap [data-role="btn_unpaid_delete"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                var enroll_id = $cur_btn.attr("data-enroll-id");
                if (confirm("是否取消报名")) {
                    self.model.cancel_act(enroll_id);
                }
            },
            'tap [data-role="lists-to-info"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var enroll_id = $cur_btn.attr("data-enroll-id");
                var view_type = $cur_btn.attr("data-view-type");
                var event_id = $cur_btn.attr("data-event_id");
                var audit_status = $cur_btn.attr("data-audit_status");
                var data;
                if (audit_status == "0") {
                    m_alert.show("该活动在审核当中", "error");
                    return;
                }
                if (audit_status == "2") {
                    m_alert.show("该活动未通过审核", "error");
                    return;
                }
                console.log(enroll_id);
                //我发布的
                if (!enroll_id) {
                    page_control.navigate_to_page("mine/info/event/" + event_id);
                } else {
                    switch (view_type) {
                      case "unpaid":
                        data = self.uppaid_view.search_data_by_id(enroll_id);
                        break;

                      case "paid":
                        data = self.paid_view.search_data_by_id(enroll_id);
                        break;

                      case "pub":
                        data = self.pub_view.search_data_by_id(enroll_id);
                        break;
                    }
                    page_control.navigate_to_page("mine/info/enroll/" + enroll_id, data);
                }
            },
            'tap [data-role="btn_pub_show_ewm"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                var enroll_id = $cur_btn.attr("data-enroll-id");
                m_alert.show("加载二维码中...", "loading");
                utility.ajax_request({
                    url: global_config.ajax_url.get_act_ticket_detail,
                    data: {
                        event_id: event_id,
                        enroll_id: enroll_id
                    },
                    success: function(data) {
                        var qr_arr = data.result_data.data;
                        if (qr_arr.length == 0) {
                            m_alert.show("二维码不存在", "error");
                            return;
                        }
                        m_alert.hide({
                            delay: -1
                        });
                        // 放大二维码数据整合
                        var pic_w_h = Math.ceil(utility.get_view_port_width() - 90);
                        //滚动外框宽高
                        var out_height = pic_w_h + 35;
                        for (var i = 0; i < qr_arr.length; i++) {
                            qr_arr[i] = {
                                code: qr_arr[i].code,
                                qr_code: qr_arr[i].qr_code,
                                pic_w_h: pic_w_h,
                                out_height: out_height
                            };
                        }
                        // 数据结构
                        var data = {
                            qr_code_arr: qr_arr,
                            pic_w_h: pic_w_h,
                            out_height: out_height
                        };
                        var html_str = qr_tpl(data);
                        // 放大二维码弹出层
                        var dialog = new Dialog({
                            content: html_str
                        }).show();
                        var pic_view_scroll_obj = Scroll(dialog.$("[data-role=qr]"), {
                            lazyLoad: true
                        });
                        pic_view_scroll_obj.refresh();
                    },
                    error: function() {
                        m_alert.show("网络异常", "error");
                    }
                });
            },
            //去评价
            'tap [data-role="btn_paid_commit"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                //事件id
                var event_id = $cur_btn.attr("data-event-id");
                //被评价id
                var to_date_id = $cur_btn.attr("data-to-date-id");
                var table_id = $cur_btn.attr("data-table-id");
                var can_comment = $cur_btn.attr("data-can-comment");
                if (can_comment) {
                    page_control.navigate_to_page("comment/event/" + event_id + "/0", {
                        table_id: table_id
                    });
                }
            },
            'tap [data-role="btn_pub_scan"]': function() {
                if (App.isPaiApp) {
                    App.qrcodescan({
                        success: function(data) {
                            console.log(data.type);
                            page_control.navigate_to_page(data.type);
                        }
                    });
                }
            },
            'tap [data-role="btn_pub_finnish"]': function(ev) {
                //活动结束
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                if (confirm("是否结束活动")) {
                    self.model.set_event_end_act(event_id);
                }
            },
            // 取消活动
            'tap [data-role="btn_pub_cencel"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event-id");
                if (confirm("是否取消活动")) {
                    m_alert.show("提交中", "loading");
                    self.model.set_event_cancel_act(event_id);
                }
            }
        },
        _setup_events: function() {
            var self = this;
            self.model.on("before:confirm_date:fetch", function(response, options) {
                // 确认活动结束
                m_alert.show("发送中", "loading");
            }).on("success:confirm_date:fetch", function(response, options) {
                console.log(response);
                var responses = response.result_data;
                var msg = responses.msg;
                //m_alert.hide();
                if (responses.code > 0) {
                    m_alert.show(msg, "right", {
                        delay: 2e3
                    });
                    self.pub_view.refresh();
                } else {
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:confirm_date:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:confirm_date:fetch", function(response, options) {}).on("before:cancel_act:fetch", function(response, options) {
                m_alert.show("发送中", "loading", {
                    delay: 800
                });
            }).on("success:cancel_act:fetch", function(response, options) {
                var msg = response.result_data.msg;
                if (response.result_data.code == 1) {
                    console.log("in");
                    m_alert.show(msg, "right", {
                        delay: 2e3
                    });
                    setTimeout(function() {
                        self.uppaid_view.refresh();
                    }, 500);
                } else {
                    console.log("in_err");
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:cancel_act:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:cancel_act:fetch", function(response, options) {}).on("before:set_event_cancel_act:fetch", function(response, options) {
                m_alert.show("加载中...", "loading", {
                    delay: 800
                });
            }).on("success:set_event_cancel_act:fetch", function(response, options) {
                var responses = response.result_data;
                var msg = responses.msg;
                if (responses.code > 0) {
                    m_alert.show(msg, "right", {
                        delay: 2e3
                    });
                    self.pub_view.refresh();
                } else {
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:set_event_cancel_act:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:set_event_cancel_act:fetch", function(response, options) {}).on("before:set_event_end_act:fetch", function(response, options) {
                m_alert.show("加载中...", "loading", {
                    delay: 800
                });
            }).on("success:set_event_end_act:fetch", function(response, options) {
                var responses = response.result_data;
                var msg = responses.msg;
                if (responses.code > 0) {
                    m_alert.show(msg, "right", {
                        delay: 1e3
                    });
                    self.pub_view.refresh();
                } else {
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:set_event_end_act:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:set_event_end_act:fetch", function(response, options) {});
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="status-container"]');
            var model = new container_model();
            //待付款view
            self.uppaid_view = new contain_view({
                model: model,
                parentNode: self.$container,
                templateModel: {
                    type_tag: "unpaid"
                }
            }).render();
            //已付款view
            self.paid_view = new contain_view({
                model: model,
                parentNode: self.$container,
                templateModel: {
                    type_tag: "paid"
                }
            }).render();
            //我发布的view
            self.pub_view = new contain_view({
                model: model,
                parentNode: self.$container,
                templateModel: {
                    type_tag: "pub"
                }
            }).render();
            //首次进入标记
            self.first_time_in_unpaid = true;
            self.first_time_in_paid = true;
            self.first_time_in_pub = true;
            if (self.get("tap_type") == "unpaid") {
                //当前view标记
                self.current_type = "unpaid";
                self.uppaid_view.get_list();
                self.$('[data-carry="unpaid"]').addClass("cur").siblings().removeClass("cur");
                self.paid_view.hide();
                self.pub_view.hide();
                self.uppaid_view.show();
                self.first_time_in_unpaid = false;
            } else if (self.get("tap_type") == "paid") {
                self.current_type = "paid";
                self.paid_view.get_list();
                self.$('[data-carry="paid"]').addClass("cur").siblings().removeClass("cur");
                self.paid_view.show();
                self.pub_view.hide();
                self.uppaid_view.hide();
                self.first_time_in_paid = false;
            } else if (self.get("tap_type") == "pub") {
                self.current_type = "pub";
                self.pub_view.get_list();
                self.$('[data-carry="pub"]').addClass("cur").siblings().removeClass("cur");
                self.paid_view.hide();
                self.pub_view.show();
                self.uppaid_view.hide();
                self.first_time_in_pub = false;
            } else {
                //默认打开待付款
                self.current_type = "unpaid";
                self.uppaid_view.get_list();
                self.first_time_in_unpaid = false;
            }
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = consider_view;
});

define("pai/wx-1.1.0/mine/status/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="status wryh">\r\n\r\n    <header class="nav-header ">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">外拍订单</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n  \r\n    <div class="content-body">\r\n        <div class="measure-choosen">\r\n            <ul class="measure-choosen-in">\r\n                <i class="measure-choosen-child cur" data-carry="unpaid" data-role="pay">待付款</i>\r\n                <i class="measure-choosen-child" data-carry="paid" data-role="price">已付款</i>\r\n                <i class="measure-choosen-child" data-carry="pub" data-role="start">我发布的</i>\r\n            </ul>\r\n        </div>\r\n        <div class="status-container" data-role="status-container">\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</main>\r\n';
    });
});

/**
 * Created by nolest on 2014/9/24.
 *
 * 我的 - 活动列表
 */
define("pai/wx-1.1.0/mine/status/contain_view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var container_tpl = require("pai/wx-1.1.0/mine/status/tpl/container-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var list_tpl = require("pai/wx-1.1.0/mine/status/tpl/list-debug.handlebars");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var contain_view = View.extend({
        attrs: {
            template: container_tpl
        },
        events: {},
        _setup_events: function() {
            var self = this;
            self.model.on("before:fetch", function() {
                m_alert.show("加载中", "loading");
            }).on("success:fetch", function(response, options) {
                m_alert.hide();
                //区分获取数据的view
                if (options.data.type == self.get("templateModel").type_tag) {
                    //self.$pull_down_btn.html('加载更多');
                    /*if(response.result_data.has_next_page)
                        {
                            self.$pull_down_btn.removeClass('fn-hide');
                        }
                        else
                        {
                            self.$pull_down_btn.addClass('fn-hide');
                        }*/
                    self.data_cache = response.result_data;
                    self._render_invited_card(response.result_data, options.data.type);
                    self.fetching = false;
                }
            }).on("error:fetch", function(response, options) {
                //self.$pull_down_btn.html('加载更多');
                m_alert.show("网络异常", "error");
            }).on("complete:fetch", function(response, options) {});
        },
        search_data_by_id: function(id) {
            var self = this;
            var data;
            if (self.data_cache) {
                $.each(self.data_cache.list, function(i, obj) {
                    if (obj.enroll_id == id) {
                        data = obj;
                    }
                });
            }
            return data;
        },
        setup: function() {
            var self = this;
            self.type_tag = self.get("templateModel").type_tag;
            self.$container = self.$("[data-role=" + self.type_tag + "-container]");
            self.$content_inside = self.$("[data-role=" + self.type_tag + "-inside]");
            //self.$pull_down_btn = self.$('[data-role=' + self.type_tag + '-pull-down]');
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            self.page_count = 1;
            self.fetching = false;
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 40;
        },
        /* 渲染列表
         *
         */
        _render_invited_card: function(data, type) {
            var self = this;
            self.has_next_page = data.has_next_page;
            self.page_count++;
            if (data.list) {
                $.each(data.list, function(i, obj) {
                    var hide_line = false;
                    switch (type) {
                      case "unpaid":
                        hide_line = !(obj.event_detail.enroll_pay_button || obj.event_detail.enroll_cancel_button);
                        break;

                      case "paid":
                        hide_line = !(obj.event_detail.enroll_code_button || obj.event_detail.enroll_comment_button);
                        break;

                      case "pub":
                        hide_line = !(obj.event_detail.event_finish_button || obj.event_detail.event_scan_button);
                        break;
                    }
                    /*
                    //按钮类型
                    var btn_type = {}


                    switch (type)
                    {
                        case 'unpaid' : btn_type = { btn_type_unpaid : 1 };break;
                        case 'paid' : btn_type = { btn_type_paid : 1};break;
                        case 'pub' : btn_type = { btn_type_pub : 1};break;
                    }
                    //待付款、已付款、发布按钮类型整合
                    var data = $.extend(true,{},obj.event_detail,btn_type,{enroll_id:obj.enroll_id,show_btn : 1});


                    //发布具体按钮整合
                    if(type == 'pub')
                    {
                        switch (data.audit_status)
                        {
                            case '0':data = $.extend(true,data,{pic_show_reject:0,pic_show_no_reject:1,show_btn : 0});break;
                            case '1':data = $.extend(true,data,{pic_show_reject:0,pic_show_no_reject:0,show_btn : 1,_author:1});break;
                            case '2':data = $.extend(true,data,{pic_show_reject:1,pic_show_no_reject:0,show_btn : 0});break;
                        }

                        if(data._author == 1)
                        {
                            switch (data.event_status)
                            {
                                case 0: data = $.extend(true,data,{pub_btn_finish:1,pub_btn_cancel:1,pub_btn_notice:0,pub_btn_notice_text:'',pub_btn_scan:1,show_btn : 1});break;
                                case 1: data = $.extend(true,data,{pub_btn_finish:0,pub_btn_cancel:0,pub_btn_notice:0,pub_btn_notice_text:'',show_btn : 0});break;
                                case 2: data = $.extend(true,data,{pub_btn_finish:0,pub_btn_cancel:0,pub_btn_notice:1,pub_btn_notice_text:'活动已结束',show_btn : 0});break;
                                case 3: data = $.extend(true,data,{pub_btn_finish:0,pub_btn_cancel:0,pub_btn_notice:1,pub_btn_notice_text:'活动已取消',show_btn : 0});break;
                            }
                        }
                    }

                    if(type == 'paid')
                    {
                        switch(data.is_scan)
                        {
                            case 0:data = $.extend(true,{},data,{show_scan_btn : 1,show_comment_btn : 0,show_btn : 1});break;
                            case 1:data = $.extend(true,{},data,{show_scan_btn : 1,show_comment_btn : 1,show_btn : 1});break;
                            case 2:data = $.extend(true,{},data,{show_scan_btn : 0,show_comment_btn : 1,show_btn : 1});break;
                        }


                    }

                    if((type == 'paid' && data.is_end && data.is_comment) || (type == 'paid' && data.is_end && data.is_scan==0))
                    {
                        data = $.extend(true,{},data,{show_btn : 0})
                    }

                    if((type == 'paid' && !data.is_end && data.is_scan ==1) && (data.is_scan==0 || type == 'paid' && !data.show_scan_btn))
                    {
                        data = $.extend(true,{},data,{show_btn : 0})
                    }
                    */
                    //在每个view中加入type 和隐藏1px border-top 和enroll_id nolset 2015-02-06
                    obj.event_detail = $.extend(true, {}, obj.event_detail, {
                        view_type: type,
                        hide_line: hide_line,
                        enroll_id: obj.enroll_id
                    });
                    //待审核、审核未通过的图
                    switch (obj.event_detail.audit_status) {
                      case "0":
                        obj.event_detail = $.extend(true, obj.event_detail, {
                            pic_show_reject: 0,
                            pic_show_no_reject: 1
                        });
                        break;

                      case "1":
                        obj.event_detail = $.extend(true, obj.event_detail, {
                            pic_show_reject: 0,
                            pic_show_no_reject: 0
                        });
                        break;

                      case "2":
                        obj.event_detail = $.extend(true, obj.event_detail, {
                            pic_show_reject: 1,
                            pic_show_no_reject: 0
                        });
                        break;
                    }
                    var view = list_tpl({
                        data: obj.event_detail
                    });
                    self.$content_inside.append(view);
                });
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.refresh();
                } else {
                    self.view_scroll_obj.refresh();
                    self.view_scroll_obj.change_scroll_position();
                }
                /*if(self.page_count <=1)
                {
                    self.view_scroll_obj.scrollTo(0,0);

                    //self.view_scroll_obj.resetLazyLoad();

                    self.view_scroll_obj.refresh();
                }
                else
                {

                    //self.view_scroll_obj.resetLazyLoad();

                    self.view_scroll_obj.refresh();
                }*/
                self._drop_reset();
            }
            //无内容时显示背景
            if (self.$content_inside.children().length == 0) {
                setTimeout(function() {
                    self.abnormal_view = new abnormal({
                        templateModel: {
                            content_height: utility.get_view_port_height("all") - 75
                        },
                        parentNode: self.$content_inside
                    }).render();
                }, 500);
            }
        },
        /* 安装滚动条
         *
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                down_direction: "down",
                down_direction_distance: 50
            });
            /*view_scroll_obj.on('scrollMoveAfter',function()
            {
                var _self = this;



                if(_self.maxScrollY - _self.y > 60)
                {
                    //有下一页时才加载
                    if(self.has_next_page && !self.fetching)
                    {

                        self.fetching = true;

                        self.get_list();
                    }
                }
                else if(_self.maxScrollY - _self.y > 30)
                {
                    self.$pull_down_btn.html('上拉释放');
                }
            });
*/
            self.view_scroll_obj = view_scroll_obj;
            // modify by hudw 2015.2.2
            self.view_scroll_obj.on("pullload", function(e) {
                if (self.has_next_page && !self.fetching) {
                    self.fetching = true;
                    self.get_list();
                } else {
                    self._drop_reset();
                }
            });
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
            self.view_scroll_obj.refresh();
        },
        /* 加载数据
         *
         */
        get_list: function() {
            var self = this;
            console.log("get-list");
            var data = {
                type: self.get("templateModel").type_tag,
                page: self.page_count
            };
            self.model.get_more_list(data);
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        /*  刷新方法
         *
         */
        refresh: function() {
            var self = this;
            console.log("refresh");
            self.page_count = 1;
            self.$content_inside.html("");
            var refresh_data = {
                type: self.get("templateModel").type_tag,
                page: self.page_count
            };
            self.model.get_more_list(refresh_data);
            self.view_scroll_obj.refresh();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
    module.exports = contain_view;
});

define("pai/wx-1.1.0/mine/status/tpl/container-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div>\r\n    <div class="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" data-contain data-role="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-container">\r\n        <div class="wrap-box">\r\n            <div class="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-inside h-100" data-role="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-inside">\r\n\r\n            </div>\r\n            <div data-role="';
        if (helper = helpers.type_tag) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.type_tag;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '-pull-down" class="w-100 fn-hide" style="text-align: center;height: 45px;">\r\n                加载更多\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n';
        return buffer;
    });
});

define("pai/wx-1.1.0/mine/status/tpl/list-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            return '\r\n                <div class="tips-con-red">\r\n                    <div class="tips">官方</div>\r\n                    <div class="delta"></div>\r\n                </div>\r\n            ';
        }
        function program3(depth0, data) {
            return '\r\n                <div class="tips-con-green">\r\n                    <div class="tips">免费</div>\r\n                    <div class="delta"></div>\r\n                </div>\r\n            ';
        }
        function program5(depth0, data) {
            return '\r\n                <div class="tips-con-orange">\r\n                    <div class="tips">推荐</div>\r\n                    <div class="delta"></div>\r\n                </div>\r\n            ';
        }
        function program7(depth0, data) {
            return '\r\n                <div class="pic-fade"></div>\r\n                <div class="icon icon-pic-reject pic-logo-reject"></div>\r\n            ';
        }
        function program9(depth0, data) {
            return '\r\n                <div class="pic-fade"></div>\r\n                <div class="icon icon-pic-no-reject pic-logo-no-reject"></div>\r\n            ';
        }
        function program11(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.noop,
                fn: self.program(12, program12, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            return buffer;
        }
        function program12(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.stars_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(13, program13, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program13(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <p class="detail">\r\n                        <i class="icon icon-act-list-starts"></i>\r\n                        ';
            stack1 = helpers.each.call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.stars_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(14, program14, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    </p>\r\n                    ";
            return buffer;
        }
        function program14(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                            ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(17, program17, data),
                fn: self.program(15, program15, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                        ";
            return buffer;
        }
        function program15(depth0, data) {
            return '\r\n                                <i class="icon icon-stat-s-y"></i>\r\n                            ';
        }
        function program17(depth0, data) {
            return '\r\n                                <i class="icon icon-stat-s-g"></i>\r\n                            ';
        }
        function program19(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                <!--p class="detail" data-role="pub_notice">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.pub_btn_notice_text), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</p-->\r\n            ";
            return buffer;
        }
        function program21(depth0, data) {
            return 'style="border-top: none"';
        }
        function program23(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-prev-default="1" data-role="btn_unpaid_pay" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n                <span class="ui-button-content">去支付</span>\r\n            </button>\r\n        ';
            return buffer;
        }
        function program25(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-color3 ui-button-size-radius-large auto_width" data-prev-default="1" data-role="btn_unpaid_delete" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n                <span class="ui-button-content">取消</span>\r\n            </button>\r\n        ';
            return buffer;
        }
        function program27(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_pub_show_ewm">\r\n                <span class="ui-button-content">出示活动券</span>\r\n            </button>\r\n        ';
            return buffer;
        }
        function program29(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-can-comment="1" data-prev-default="1" data-table-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.table_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"  data-to-date-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.to_date_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_paid_commit">\r\n                <span class="ui-button-content">评价活动</span>\r\n            </button>\r\n        ';
            return buffer;
        }
        function program31(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-color2 ui-button-size-radius-large auto_width" data-prev-default="1" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_pub_finnish">\r\n                <span class="ui-button-content">完成活动</span>\r\n            </button>\r\n        ';
            return buffer;
        }
        function program33(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width" data-prev-default="1" data-event-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="btn_pub_scan">\r\n                <span class="ui-button-content">扫码签到</span>\r\n            </button>\r\n        ';
            return buffer;
        }
        function program35(depth0, data) {
            return '\r\n            <div class="btn_unpaid_container">\r\n\r\n\r\n            </div>\r\n        ';
        }
        function program37(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <div class="btn_paid_container">\r\n                ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_end), {
                hash: {},
                inverse: self.program(44, program44, data),
                fn: self.program(38, program38, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            </div>\r\n        ";
            return buffer;
        }
        function program38(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.show_comment_btn), {
                hash: {},
                inverse: self.noop,
                fn: self.program(39, program39, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program39(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_comment), {
                hash: {},
                inverse: self.program(42, program42, data),
                fn: self.program(40, program40, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            return buffer;
        }
        function program40(depth0, data) {
            return "\r\n                        ";
        }
        function program42(depth0, data) {
            return "\r\n\r\n                        ";
        }
        function program44(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.show_scan_btn), {
                hash: {},
                inverse: self.noop,
                fn: self.program(45, program45, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            return buffer;
        }
        function program45(depth0, data) {
            return "\r\n\r\n                    ";
        }
        function program47(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n            <div class="btn_pub_container">\r\n                ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_finish_button), {
                hash: {},
                inverse: self.noop,
                fn: self.program(48, program48, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_scan_button), {
                hash: {},
                inverse: self.noop,
                fn: self.program(48, program48, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n            </div>\r\n        ";
            return buffer;
        }
        function program48(depth0, data) {
            return "\r\n\r\n                ";
        }
        buffer += '<div class="child" data-role="event-item" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-event_id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-view-type="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.view_type), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-audit_status="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.audit_status), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n    <div class="lists" data-role="lists-to-info" data-enroll-id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-event_id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-view-type="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.view_type), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-audit_status="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.audit_status), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n        <i class="child-img " style="background-image: url(\'' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.cover_image), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "')\">\r\n\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_authority), {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_free), {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_recommend), {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pic_show_reject), {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pic_show_no_reject), {
            hash: {},
            inverse: self.noop,
            fn: self.program(9, program9, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n\r\n        </i>\r\n        <div class="child-text">\r\n            <p class="title">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.title), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</p>\r\n            <p class="detail">\r\n                <i class="icon icon-act-list-athor"></i>\r\n                ' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.nickname), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</p>\r\n            <p class="detail">\r\n                <i class="icon icon-act-list-date"></i>\r\n                ' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.start_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</p>\r\n            <p class="detail">\r\n                <i class="icon icon-act-list-price"></i>\r\n                ￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "/人</p>\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.is_end), {
            hash: {},
            inverse: self.noop,
            fn: self.program(11, program11, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n            <p class="detail"><i class="icon icon-act-list-join-num"></i>' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
        stack1 == null || stack1 === false ? stack1 : stack1.event_join), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "人</p>\r\n            ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pub_btn_notice), {
            hash: {},
            inverse: self.noop,
            fn: self.program(19, program19, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class="list-btns" data-role="list-btns" ';
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.hide_line), {
            hash: {},
            inverse: self.noop,
            fn: self.program(21, program21, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += ">\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_pay_button), {
            hash: {},
            inverse: self.noop,
            fn: self.program(23, program23, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_cancel_button), {
            hash: {},
            inverse: self.noop,
            fn: self.program(25, program25, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_code_button), {
            hash: {},
            inverse: self.noop,
            fn: self.program(27, program27, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_comment_button), {
            hash: {},
            inverse: self.noop,
            fn: self.program(29, program29, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_finish_button), {
            hash: {},
            inverse: self.noop,
            fn: self.program(31, program31, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_scan_button), {
            hash: {},
            inverse: self.noop,
            fn: self.program(33, program33, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.btn_type_unpaid), {
            hash: {},
            inverse: self.noop,
            fn: self.program(35, program35, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.btn_type_paid), {
            hash: {},
            inverse: self.noop,
            fn: self.program(37, program37, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.btn_type_pub), {
            hash: {},
            inverse: self.noop,
            fn: self.program(47, program47, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/24.
 */
define("pai/wx-1.1.0/mine/status/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "$-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = Backbone.Model.extend({
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {},
        get_more_list: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.status_list,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        },
        cancel_act: function(enroll_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.del_enroll_act,
                data: {
                    enroll_id: enroll_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:cancel_act:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:cancel_act:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:cancel_act:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:cancel_act:fetch", xhr, status);
                }
            });
            return self;
        },
        set_event_end_act: function(event_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.set_event_end_act,
                data: {
                    event_id: event_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:set_event_end_act:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:set_event_end_act:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:set_event_end_act:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:set_event_end_act:fetch", xhr, status);
                }
            });
            return self;
        },
        /**
         * 取消我发布的活动
         * @param event_id
         * @returns {exports}
         */
        set_event_cancel_act: function(event_id) {
            console.log("in_model");
            var self = this;
            self.fetch({
                url: global_config.ajax_url.set_event_cancel_act,
                data: {
                    event_id: event_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:set_event_cancel_act:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    console.log("success");
                    self.trigger("success:set_event_cancel_act:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:set_event_cancel_act:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:set_event_cancel_act:fetch", xhr, status);
                }
            });
            return self;
        },
        /**
         * 确认活动
         * @param event_id
         */
        confirm_date: function(event_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.set_event_end_act,
                data: {
                    event_id: event_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:confirm_date:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:confirm_date:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:confirm_date:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:confirm_date:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolest on 2014/8/30.
 */
/**
 * 首页 - 活动列表
 */
define("pai/wx-1.1.0/act/list/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/list/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/select_drop/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/slide/view-debug", "pai/wx-1.1.0/common/swipe-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/widget/act_list/view-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/act/model-debug", "pai/wx-1.1.0/act/collection-debug", "pai/wx-1.1.0/common/collection-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var this_view = require("pai/wx-1.1.0/act/list/view-debug");
    var this_model = require("pai/wx-1.1.0/act/model-debug");
    var this_collection = require("pai/wx-1.1.0/act/collection-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "活动列表",
            route: {
                "act/list": "act/list"
            },
            transition_type: "none",
            initialize: function() {
                var self = this;
                //默认选项
                self.default_options = {
                    page: 1,
                    time_querys: "",
                    price_querys: "",
                    start_querys: ""
                };
                var model = new this_model({});
                var collection = new this_collection({
                    model: model,
                    default_options: self.default_options
                });
                self.view = new this_view({
                    model: model,
                    collection: collection,
                    parentNode: self.$el
                }).render();
            },
            page_init: function(page_view, route_params_arr, route_params_obj) {
                console.log(route_params_arr);
            },
            page_before_show: function() {
                var self = this;
                if (App.isPaiApp) {
                    App.check_login(function(ret) {
                        console.log("====== act list check_login ======");
                        console.log(ret);
                        var local_location_id = utility.int(utility.storage.get("location_id"));
                        var client_location_id = utility.int(ret.locationid);
                        if (local_location_id != client_location_id) {
                            utility.storage.set("location_id", client_location_id);
                            self.view && self.view.collection.get_list();
                        }
                    });
                }
            },
            page_show: function() {},
            page_before_hide: function() {},
            page_hide: function() {
                var self = this;
                //换页前清理下拉菜单
                self.view.select_drop_obj.stay();
            }
        };
    } ]);
});

/**
 * Created by nolest on 2014/8/30.
 * 活动列表
 */
define("pai/wx-1.1.0/act/list/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/select_drop/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/slide/view-debug", "pai/wx-1.1.0/common/swipe-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/widget/act_list/view-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/list/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var select_drop = require("pai/wx-1.1.0/ui/select_drop/view-debug");
    var slide = require("pai/wx-1.1.0/widget/slide/view-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var act_list_view = require("pai/wx-1.1.0/widget/act_list/view-debug");
    var pull_down = require("pai/wx-1.1.0/widget/pull_down/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var model_card_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-tap]": function(ev) {
                var self = this;
                var type = $(ev.currentTarget).find("[data-role]").attr("data-role");
                if (self.current_type == type && self.is_show_condition) {
                    self._hide_condition_con();
                    return;
                }
                self.current_type = type;
                self.$('[data-role="arrow"]').removeClass("icon-act-list-arrow-red").addClass("icon-act-list-arrow");
                $(ev.currentTarget).find('[data-role="arrow"]').addClass("icon-act-list-arrow-red");
                self.$("[data-text]").removeClass("cur");
                $(ev.currentTarget).find("[data-role]").addClass("cur");
                self._show_condition_con();
                self.$('[data-role="' + type + '-con"]').removeClass("fn-hide");
            },
            'tap [data-role="fade"]': function() {
                var self = this;
                self.$("[data-tap]").removeClass("cur");
                self._hide_condition_con();
            },
            "tap [data-carry]": function(ev) {
                var self = this;
                var $btn = $(ev.currentTarget);
                $btn.addClass("cur").siblings().removeClass("cur");
                var query = $btn.attr("data-carry");
                var query_html = $btn.text();
                switch (self.current_type) {
                  case "time":
                    self.mix_options = {
                        page: 1,
                        time_querys: query
                    };
                    if (query == "") {
                        query_html = "时间";
                    }
                    self.$('[data-role="time"]').html(query_html);
                    break;

                  case "price":
                    self.mix_options = {
                        page: 1,
                        //time_querys : "",
                        price_querys: query
                    };
                    if (query == "") {
                        query_html = "价格";
                    }
                    self.$('[data-role="price"]').html(query_html);
                    break;

                  case "start":
                    self.mix_options = {
                        page: 1,
                        //time_querys : "",
                        //price_querys : "",
                        start_querys: query
                    };
                    if (query == "") {
                        query_html = "发起者";
                    }
                    self.$('[data-role="start"]').html(query_html);
                    break;
                }
                self.$('[data-role="arrow"]').removeClass("icon-act-list-arrow-red").addClass("icon-act-list-arrow");
                self.clearContainer = true;
                self.select_options = $.extend(true, {}, self.select_options, self.mix_options, {
                    reset: 1
                });
                self.collection.set_select_options(self.select_options);
                self._hide_condition_con();
                self.collection.get_list();
            },
            'tap [data-role="select-more"]': function() {
                var self = this;
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                page_control.navigate_to_page("act/pub_info", utility.user);
                return;
                if (self.select_drop_obj.is_drop()) {
                    self.select_drop_obj.pull_up();
                } else {
                    self.select_drop_obj.drop_down();
                }
            },
            'tap [data-role="event-item"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                if (!utility.auth.is_login()) {
                    page_control.navigate_to_page("account/login");
                    return;
                }
                var event_id = utility.int($cur_btn.attr("data-event-id"));
                page_control.navigate_to_page("act/detail/" + event_id);
            },
            'touch [data-role="content-body"]': function() {
                var self = this;
                if (!self.select_drop_obj.is_drop()) {
                    return;
                }
                self.select_drop_obj.pull_up();
            }
        },
        _show_condition_con: function() {
            var self = this;
            self.$condition.removeClass("fn-hide");
            self.$("[data-con]").addClass("fn-hide");
            self.is_show_condition = true;
        },
        _hide_condition_con: function() {
            var self = this;
            self.$condition.addClass("fn-hide");
            self.$("[data-con]").addClass("fn-hide");
            self.is_show_condition = false;
        },
        _is_show: function() {
            var self = this;
            return self.is_show_condition;
        },
        _setup_pull_down: function() {
            var self = this;
            self.pull_down_obj = new pull_down({
                // 元素插入位置
                parentNode: self.$pull_down_container
            }).render();
        },
        _setup_select_drop: function() {
            var self = this;
            self.select_drop_obj = new select_drop({
                parentNode: self.$el
            }).render();
        },
        _setup_events: function() {
            var self = this;
            //            self.collection
            //                .on('reset',self._reset,self)
            //                .on('add', self._add_one, self)
            //                .on('before:fetch',function(xhr)
            //                {
            //                    if(xhr.reset)
            //                    {
            //                        m_alert.show('加载中...','loading',{delay:1000});
            //                    }
            //                })
            //                .on('success:fetch',function(response,xhr)
            //                {
            //                    m_alert.hide();
            //
            //                    self._render_act_list(response,xhr)
            //                })
            //                .on('error:fetch',function(response,xhr)
            //                {
            //                    m_alert.show('网络不给力','error',{delay:1000})
            //                })
            //                .on('complete:fetch',function(xhr,status)
            //                {
            //                    self.fetching = false;
            //                });
            self.listenTo(self.collection, "reset", self._reset).listenTo(self.collection, "add", self._addOne).listenTo(self.collection, "before:fetch", function(xhr) {
                // modif by hudw 2015.2.6
                if (self.collection && self.collection.get_select_options().page == 1) {
                    m_alert.show("加载中...", "loading", {
                        delay: 1e3
                    });
                }
            }).listenTo(self.collection, "success:fetch", function(response, xhr) {
                self._render_act_list(response, xhr);
                if (self.$list_container.children().length == 0) {
                    self.abnormal_view = new abnormal({
                        templateModel: {
                            content_height: utility.get_view_port_height("all") - 75
                        },
                        parentNode: self.$list_container
                    }).render();
                }
                m_alert.hide();
            }).listenTo(self.collection, "error:fetch", function(response, xhr) {
                m_alert.show("网络不给力", "error", {
                    delay: 1e3
                });
            }).listenTo(self.collection, "complete:fetch", function(xhr, status) {
                self.fetching = false;
            }).listenTo(self.model, "before:ad_pic:fetch", self._before_ad_pic_fetch).listenTo(self.model, "success:ad_pic:fetch", self._success_ad_pic_fetch).listenTo(self.model, "error:ad_pic:fetch", self._error_ad_pic_fetch).listenTo(self.model, "complete:ad_pic:fetch", self._complete_ad_pic_fetch);
            self.on("update_list", function(response, xhr) {
                var view_port_height = self.reset_viewport_height() - 90;
                self.$container.height(view_port_height);
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    // 重置下拉
                    self._drop_reset();
                    return;
                }
                if (xhr.reset) {
                    self.view_scroll_obj.reset_top();
                    self.view_scroll_obj.resetLazyLoad();
                }
                // 重置下拉
                self._drop_reset();
                self.view_scroll_obj.refresh();
            });
            self.on("render", function() {});
        },
        _reset: function() {
            var self = this;
            self.collection.length && self.collection.each(self._add_one, self);
        },
        _add_one: function(model) {
            var self = this;
            self._render_queue.push(model.toJSON());
            return self;
        },
        _render_act_list: function(response, xhr) {
            var self = this;
            var render_queue = response.result_data && response.result_data.list || [];
            var document_frag = document.createDocumentFragment();
            $.each(render_queue, function(i, obj) {
                var pre_view = new act_list_view({
                    model: obj,
                    templateModel: obj
                }).render();
                document_frag.appendChild(pre_view.list()[0]);
            });
            // 判断调用重新加载还是插入方法
            var method = xhr.reset ? "html" : "append";
            self.$list_container[method](document_frag);
            self.trigger("update_list", response, xhr);
            // 清空队列
            self._render_queue = [];
        },
        _setup_scroll: function() {
            var self = this;
            self._top_offset = 90;
            var view_scroll_obj = Scroll(self.$container, {
                topOffset: self._top_offset,
                lazyLoad: true,
                down_direction: "down",
                down_direction_distance: 50
            });
            self.view_scroll_obj = view_scroll_obj;
            // 上拉刷新
            self.view_scroll_obj.on("dropload", function(e) {
                console.log(e);
                self.collection.set_select_options({
                    page: 1,
                    reset: 1
                });
                self.collection.get_list();
            });
            // 下拉加载更多
            // hudw 2015.1.30
            self.view_scroll_obj.on("pullload", function(e) {
                console.log(e);
                self.clearContainer = false;
                self.fetching = true;
                //防止反复提交请求
                self.collection.set_select_options({
                    page: ++self.collection.get_select_options().page,
                    reset: 0
                });
                self.collection.get_list();
            });
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_out_pai: true
                }
            }).render();
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav");
        },
        _before_ad_pic_fetch: function() {},
        _success_ad_pic_fetch: function(response, xhrOptions) {
            var self = this;
            //安装广告滚动(这个必需在渲染后安装，否则获取不到宽度)
            var pics = response.result_data.list;
            if (!pics) {
                return;
            }
            var len = pics.length;
            //            if(len == 0){
            //                return;
            //            }
            var contents = [];
            for (var i = 0; i < pics.length; i++) {
                contents.push({
                    content: '<i class ="img image-img loaded" style="background-image: url(' + pics[i].img + ');"></i>'
                });
            }
            self._setup_ad_pic(contents);
        },
        _error_ad_pic_fetch: function() {},
        _complete_ad_pic_fetch: function() {},
        /**
         * 安装广告滚动
         * @param contents
         * @private
         */
        _setup_ad_pic: function(contents) {
            if (!(contents.length > 0)) {
                return;
            }
            var self = this;
            //当只有一张图时不显示小圆点
            var no_single;
            contents.length > 1 ? no_single = true : no_single = false;
            //设置选中第一个
            contents[0].class = "current";
            self.$ad_pic_out = self.$("[data-role=ad-pic-out]");
            self.slide_view = new slide({
                templateModel: {
                    contents: contents,
                    no_single: no_single
                },
                parentNode: self.$ad_pic_out
            }).set_options({
                disableScroll: true,
                // 停止滚动冒泡
                continuous: true,
                // 无限循环的图片切换效果
                //auto : 1000,
                startSlide: 0
            }).render();
        },
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$('[data-role="action-list-content"]');
            // 滚动容器
            self.$list_container = self.$('[data-role="action-child-con"]');
            //列表容器
            self.$condition = self.$('[data-role="condition-con"]');
            //选项层
            self.$pull_down_container = self.$("[data-role=pull_down_container]");
            // 安装事件
            self._setup_events();
            self._setup_select_drop();
            self._setup_footer();
            //self._setup_pull_down();
            self.is_show_condition = false;
            self.fetching = false;
            self.clearContainer = false;
            self.select_options = {
                page: 1,
                time_querys: "",
                price_querys: "",
                start_querys: ""
            };
            self._render_queue = [];
            self.collection.get_list();
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height() - 90;
            self.$container.height(view_port_height);
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = model_card_view;
});

define("pai/wx-1.1.0/act/list/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="action-list wryh">\r\n\r\n<!--     <header class="page-header wryh">\r\n        外拍活动\r\n        <div class="select-drop-trigger fn-hide" data-role="select-more">\r\n            <i class="icon icon-pub-50x50 more-select-icon"></i>\r\n        </div>\r\n    </header> -->\r\n\r\n    <header class="nav-header ">\r\n\r\n\r\n        <h3 class="title">外拍活动</h3>\r\n        \r\n\r\n    </header>\r\n    <!-- drop module -->\r\n\r\n    <!-- drop module end-->\r\n    <div class="content-body" data-role="content-body">\r\n        <div data-role="ad-pic-out">\r\n\r\n        </div>\r\n\r\n        <div class="measure-choosen" data-role="measure-choosen">\r\n            <ul class="measure-choosen-in">\r\n                <li class="tap_choosen" data-tap>\r\n                    <i class="measure-choosen-child"  data-text data-role="time">时间</i>\r\n                    <div class="icon-container">\r\n                        <i class="icon icon-act-list-arrow" data-role="arrow"></i>\r\n                    </div>\r\n                </li>\r\n                <li class="tap_choosen" data-tap>\r\n                    <i class="measure-choosen-child" data-text data-role="price">价格</i>\r\n                    <div class="icon-container">\r\n                        <i class="icon icon-act-list-arrow" data-role="arrow"></i>\r\n                    </div>\r\n                </li>\r\n                <li class="tap_choosen" data-tap>\r\n                    <i class="measure-choosen-child"  data-text data-role="start">发起者</i>\r\n                    <div class="icon-container">\r\n                        <i class="icon icon-act-list-arrow" data-role="arrow"></i>\r\n                    </div>\r\n                </li>\r\n                <!--i class="measure-choosen-child" data-tap data-role="time">时间</i><i class="icon icon-r-16x26"></i>\r\n                <i class="measure-choosen-child" data-tap data-role="price">价格</i>\r\n                <i class="measure-choosen-child" data-tap data-role="start">发起者</i-->\r\n            </ul>\r\n        </div>\r\n        <div class="action-list-condition  fn-hide"  data-role="condition-con">\r\n            <div class="price-condition condition fn-hide" data-con data-role="price-con">\r\n                <div class="child cur" data-carry=""><p class="child-child">全部</p>\r\n                </div>\r\n                <div class="child" data-type="budget_0-100" data-carry="budget_0-100"><p class="child-child">0-100元</p>\r\n                </div>\r\n                <div class="child" data-carry="budget_101-200"><p class="child-child">101-200元</p>\r\n                </div>\r\n                <div class="child" data-carry="budget_201-500"><p class="child-child">201-500元</p>\r\n                </div>\r\n                <div class="child" data-carry="budget_501-1000"><p class="child-child">501-1000元</p>\r\n                </div>\r\n            </div>\r\n            <div class="day-condition condition fn-hide" data-con data-role="time-con">\r\n                <div class="child cur" data-carry=""><p class="child-child">全部</p>\r\n                </div>\r\n                <div class="child" data-carry="today"><p class="child-child">今天</p>\r\n                </div>\r\n                <div class="child" data-carry="weekend"><p class="child-child">周末</p>\r\n                </div>\r\n                <div class="child" data-carry="history"><p class="child-child">活动回顾</p>\r\n                </div>\r\n            </div>\r\n            <div class="history-condition condition fn-hide" data-con data-role="start-con">\r\n                <div class="child cur" data-carry=""><p class="child-child">全部</p>\r\n                </div>\r\n\r\n                <div class="child" data-carry="start_by_authority"><p class="child-child">官方</p>\r\n                </div>\r\n                <div class="child" data-carry="start_by_net_friends"><p class="child-child">网友</p>\r\n                </div>\r\n            </div>\r\n            <div class="fade" data-role="fade">1</div>\r\n        </div>\r\n\r\n        <div class="action-list-content h-100" data-role="action-list-content">\r\n            <div class="wrap-box">\r\n                <div class="pull_down_container" data-role="pull_down_container"></div>\r\n                <div class="action-child-con h-100" data-role="action-child-con">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</main>';
    });
});

/**
 * Created by zy on 2014/9/26.
 *
 *滑动图片组件
 *
 */
define("pai/wx-1.1.0/widget/slide/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/swipe-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var swipe = require("pai/wx-1.1.0/common/swipe-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var slide_tpl = require("pai/wx-1.1.0/widget/slide/tpl/slide-debug.handlebars");
    var slide = view.extend({
        attrs: {
            template: slide_tpl
        },
        events: {},
        /**
         * 构建element
         * @private
         */
        _parseElement: function() {
            var self = this;
            view.prototype._parseElement.apply(self);
        },
        _setup_swipe: function() {
            var self = this;
            self.$ad_pic_point = self.$("[data-role=ad-pic-point]");
            //底部小点容器
            self.point_len = self.$ad_pic_point.children().length;
            self._swipe = new swipe(self.$el[0], {
                disableScroll: self.options.disableScroll || true,
                // 停止滚动冒泡
                continuous: self.options.continuous || true,
                // 无限循环的图片切换效果
                auto: self.options.auto || 0,
                startSlide: self.options.startSlide || 0,
                //起始图片切换的索引位置
                callback: function(index, slideInfo) {
                    // 回调函数，可以获取到滑动中图片的索引
                    var current_index = $(slideInfo).attr("data-index");
                    //用于修复swipe两张图片时的bug
                    if (self.point_len == 2 && index >= 2) {
                        current_index = current_index - 2;
                    }
                    self.$ad_pic_point.find('[data-index="' + current_index + '"]').addClass("current").siblings().removeClass("current");
                },
                transitionEnd: function(index, slideInfo) {}
            });
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                //安装滚动(这个必需在渲染后安装，否则获取不到宽度)
                self._setup_swipe();
            });
        },
        setup: function() {
            var self = this;
            self.$ad_pic = self.$('[data-role="ad-pic"]');
            // 安装事件
            self._setup_events();
        },
        render: function(pic_list) {
            var self = this;
            view.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 设置参数
         * @param options
         * @return {*}
         */
        set_options: function(options) {
            var self = this;
            self.options = options;
            return self;
        },
        /**
         * 获得滚动图片组的长度
         * @returns {*}
         */
        get_length: function() {
            var self = this;
            return self.point_len;
        },
        /**
         * 销毁
         * @returns {slide}
         */
        destroy: function() {
            var self = this;
            view.prototype.remove.call(self);
            view.prototype.destroy.call(self);
            return self;
        }
    });
    module.exports = slide;
});

define("pai/wx-1.1.0/common/swipe-debug", [], function(require, exports, module) {
    /*
     * Swipe 2.0
     *
     * Brad Birdsall
     * Copyright 2013, MIT License
     *
     */
    function Swipe(container, options) {
        "use strict";
        // utilities
        var noop = function() {};
        // simple no operation function
        var offloadFn = function(fn) {
            setTimeout(fn || noop, 0);
        };
        // offload a functions execution
        // check browser capabilities
        var browser = {
            addEventListener: !!window.addEventListener,
            touch: "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch,
            transitions: function(temp) {
                var props = [ "transitionProperty", "WebkitTransition", "MozTransition", "OTransition", "msTransition" ];
                for (var i in props) if (temp.style[props[i]] !== undefined) return true;
                return false;
            }(document.createElement("swipe"))
        };
        // quit if no root element
        if (!container) return;
        var element = container.children[0];
        var slides, slidePos, width, length;
        options = options || {};
        var index = parseInt(options.startSlide, 10) || 0;
        var speed = options.speed || 300;
        options.continuous = options.continuous !== undefined ? options.continuous : true;
        // add by kidney
        options.margin = Math.abs(parseInt(options.margin, 10) || 0);
        function setup() {
            // cache slides
            slides = element.children;
            length = slides.length;
            // set continuous to false if only one slide
            if (slides.length < 2) options.continuous = false;
            //special case if two slides
            if (browser.transitions && options.continuous && slides.length < 3) {
                //annotation by zy 2014/10/8
                element.appendChild(slides[0].cloneNode(true));
                element.appendChild(element.children[1].cloneNode(true));
                slides = element.children;
            }
            // create an array to store current positions of each slide
            slidePos = new Array(slides.length);
            // determine width of each slide
            width = container.getBoundingClientRect().width || container.offsetWidth;
            // add by kidney
            var margin = options.margin;
            var elementWidth = slides.length * width;
            if (margin) {
                elementWidth += margin * slides.length;
            }
            element.style.width = elementWidth + "px";
            //element.style.width = (slides.length * width) + 'px';
            // stack elements
            var pos = slides.length;
            while (pos--) {
                var slide = slides[pos];
                slide.style.width = width + "px";
                slide.setAttribute("data-index", pos);
                if (browser.transitions) {
                    slide.style.left = pos * -width + "px";
                    // add by kidney
                    //move(pos, index > pos ? -(width + margin) : (index < pos ? (width + margin) : 0), 0);
                    move(pos, index > pos ? -width - margin : index < pos ? width + margin : 0, 0);
                }
            }
            // reposition elements before and after index
            if (options.continuous && browser.transitions) {
                move(circle(index - 1), -width - margin, 0);
                move(circle(index + 1), width + margin, 0);
            }
            if (!browser.transitions) element.style.left = index * -width + "px";
            container.style.visibility = "visible";
        }
        function prev() {
            if (options.continuous) slide(index - 1); else if (index) slide(index - 1);
        }
        function next() {
            if (options.continuous) slide(index + 1); else if (index < slides.length - 1) slide(index + 1);
        }
        function circle(index) {
            // a simple positive modulo using slides.length
            return (slides.length + index % slides.length) % slides.length;
        }
        function slide(to, slideSpeed) {
            // do nothing if already on requested slide
            if (index == to) return;
            // add by kidney
            var margin = options.margin;
            if (browser.transitions) {
                var direction = Math.abs(index - to) / (index - to);
                // 1: backward, -1: forward
                margin = direction === -1 ? -margin : margin;
                // get the actual position of the slide
                if (options.continuous) {
                    var natural_direction = direction;
                    direction = -slidePos[circle(to)] / width;
                    // if going forward but to < index, use to = slides.length + to
                    // if going backward but to > index, use to = -slides.length + to
                    if (direction !== natural_direction) to = -direction * slides.length + to;
                }
                var diff = Math.abs(index - to) - 1;
                // move all the slides between index and to in the right direction
                while (diff--) move(circle((to > index ? to : index) - diff - 1), width * direction + margin, 0);
                to = circle(to);
                move(index, width * direction + margin, slideSpeed || speed);
                move(to, 0, slideSpeed || speed);
                if (options.continuous) move(circle(to - direction), -(width * direction) - margin, 0);
            } else {
                to = circle(to);
                animate(index * -width, to * -width, slideSpeed || speed);
            }
            index = to;
            offloadFn(options.callback && options.callback(index, slides[index]));
        }
        function move(index, dist, speed) {
            translate(index, dist, speed);
            slidePos[index] = dist;
        }
        function translate(index, dist, speed) {
            var slide = slides[index];
            var style = slide && slide.style;
            if (!style) return;
            style.webkitTransitionDuration = style.MozTransitionDuration = style.msTransitionDuration = style.OTransitionDuration = style.transitionDuration = speed + "ms";
            style.webkitTransform = "translate(" + dist + "px,0)" + "translateZ(0)";
            style.msTransform = style.MozTransform = style.OTransform = "translateX(" + dist + "px)";
        }
        function animate(from, to, speed) {
            // if not an animation, just reposition
            if (!speed) {
                element.style.left = to + "px";
                return;
            }
            var start = +new Date();
            var timer = setInterval(function() {
                var timeElap = +new Date() - start;
                if (timeElap > speed) {
                    element.style.left = to + "px";
                    if (delay) begin();
                    options.transitionEnd && options.transitionEnd.call(event, index, slides[index]);
                    clearInterval(timer);
                    return;
                }
                element.style.left = (to - from) * (Math.floor(timeElap / speed * 100) / 100) + from + "px";
            }, 4);
        }
        // setup auto slideshow
        var delay = options.auto || 0;
        var interval;
        function begin() {
            interval = setTimeout(next, delay);
        }
        function stop() {
            //delay = 0;
            delay = options.auto > 0 ? options.auto : 0;
            clearTimeout(interval);
        }
        // setup initial vars
        var start = {};
        var delta = {};
        var isScrolling;
        // setup event capturing
        var events = {
            handleEvent: function(event) {
                //console.log(new Date().getTime() + ':handleEvent ' + event.type);
                switch (event.type) {
                  case "touchstart":
                    this.start(event);
                    break;

                  case "touchmove":
                    this.move(event);
                    break;

                  case "touchend":
                    offloadFn(this.end(event));
                    break;

                  case "webkitTransitionEnd":
                  case "msTransitionEnd":
                  case "oTransitionEnd":
                  case "otransitionend":
                  case "transitionend":
                    offloadFn(this.transitionEnd(event));
                    break;

                  case "resize":
                    offloadFn(setup);
                    break;
                }
                if (options.stopPropagation) event.stopPropagation();
            },
            start: function(event) {
                //console.log(new Date().getTime() + ':start');
                var touches = event.touches[0];
                // measure start values
                start = {
                    // get initial touch coords
                    x: touches.pageX,
                    y: touches.pageY,
                    // store time to determine touch duration
                    time: +new Date()
                };
                // used for testing first move event
                isScrolling = undefined;
                // reset delta and end measurements
                delta = {};
                // attach touchmove and touchend listeners
                element.addEventListener("touchmove", this, false);
                element.addEventListener("touchend", this, false);
            },
            move: function(event) {
                //console.log(new Date().getTime() + ':move');
                // ensure swiping with one touch and not pinching
                if (event.touches.length > 1 || event.scale && event.scale !== 1) return;
                if (options.disableScroll) event.preventDefault();
                var touches = event.touches[0];
                // measure change in x and y
                delta = {
                    x: touches.pageX - start.x,
                    y: touches.pageY - start.y
                };
                // determine if scrolling test has run - one time test
                if (typeof isScrolling == "undefined") {
                    isScrolling = !!(isScrolling || Math.abs(delta.x) < Math.abs(delta.y));
                }
                // if user is not trying to scroll vertically
                if (!isScrolling) {
                    // prevent native scrolling
                    event.preventDefault();
                    // stop slideshow
                    stop();
                    // increase resistance if first or last slide
                    if (options.continuous) {
                        // we don't add resistance at the end
                        translate(circle(index - 1), delta.x + slidePos[circle(index - 1)], 0);
                        translate(index, delta.x + slidePos[index], 0);
                        translate(circle(index + 1), delta.x + slidePos[circle(index + 1)], 0);
                    } else {
                        delta.x = delta.x / (!index && delta.x > 0 || index == slides.length - 1 && delta.x < 0 ? Math.abs(delta.x) / width + 1 : 1);
                        // no resistance if false
                        // translate 1:1
                        translate(index - 1, delta.x + slidePos[index - 1], 0);
                        translate(index, delta.x + slidePos[index], 0);
                        translate(index + 1, delta.x + slidePos[index + 1], 0);
                    }
                }
            },
            end: function(event) {
                //console.log(new Date().getTime() + ':end');
                // add by kidney
                var margin = options.margin;
                // measure duration
                var duration = +new Date() - start.time;
                // determine if slide attempt triggers next/prev slide
                var isValidSlide = Number(duration) < 250 && Math.abs(delta.x) > 20 || Math.abs(delta.x) > width / 2;
                // or if slide amt is greater than half the width
                // determine if slide attempt is past start and end
                var isPastBounds = !index && delta.x > 0 || index == slides.length - 1 && delta.x < 0;
                // or if last slide and slide amt is less than 0
                if (options.continuous) isPastBounds = false;
                // determine direction of swipe (true:right, false:left)
                var direction = delta.x < 0;
                // if not scrolling vertically
                if (!isScrolling) {
                    if (isValidSlide && !isPastBounds) {
                        if (direction) {
                            if (options.continuous) {
                                // we need to get the next in this direction in place
                                move(circle(index - 1), -width - margin, 0);
                                move(circle(index + 2), width + margin, 0);
                            } else {
                                move(index - 1, -width - margin, 0);
                            }
                            move(index, slidePos[index] - width - margin, speed);
                            move(circle(index + 1), slidePos[circle(index + 1)] - width - margin, speed);
                            index = circle(index + 1);
                        } else {
                            if (options.continuous) {
                                // we need to get the next in this direction in place
                                move(circle(index + 1), width + margin, 0);
                                move(circle(index - 2), -width - margin, 0);
                            } else {
                                move(index + 1, width + margin, 0);
                            }
                            move(index, slidePos[index] + width + margin, speed);
                            move(circle(index - 1), slidePos[circle(index - 1)] + width + margin, speed);
                            index = circle(index - 1);
                        }
                        options.callback && options.callback(index, slides[index]);
                    } else {
                        if (options.continuous) {
                            move(circle(index - 1), -width - margin, speed);
                            move(index, 0, speed);
                            move(circle(index + 1), width + margin, speed);
                        } else {
                            move(index - 1, -width - margin, speed);
                            move(index, 0, speed);
                            move(index + 1, width + margin, speed);
                        }
                    }
                }
                // kill touchmove and touchend event listeners until touchstart called again
                element.removeEventListener("touchmove", events, false);
                element.removeEventListener("touchend", events, false);
            },
            transitionEnd: function(event) {
                //console.log(new Date().getTime() + ':transitionEnd');
                if (parseInt(event.target.getAttribute("data-index"), 10) == index) {
                    if (delay) begin();
                    options.transitionEnd && options.transitionEnd.call(event, index, slides[index]);
                }
            }
        };
        // trigger setup
        setup();
        // start auto slideshow if applicable
        if (delay) begin();
        // add event listeners
        _installEvent(element, events);
        //        if (browser.addEventListener) {
        //
        //            // set touchstart event on element
        //            if (browser.touch) element.addEventListener('touchstart', events, false);
        //
        //            if (browser.transitions) {
        //                element.addEventListener('webkitTransitionEnd', events, false);
        //                element.addEventListener('msTransitionEnd', events, false);
        //                element.addEventListener('oTransitionEnd', events, false);
        //                element.addEventListener('otransitionend', events, false);
        //                element.addEventListener('transitionend', events, false);
        //            }
        //
        //            // set resize event on window
        //            window.addEventListener('resize', events, false);
        //
        //        } else {
        //
        //            window.onresize = function () { setup() }; // to play nice with old IE
        //
        //        }
        // expose the Swipe API
        return {
            setup: function() {
                setup();
            },
            slide: function(to, speed) {
                // cancel slideshow
                stop();
                slide(to, speed);
            },
            prev: function() {
                // cancel slideshow
                stop();
                prev();
            },
            next: function() {
                // cancel slideshow
                stop();
                next();
            },
            stop: function() {
                // cancel slideshow
                stop();
            },
            getPos: function() {
                // return current index position
                return index;
            },
            getNumSlides: function() {
                // return total number of slides
                return length;
            },
            kill: function() {
                // cancel slideshow
                stop();
                // reset element
                element.style.width = "";
                element.style.left = "";
                // reset slides
                var pos = slides.length;
                while (pos--) {
                    var slide = slides[pos];
                    slide.style.width = "";
                    slide.style.left = "";
                    if (browser.transitions) translate(pos, 0, 0);
                }
                // removed event listeners
                _uninstallEvent(element, events);
            },
            pause: function() {
                _uninstallEvent(element, events);
            },
            play: function() {
                _installEvent(element, events);
            }
        };
        // add by kidney
        function _installEvent(element, events) {
            // add event listeners
            if (browser.addEventListener) {
                // set touchstart event on element
                if (browser.touch) element.addEventListener("touchstart", events, false);
                if (browser.transitions) {
                    element.addEventListener("webkitTransitionEnd", events, false);
                    element.addEventListener("msTransitionEnd", events, false);
                    element.addEventListener("oTransitionEnd", events, false);
                    element.addEventListener("otransitionend", events, false);
                    element.addEventListener("transitionend", events, false);
                }
                // set resize event on window
                window.addEventListener("resize", events, false);
            } else {
                window.onresize = function() {
                    setup();
                };
            }
        }
        function _uninstallEvent(element, events) {
            if (browser.addEventListener) {
                // remove current event listeners
                element.removeEventListener("touchstart", events, false);
                element.removeEventListener("webkitTransitionEnd", events, false);
                element.removeEventListener("msTransitionEnd", events, false);
                element.removeEventListener("oTransitionEnd", events, false);
                element.removeEventListener("otransitionend", events, false);
                element.removeEventListener("transitionend", events, false);
                window.removeEventListener("resize", events, false);
            } else {
                window.onresize = null;
            }
        }
    }
    module.exports = Swipe;
});

define("pai/wx-1.1.0/widget/slide/tpl/slide-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += "\r\n        <li>";
            if (helper = helpers.content) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.content;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</li>\r\n        ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n<div class="ad-pic-point-out">\r\n        <ul data-role="ad-pic-point" class="ad-pic-point">\r\n        ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.contents, {
                hash: {},
                inverse: self.noop,
                fn: self.program(4, program4, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        </ul>\r\n</div>\r\n";
            return buffer;
        }
        function program4(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n            <li data-index="' + escapeExpression((stack1 = data == null || data === false ? data : data.index, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" class="';
            if (helper = helpers["class"]) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0["class"];
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></li>\r\n        ';
            return buffer;
        }
        buffer += '<div class="scroll-area" data-role="ad-pic" data-prevent-scroll="slider">\r\n<ul data-role="ad-pic-inner">\r\n        ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.contents, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n</ul>\r\n";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.no_single, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n</div>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/8/30.
 *
 *
 *活动列表 - 列表子元素
 */
define("pai/wx-1.1.0/widget/act_list/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var item_tpl = require("pai/wx-1.1.0/widget/act_list/tpl/act_list-debug.handlebars");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    module.exports = View.extend({
        attrs: {
            template: item_tpl
        },
        events: {},
        setup: function() {
            var self = this;
            self.model.event_id = self.model.event_id;
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            //已结束活动 显示遮罩层 nolest 2015-2-6
            if (template_model.event_status == "2" || template_model.event_status == 2) {
                template_model = $.extend(true, {}, template_model, {
                    act_is_finish: 1
                });
            }
            console.log(template_model);
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        _setup_events: function() {
            var self = this;
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        },
        list: function() {
            var self = this;
            return self.$el;
        }
    });
});

define("pai/wx-1.1.0/widget/act_list/tpl/act_list-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            return '\r\n            <div class="tips-con-red">\r\n                <div class="tips">官方</div>\r\n                <div class="delta"></div>\r\n            </div>\r\n        ';
        }
        function program3(depth0, data) {
            return '\r\n            <div class="tips-con-green">\r\n                <div class="tips">免费</div>\r\n                <div class="delta"></div>\r\n            </div>\r\n        ';
        }
        function program5(depth0, data) {
            return '\r\n            <div class="tips-con-orange">\r\n                <div class="tips">推荐</div>\r\n                <div class="delta"></div>\r\n            </div>\r\n        ';
        }
        function program7(depth0, data) {
            return '\r\n            <div class="pic-fade"></div>\r\n            <div class="icon act_is_finish"></div>\r\n        ';
        }
        buffer += '<div class="child" data-role="event-item" data-event-id="';
        if (helper = helpers.event_id) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.event_id;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '" >\r\n    <i class="img image-img child-img"  data-lazyload="';
        if (helper = helpers.cover_image) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.cover_image;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '">\r\n        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_authority, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_free, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_recommend, {
            hash: {},
            inverse: self.noop,
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.act_is_finish, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    </i>\r\n    <div class="child-text">\r\n        <p class="title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n        <p class="detail"><i class="icon icon-act-list-athor"></i>';
        if (helper = helpers.nickname) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.nickname;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n        <p class="detail"><i class="icon icon-act-list-date"></i>';
        if (helper = helpers.start_time) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.start_time;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n        <p class="detail"><i class="icon icon-act-list-price"></i>￥';
        if (helper = helpers.budget) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.budget;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '/人</p>\r\n        <p class="detail"><i class="icon icon-act-list-join-num"></i>报名人数：';
        if (helper = helpers.event_join) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.event_join;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "人</p>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/8/30.
 *
 * 活动列表模型
 *
 */
define("pai/wx-1.1.0/act/model-debug", [ "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/global_config-debug" ], function(require, exports, module) {
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    module.exports = Backbone.Model.extend({
        "default": {
            _seq_id_: "",
            active_time: "",
            address: "",
            budget: "",
            category: "",
            club: "",
            content: "",
            cover_image: "",
            end_time: "",
            event_id: "",
            event_review: "",
            hit_count: "",
            is_authority: "",
            is_recommend: "",
            is_top: "",
            join_count: "",
            last_update_time: "",
            limit_num: "",
            location_id: "",
            review_time: "",
            score: "",
            start_time: "",
            status: "",
            title: "",
            type_icon: "",
            user_id: "",
            username: ""
        },
        _setup_events: function() {},
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        join_act: function(data) {
            var self = this;
            //var redirect_url = location.origin+"/mobile/"+window._page_mode+"#act/apply/"+data.event_id;
            var redirect_url = location.origin + "/mobile/" + window._page_mode + "#act/pay_success/" + data.event_id;
            data = $.extend(data, {
                redirect_url: redirect_url
            });
            self.fetch({
                url: global_config.ajax_url.join_act,
                cache: false,
                data: data,
                beforeSend: function(xhr, options) {
                    self.trigger("before:join_act:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:join_act:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:join_act:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:join_act:fetch", xhr, status);
                }
            });
            return self;
        },
        /**
     * 获得广告图数据
     * @param data
     */
        get_ad_pic: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.ad_pic,
                data: data,
                cache: false,
                beforeSend: function() {
                    self.trigger("before:ad_pic:fetch");
                },
                success: function(model, response, options) {
                    self.trigger("success:ad_pic:fetch", response, options);
                },
                error: function(model, response, options) {
                    self.trigger("error:ad_pic:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:ad_pic:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by Administrator on 2014/8/30.
 */
define("pai/wx-1.1.0/act/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = collection.extend({
        url: global_config.ajax_url.act_list,
        initialize: function(options) {
            var self = this;
            self.select_options = options.default_options;
            self.page = 1;
            self._setup_events();
        },
        parse: function(response) {
            if (response.result_data.list) {
                return response.result_data.list;
            }
            return response;
        },
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(response) {}).on("success:fetch", function(response) {
                self.has_next_page = response.result_data.has_next_page;
            });
        },
        get_list: function(page) {
            var self = this;
            /*
            if(self.has_next_page)
            {
                self.page++;
            }

            self.page_options =
            {
                page : self.page
            };

            self.select_options = $.extend(true,{},self.select_options,self.page_options);

*/
            var page = self.select_options.page;
            var location_id = utility.storage.get("location_id") || 0;
            //每次请求时获取locaiton_id nolest 2015-02-05
            self.select_options = $.extend(true, {}, self.select_options, {
                location_id: location_id
            });
            console.log(self.select_options);
            self.fetch({
                url: self.url,
                data: self.select_options,
                cache: false,
                remove: page == 1,
                reset: self.select_options.reset ? 1 : 0,
                beforeSend: function(collection, response, options) {
                    self.trigger("before:fetch", response, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        },
        set_select_options: function(obj) {
            var self = this;
            self.select_options = $.extend(true, {}, self.select_options, obj);
        },
        get_select_options: function() {
            var self = this;
            return self.select_options;
        }
    });
});

define("pai/wx-1.1.0/act/apply/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/detail/model-debug", "pai/wx-1.1.0/act/apply/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/widget/pay_item/view-debug", "pai/wx-1.1.0/widget/pay_item/model-debug", "pai/wx-1.1.0/act/model-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var model = require("pai/wx-1.1.0/act/detail/model-debug");
    var action_apply_view = require("pai/wx-1.1.0/act/apply/view-debug");
    page_control.add_page([ function() {
        return {
            title: "活动报名",
            route: {
                "act/apply/:event_id": "act/apply"
            },
            dom_not_cache: true,
            ignore_exist: true,
            //transition_type : 'slide',
            page_init: function(apps_page_view, apps_params, apply_info) {
                var event_id = apps_params[0];
                var act_model = null;
                var is_new_fetch = false;
                // 直接获取传递过来的model对象
                if (apply_info && apply_info.cid) {
                    act_model = apply_info;
                    act_model.set("is_new_fetch", true);
                } else {
                    act_model = new model({
                        event_id: event_id
                    });
                    act_model.set("is_new_fetch", false);
                }
                this.apply_view = new action_apply_view({
                    parentNode: this.$el,
                    model: act_model,
                    event_id: event_id,
                    is_new_fetch: is_new_fetch
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/1.
 *
 * 活动介绍模型
 */
define("pai/wx-1.1.0/act/detail/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.act_info,
        defaults: {
            act_intro: "",
            act_info: "",
            act_arrange: "",
            pub_user_id: "",
            event_id: "",
            is_follow: false
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data.data) {
                return response.result_data.data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        get_list: function(is_show_table_num) {
            var self = this;
            self.fetch({
                url: self.url,
                data: {
                    event_id: self.get("event_id"),
                    is_show_table_num: is_show_table_num || false
                },
                cache: false,
                reset: true,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        },
        submit_obj: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.add_act,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:submit", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:submit", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:submit", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:submit", xhr, status);
                }
            });
            return self;
        },
        relation: function(relationAct) {
            var self = this;
            console.log(relationAct);
            self.save({
                is_follow: relationAct
            }, {
                wait: true,
                url: global_config.ajax_url.follow_act,
                data: "event_id=" + self.get("event_id") + "&add_follow=" + relationAct,
                beforeSend: function(xhr, options) {
                    self.trigger("before:relation", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:relation", model, response, options);
                },
                error: function() {},
                complete: function() {}
            });
        },
        get_enroll_info: function(params) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_enroll_detail_info,
                data: params,
                reset: true,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_enroll_info:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:get_enroll_info:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_enroll_info:fetch", xhr, status);
                }
            });
            return self;
        },
        /**
         * 支付活动
         * @param data
         * @returns {exports}
         */
        join_again_act: function(data) {
            var self = this;
            var location = window.location;
            //2014.12.31 hudw
            //支付活动后跳转的链接修改成到活动最终页
            //var redirect_url = location.origin+"/mobile/"+window._page_mode+"#act/signin/"+data.event_id;
            var redirect_url = location.origin + "/m/" + window._page_mode + location.search + "#act/pay_success/" + data.event_id;
            data = $.extend(data, {
                redirect_url: redirect_url
            });
            self.fetch({
                url: global_config.ajax_url.join_again_act,
                data: data,
                cache: false,
                type: "POST",
                beforeSend: function(xhr, options) {
                    self.trigger("before:pay:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:pay:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:pay:fetch", xhr, status);
                }
            });
            return self;
        }
    });
});

/**
 *
 *  活动报名页面
 */
define("pai/wx-1.1.0/act/apply/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/widget/pay_item/view-debug", "pai/wx-1.1.0/widget/pay_item/model-debug", "pai/wx-1.1.0/act/model-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var choosen_group_view = require("pai/wx-1.1.0/widget/choosen_group/view-debug");
    var number_btn_view = require("pai/wx-1.1.0/widget/number_btn/view-debug");
    var pay_items = require("pai/wx-1.1.0/widget/pay_item/view-debug");
    var pay_model = require("pai/wx-1.1.0/act/model-debug");
    var WX = require("pai/wx-1.1.0/common/I_WX-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var main_tpl = require("pai/wx-1.1.0/act/apply/tpl/main-debug.handlebars");
    var action_apply_view = view.extend({
        attrs: {
            template: main_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                page_control.back();
            },
            "tap [data-role=pay]": function(ev) {
                var self = this;
                if (!self.table_selected) {
                    tip.show("请选择场次", "error", {
                        delay: 1e3
                    });
                    return;
                }
                if (self.is_can_select) {
                    tip.show("你已经报了该场次，请选择其他场次", "error", {
                        delay: 1e3
                    });
                    return;
                }
                var pay_arr = {};
                pay_arr.phone = self.$phone_number.val();
                pay_arr.event_id = self.model.get("event_id");
                //self.pay_item_obj.get_value();
                var enroll_num = self.action_number_btn_view.get_value();
                var table_id = self.action_choosen_group_view.get_value()[0].id;
                var wrong_txt;
                pay_arr.phone || (wrong_txt = "请输入手机号");
                pay_arr.phone.length == 11 || (wrong_txt = "请输入11位手机的号");
                self.action_choosen_group_view.get_value()[0].id || (wrong_txt = "请选择一个组");
                self.action_number_btn_view.get_value() || (wrong_txt = "至少需要一人参加");
                /*pay_arr.available_balance = utility.user.get('available_balance');
                pay_arr.is_available_balance = self.pay_item_obj.model.get('can_use_balance');
                pay_arr.third_code = self.pay_item_obj.model.get('pay_type');

                pay_arr.table_arr =
                [{
                    enroll_num : enroll_num,
                    table_id : table_id
                }];*/
                if (wrong_txt) {
                    tip.show(wrong_txt, "error", {
                        delay: 800
                    });
                    return;
                }
                //self.pay_model_obj.join_act(pay_arr);
                // 整合专递到支付页面的参数
                var pay_params = {
                    phone: pay_arr.phone,
                    event_id: self.get("event_id"),
                    event_title: self.model.get("act_intro").title,
                    table_id: self.action_choosen_group_view.get_value()[0].id,
                    table_info: self.action_choosen_group_view.get_value()[0].text,
                    budget: self.model.get("act_info").budget,
                    enroll_num: self.action_number_btn_view.get_value(),
                    table_arr: [ {
                        enroll_num: enroll_num,
                        table_id: table_id
                    } ],
                    is_count_money: 1
                };
                console.log(pay_params);
                pay_params = encodeURIComponent(JSON.stringify(pay_params));
                // 第一次报名和支付，enroll_id为0
                page_control.navigate_to_page("act/payment/" + self.get("event_id") + "/0/" + pay_params);
            }
        },
        _setup_events: function() {
            var self = this;
            // 模型事件
            // --------------------
            /*self.pay_model_obj.on('before:join_act:fetch', self._join_act_before, self)
                .on('success:join_act:fetch', self._join_act_success, self)
                .on('error:join_act:fetch', self._join_act_error, self)
                .on('complete:join_act:fetch', self._join_act_complete, self);*/
            self.model.on("before:get_list:fetch", function() {
                tip.show("加载中...", "loading", {
                    delay: -1
                });
            }).on("success:fetch", function(response, options) {
                tip.hide();
                if (!self.action_choosen_group_view) {
                    self._setup_choosen_group();
                    // 默认选中1个人
                    self.count_payment(1);
                    self.view_scroll_obj.refresh();
                }
                if (response.result_data.user_info) {
                    utility.user.update_user(response.result_data.user_info);
                }
            }).on("error:fetch", function() {
                tip.show("网络异常", "error");
                self.model.get_list(true);
            });
            /*utility.user.on('before:get_info:fetch',function()
            {

            }).on('success:get_info:fetch',function(response)
            {

                utility.user.update_user(response.result_data.data);

                // 请求成功后再次设置
                self.pay_item_obj.model.set('available_balance',utility.user.get('available_balance'));


            }).on('error:get_info:fetch',function()
            {
                tip.show('网络异常，需要重试','error',{delay:1000});

                page_control.back();

            });*/
            //报名人数输入框事件绑定
            self.action_number_btn_view.$number_input.on("input", function(ev) {
                var $target = $(ev.currentTarget);
                self.count_payment($target.val());
            });
            self.action_number_btn_view.on("add_value:success", function(value) {
                self.count_payment(value);
            });
            self.action_number_btn_view.on("minus:success", function(value) {
                self.count_payment(value);
            });
            /*self.pay_item_obj.on('selected:available_balance',function()
            {
                var select_balance = self.pay_item_obj.model.get('can_use_balance');

                self.count_payment(self.action_number_btn_view.get_value());


                self.view_scroll_obj.refresh();
            });*/
            if (!self.view_scroll_obj) {
                self._setup_scroll();
                self.view_scroll_obj.refresh();
                return;
            }
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装选择组模块
         * @private
         */
        _setup_choosen_group: function() {
            var self = this;
            var table_info = self.model.get("act_arrange").table_info;
            // 设置是否报名了
            if (table_info) {
                for (var i = 0; i < table_info.length; i++) {
                    table_info[i].params = table_info[i].is_duplicate ? 1 : 0;
                    table_info[i].normal_status = table_info[i].table_status;
                    /*switch (table_info[i].table_status)
                    {
                        case 1 :
                            table_info[i].status_txt = '（已过期）';
                            break;
                        case 2 :
                            table_info[i].status_txt = '（未支付）';
                            break;
                        case 3 :
                            break;
                    }

                    */
                    var font_color = "";
                    if (table_info[i].table_status == 1) {
                        var font_color = "light_status_txt";
                        table_info[i].readonly = 1;
                    } else if (table_info[i].table_status == 3) {
                        var font_color = "light_status_txt";
                        table_info[i].readonly = 1;
                    }
                    table_info[i].id = table_info[i].id;
                    table_info[i].remark = table_info[i].enroll_id;
                    table_info[i].text = '<span class="' + font_color + '">' + table_info[i].text + "</span>" + '<span class="status_txt ' + font_color + '">' + table_info[i].table_text + "</span>";
                }
                self.action_choosen_group_view = new choosen_group_view({
                    templateModel: {
                        list: table_info
                    },
                    btn_per_line: 1,
                    line_margin: "0px 0px 10px 0px",
                    parentNode: self.$session,
                    is_multiply: false
                }).render();
            }
            // 选择组选中事件
            self.action_choosen_group_view && self.action_choosen_group_view.on("success:selected", function(obj) {
                self.view_scroll_obj.refresh();
                self.table_selected = true;
                self.is_can_select = !obj.params;
                //2015.2.27 已经支付的场次不能再次支付
                if (obj.normal_status == 1) {
                    tip.show("该场次已经支付了", "right");
                    self.$pay_btn.addClass("fn-hide");
                    self.$unpay_btn.removeClass("fn-hide");
                    self.$('[data-has-selected="1"]').addClass("fn-hide");
                    return;
                } else if (obj.normal_status == 2) {
                    self.$('[data-has-selected="1"]').addClass("fn-hide");
                    page_control.navigate_to_page("act/payment/" + self.get("event_id") + "/" + obj.remark);
                    return;
                } else if (obj.normal_status == 3) {
                    tip.show("该场次已经过期了", "right");
                    self.$('[data-has-selected="1"]').addClass("fn-hide");
                    self.$pay_btn.addClass("fn-hide");
                    self.$unpay_btn.removeClass("fn-hide");
                    return;
                } else {
                    self.$('[data-has-selected="1"]').removeClass("fn-hide");
                }
                self.$pay_btn.removeClass("fn-hide");
                self.$unpay_btn.addClass("fn-hide");
            });
        },
        /**
         * 安装数字按钮
         * @private
         */
        _setup_number_btn: function() {
            var self = this;
            self.action_number_btn_view = new number_btn_view({
                templateModel: {
                    type: "tel",
                    disable: true
                },
                min_value: 1,
                max_value: 3,
                step: 1,
                parentNode: self.$amount,
                value: 1
            }).render();
        },
        setup: function() {
            var self = this;
            utility.user.get_info();
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$phone_number = self.$("[data-role=phone-number]");
            self.$amount = self.$("[data-role=amount]");
            // 报名人数容器
            self.$session = self.$("[data-role=session]");
            // 选择场次容器
            self.$pay_items_container = self.$("[data-role=pay-items-container]");
            self.budget = utility.int(self.model.get("act_info").budget);
            self.$pay_btn = self.$('[data-role="pay"]');
            self.$unpay_btn = self.$('[data-role="unpay"]');
            /*if(!self.model.get('is_new_fetch'))
            {
                // 安装选择模块
                self._setup_choosen_group();
            }
            else
            {
                self.model.get_list(true);
            }*/
            // 支付选项参数模型
            /*var pay_items_model =
            {
                can_use_balance : true,
                available_balance : utility.user.get('available_balance'),
                total_price : self.budget,
                need_price : 0,
                show_price_info : true,
                is_support_outtime : true,
                is_support_now_out : true
            };


            self.pay_item_obj = new pay_items
            ({
                templateModel : pay_items_model,
                parentNode : self.$pay_items_container
            }).render();

            self.pay_model_obj = new pay_model();

            self.pay_item_obj.hide();

            */
            // 安装按钮模块
            self._setup_number_btn();
            // 安装事件
            self._setup_events();
            self.model.get_list(true);
            self.table_selected = false;
            if (utility.auth.is_login()) {
                self.$phone_number.val(utility.user.get("cellphone"));
            }
        },
        _change_pay_moneys: function(peoples) {
            var self = this;
            var total_money = peoples * self.budget;
            var need_money = utility.int(total_money - self.pay_item_obj.model.get("balance"));
            self.pay_item_obj.model.set("need_price", need_money);
            self.pay_item_obj.model.set("total_price", total_money);
        },
        /**
         * 计算支付金额
         * @private
         */
        count_payment: function(peoples) {
            var self = this;
            return;
            var total_price = utility.float(peoples * self.model.get("act_info").budget);
            var balance = utility.float(utility.user.get("available_balance"));
            if (self.pay_item_obj.model.get("can_use_balance")) {
                var must_pay_money = balance - total_price;
                // 信用金够钱支付的时候
                if (must_pay_money > 0) {
                    self.must_pay_money = 0;
                } else {
                    self.must_pay_money = total_price - balance;
                }
            } else {
                // 没有用信用金支付
                self.must_pay_money = total_price;
            }
            self.must_pay_money = utility.format_float(self.must_pay_money, 2);
            self.pay_item_obj.model.set("need_price", self.must_pay_money);
            self.pay_item_obj.model.set("total_price", total_price);
            self.pay_item_obj.model.set("can_use_balance", self.must_pay_money <= 0);
            if (self.must_pay_money > 0) {
                // 余额不够支付,出现第三方支付选择
                if (!self.pay_item_obj) {
                    tip.show("第三方支付模块尚未加载!", "error");
                    return;
                }
                // 隐藏支付宝、财付通、微信支付
                self.pay_item_obj.hide_pay_items_by_type("alipay_purse");
                self.pay_item_obj.hide_pay_items_by_type("caifutong");
                self.pay_item_obj.hide_pay_items_by_type("tenpay_wxapp");
                self.pay_item_obj.show_other_pay_items();
                self.pay_item_obj._select_pay_type("tenpay_wxpub");
            } else {
                self.pay_item_obj.hide_other_pay_items();
            }
            self.view_scroll_obj.refresh();
        },
        _join_act_before: function(response, options) {
            var self = this;
            tip.show("提交中...", "loading", {
                delay: -1
            });
        },
        _join_act_success: function(response, options) {
            var self = this;
            switch (response.result_data.code) {
              // 余额支付成功
                case 2:
                tip.show(response.result_data.message, "right", {
                    delay: 800
                });
                page_control.navigate_to_page("act/signin/" + self.model.get("event_id") + "/" + new Date().getTime());
                // 马上更新用户信息
                utility.user.update_user(response.result_data.user_info);
                break;

              // 生成请求参数成功，待跳转到第三方
                case 3:
                tip.show(response.result_data.message, "right");
                var data_url = response.result_data.data;
                var third_code = response.result_data.third_code;
                var channel_return = response.result_data.channel_return;
                var payment_no = response.result_data.payment_no;
                if (third_code == "alipay_purse") {
                    // 支付宝
                    App.alipay({
                        alipayparams: data_url,
                        payment_no: payment_no
                    }, function(data) {
                        var result = utility.int(data.result);
                        self.after_pay_text(result);
                        console.log(channel_return);
                        if (result == 1 || result == -1 || result == -2) {
                            window.location.href = channel_return;
                        }
                    });
                } else if (third_code == "tenpay_wxapp") {
                    // 微信支付
                    App.wxpay(JSON.parse(data_url), function(data) {
                        var result = utility.int(data.result);
                        self.after_pay_text(result);
                        console.log(channel_return);
                        if (result == 1 || result == -1 || result == -2) {
                            window.location.href = channel_return;
                        }
                    });
                } else if (third_code == "tenpay_wxpub") {
                    // 微信支付
                    if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") {
                        console.log(JSON.parse(data_url));
                        WeiXinSDK.setConfig(response.wx_sign_package);
                        WeiXinSDK.ready(function(Api) {
                            WeiXinSDK.chooseWXPay(JSON.parse(data_url), function(data) {
                                var result = utility.int(data.code);
                                if (result == 1) {
                                    window.location.href = channel_return;
                                }
                            });
                        });
                    } else {
                        WX.isWexXin() && WX.wxPay(JSON.parse(data_url), function(data) {
                            var result = utility.int(data.code);
                            if (result == 1) {
                                window.location.href = channel_return;
                            }
                        });
                    }
                }
                break;

              // 支付失败
                case -1:
              case -2:
              case -3:
              case -4:
              case -5:
              case -6:
              case -7:
              case -8:
              case -9:
              case -10:
              case -11:
              case -12:
                tip.show("支付失败!" + response.result_data.message, "error", {
                    delay: 800
                });
                break;
            }
        },
        _join_act_error: function(response, options) {
            var self = this;
            tip.show("网络异常！", "error", {
                delay: 800
            });
        },
        _join_act_complete: function(response, options) {
            var self = this;
        },
        render: function() {
            var self = this;
            view.prototype.render.apply(self);
            var view_port_height = self.reset_viewport_height() - 45;
            self.$container.height(view_port_height);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height() - 56;
        },
        /**
         * 显示支付结束后的文案
         * @param code
         */
        after_pay_text: function(code) {
            switch (utility.int(code)) {
              case 1:
              case -2:
              case -1:
                tip.show("支付成功", "right");
                break;

              case 0:
                tip.show("其它错误", "error");
                break;

              case -3:
                tip.show("支付失败", "error");
                break;

              case -4:
                tip.show("支付取消", "error");
                break;
            }
        }
    });
    module.exports = action_apply_view;
});

define("pai/wx-1.1.0/act/apply/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '        <main role="main" class="action-apply secondary">\r\n\r\n\r\n            <header class="nav-header ">\r\n                <div class="left-button-wrap" data-role="page-back">\r\n                    <a><i class="icon icon-back"></i></a>\r\n                </div>\r\n\r\n                <h3 class="title">报名</h3>\r\n                \r\n                <div class="right-button-wrap">\r\n        <!--             <a class="ui-button ui-button-dark ui-button-size-default reg-button">注册</a> -->\r\n                </div>\r\n            </header>\r\n\r\n\r\n\r\n            <div data-role="container" class="content-body" >\r\n                <div>\r\n                <div class="action-apply-content">\r\n\r\n                    <section class="action-apply-list">\r\n                        <div class="item">选择场次：</div>\r\n                        <ul>\r\n                            <li>\r\n\r\n                                <div  class="item-input" data-role="session"></div>\r\n                            </li>\r\n                            <li data-has-selected="1" class="box-vertical fn-hide">\r\n                                <div class="item">报名人数：</div>\r\n                                <div  class="item-input" data-role="amount"></div>\r\n                            </li>\r\n                            <li data-has-selected="1" class="box-vertical fn-hide">\r\n                                <div class="item">手机号码：</div>\r\n                                <div class="item-input"><input data-role="phone-number" type="tel" class="phone-number" placeholder="请输入手机号码"></div>\r\n                            </li>\r\n\r\n\r\n                        </ul>\r\n                    </section>\r\n                    <section data-role="pay-items-container">\r\n                    </section>\r\n\r\n                </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div class="pay" >\r\n                <!--button data-role="pay"  class="ui-button ui-button-primary ui-button-size-middle  ui-button-block">\r\n                    <span class="ui-button-content">去支付</span>\r\n                </button>\r\n\r\n                <button data-role="unpay"  class="ui-button ui-button-primary ui-button-size-middle  ui-button-block ui-button-dark fn-hide">\r\n                    <span class="ui-button-content">去支付</span>\r\n                </button-->\r\n\r\n                <button data-role="pay" class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width">\r\n                    <span class="ui-button-content">去支付</span>\r\n                </button>\r\n\r\n                <button data-role="unpay" class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width fn-hide">\r\n                    <span class="ui-button-content">去支付</span>\r\n                </button>\r\n                <div class="apply-footer_notice fn-hide">在线支付，马上获得<span class="spe">10元优惠券</span></div>\r\n            </div>\r\n        </main>';
    });
});

define("pai/wx-1.1.0/act/signin/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/signin/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/act/signin/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/act/detail/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var action_signin_view = require("pai/wx-1.1.0/act/signin/view-debug");
    var action_signin_collection = require("pai/wx-1.1.0/act/signin/collection-debug");
    var model = require("pai/wx-1.1.0/act/detail/model-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "报名网友",
            route: {
                "act/signin/:event_id(/:pay_ment_no)": "act/signin"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(appsPageView, appsParams, signinInfo) {
                /*var is_follow = 0;
                is_follow = signinInfo.model.cid && signinInfo.model.get('is_follow');*/
                var event_id = appsParams[0];
                var model_obj = null;
                //return_home用于处理是否显示支付成功后“返回我的”块的。
                var return_home = false;
                if (appsParams[1]) {
                    // 设置该状态下Android页面返回禁止
                    utility.set_no_page_back(utility.getHash());
                    return_home = true;
                }
                console.log(signinInfo);
                // 传递过来的
                if (signinInfo && signinInfo.model && signinInfo.model.cid) {
                    model_obj = signinInfo.model;
                    model_obj.set("is_new_fetch", false);
                } else {
                    model_obj = new model({
                        event_id: event_id
                    });
                    model_obj.set("is_new_fetch", true);
                }
                var is_mine = false;
                signinInfo && signinInfo.model && signinInfo.model.get("pub_user_id") == utility.login_id && (is_mine = true);
                self.collection = new action_signin_collection();
                this.signin_view = new action_signin_view({
                    parentNode: this.$el,
                    /*templateModel : {
                        is_follow : is_follow ? 0 : 1,
                        follow_class : is_follow ? 'followed' : ''
                    },*/
                    return_home: return_home,
                    collection: self.collection,
                    model: model_obj,
                    templateModel: {
                        return_home: return_home,
                        is_mine: is_mine
                    }
                }).render();
                this.signin_view._set_event_id(event_id);
            },
            page_before_show: function() {
                var self = this;
                if (self.signin_view) {
                    self.signin_view.refresh();
                }
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

define("pai/wx-1.1.0/act/signin/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var main_tpl = require("pai/wx-1.1.0/act/signin/tpl/main-debug.handlebars");
    var item_tpl = require("pai/wx-1.1.0/act/signin/tpl/item-debug.handlebars");
    var action_signin_view = view.extend({
        attrs: {
            template: main_tpl
        },
        events: {
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                // 支付完成后跳转到这里
                if (self.get("return_home")) {
                    if (App.isPaiApp) {
                        App.switchtopage({
                            page: "mine"
                        });
                    } else {
                        page_control.navigate_to_page("act/list");
                    }
                } else {
                    if (App.isPaiApp) {
                        App.app_back();
                    } else {
                        page_control.back();
                    }
                }
            },
            "tap [data-role=follow]": function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                var follow_act = self.toNumber($target.attr("data-follow"));
                $target.attr({
                    "data-follow": follow_act ? 0 : 1
                });
                $target.toggleClass("followed", follow_act);
                self.model.set("is_follow", follow_act);
                self.model.relation(follow_act);
            },
            "tap [data-role=dropdown]": function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                $target.toggleClass("open").next().toggleClass("fn-hide");
                var icon_obj = $target.toggleClass("open").find(".icon");
                if (icon_obj.hasClass("icon-new-sign-arr-down")) {
                    icon_obj.removeClass("icon-new-sign-arr-down");
                    icon_obj.addClass("icon-new-sign-arr-up");
                } else {
                    icon_obj.removeClass("icon-new-sign-arr-up");
                    icon_obj.addClass("icon-new-sign-arr-down");
                }
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="item-dropdown"]': function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                $target.toggleClass("open").next().toggleClass("fn-hide");
                var icon_obj = $target.toggleClass("open").find(".icon");
                if (icon_obj.hasClass("icon-new-sign-arr-down")) {
                    icon_obj.removeClass("icon-new-sign-arr-down");
                    icon_obj.addClass("icon-new-sign-arr-up");
                } else {
                    icon_obj.removeClass("icon-new-sign-arr-up");
                    icon_obj.addClass("icon-new-sign-arr-down");
                }
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="sign-scan"]': function(ev) {
                console.log("扫一扫");
                if (App.isPaiApp) {
                    App.qrcodescan({
                        success: function(data) {
                            console.log(data.type);
                            page_control.navigate_to_page(data.type);
                        }
                    });
                }
            },
            "tap [data-role=navigate]": function(ev) {
                var self = this;
                var $target = $(ev.currentTarget);
                var target = $target.attr("data-target");
                var role = $target.attr("data-user-role");
                switch (target) {
                  case "zone":
                    var user_id = $target.attr("data-uid");
                    if (role == "cameraman") {
                        page_control.navigate_to_page("zone/" + user_id + "/" + role);
                    } else if (role == "model") {
                        page_control.navigate_to_page("model_card/" + user_id);
                    } else {
                        tip.show("该用户尚未开通个人空间", "error");
                    }
                    break;

                  case "apply":
                    if (!utility.auth.is_login()) {
                        var loc = window.location;
                        var redirect_url = loc.origin + "/m/" + window._page_mode + loc.search + "#act/detail/" + self.model.get("event_id");
                        window._force_jump_link = redirect_url;
                        page_control.navigate_to_page("account/login");
                        return;
                    }
                    page_control.navigate_to_page("act/apply/" + self.model.get("event_id"), self.model);
                    break;

                  case "comment":
                    var comment_id = $target.attr("data-uid");
                    //page_control.navigate_to_page('comment/' + comment_id);
                    break;
                }
            },
            'tap [data-role="next"]': function() {
                if (App.isPaiApp) {
                    App.switchtopage({
                        page: "mine"
                    });
                } else {
                    page_control.navigate_to_page("mine");
                }
            },
            'tap [data-role="notice-exp"]': function() {
                console.log("聊天");
            },
            'tap [data-role="call-phone"]': function(ev) {
                console.log("打电话");
                var self = this;
                var $target = $(ev.currentTarget);
                var phone = $target.attr("data-phone");
                if (App.isPaiApp) {
                    App.call_phone({
                        number: phone
                    });
                }
            }
        },
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            //            self.listenTo(self.collection, 'all', function() {
            //                // debug 用
            //            });
            self.listenTo(self.collection, "reset", self._reset).listenTo(self.collection, "add", self._addOne).listenTo(self.collection, "before:fetch", function() {
                tip.show("加载中...", "loading", {
                    delay: -1
                });
            }).listenTo(self.collection, "success:fetch", function(response, xhrOptions) {
                console.log(response);
                self._render_item(response, xhrOptions);
                self._render_follow(response.result_data.is_follow);
                // modify by hudw 2015.2.10
                if (response.result_data && response.result_data.event_status == 2) {
                    self.$('[data-role="join-in"]').addClass("fn-hide");
                } else {
                    self.$('[data-role="join-in"]').removeClass("fn-hide");
                }
                tip.hide();
            }).listenTo(self.collection, "error:fetch", function(response, xhrOptions) {
                tip.show("查询失败请返回重试", "error", {
                    delay: 800
                });
            }).listenTo(self.collection, "complete:fetch", function(xhr, status) {}).listenTo(self.model, "before:relation", self._before_relation).listenTo(self.model, "success:relation", self._success_relation).listenTo(self.model, "error:relation", self._error_relation).listenTo(self.model, "complete:relation", self._complete_relation);
            //获得报名网友列表
            self.refresh();
            // 视图更新
            self.on("updateList", function(response, xhrOptions) {
                // 后加载才有此项，新发留言为nul
                /*if (!!response) {
                 if (!response.data.hasMore) {
                 self._hideLoadMorBar();
                 }
                 }*/
                // 第一次载入时iScroll未生成
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self._drop_reset();
                    return;
                }
                self.view_scroll_obj.refresh();
                self.view_scroll_obj.reset_top();
                self._drop_reset();
            });
        },
        _set_event_id: function(event_id) {
            var self = this;
            self.event_id = event_id;
            return self;
        },
        /**
         * 渲染模板
         * @param response
         * @param xhrOptions
         * @private
         */
        _render_item: function(response, xhrOptions) {
            var self = this;
            var render_queue = self._render_queue;
            console.log(response);
            console.log(render_queue);
            //设置图片宽高
            //render_queue.enroll_arr.max_size = (utility.get_view_port_width() - 75) / 4;
            var html_str = item_tpl({
                games: render_queue,
                data: render_queue,
                //max_size : parseInt(((utility.get_view_port_width() - 105) / 4))取整数
                max_size: Math.ceil((utility.get_view_port_width() - 105) / 4)
            }, {
                helpers: {
                    if_equal: templateHelpers.if_equal
                }
            });
            self.$('[data-role="event_title"]').html(response.result_data.event_title);
            self.$signin_list.html(html_str);
            self.trigger("updateList", response, xhrOptions);
            self._render_queue = [];
            //组织者出现扫码按钮
            if (utility.user.get("user_id") == response.result_data.event_organizers) {
                self.$('[data-role="sign-scan"]').removeClass("fn-hide");
                //隐藏底部栏
                self.$('[data-role="footer"]').addClass("fn-hide");
            }
            self.view_scroll_obj.refresh();
        },
        _render_follow: function(is_follow) {
            var self = this;
            var class_name = is_follow ? "followed" : "";
            self.$('[data-role="follow"]').addClass(class_name);
        },
        _reset: function() {
            var self = this;
            self.collection.each(self._addOne, self);
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        _addOne: function(dataModel) {
            var self = this;
            self._render_queue.push(dataModel.toJSON());
            return self;
        },
        _error_relation: function() {
            tip.show("操作失败请重试！", "error", {
                delay: 800
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = scroll(self.$container, {
                lazyLoad: true,
                is_hide_dropdown: false
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        setup: function() {
            var self = this;
            self._render_queue = [];
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$signin_list = self.$("[data-role=action-signin-list]");
            // 安装事件
            self._setup_events();
        },
        /**
         * 格式化数字
         * @returns Float
         */
        toNumber: function(s) {
            console.log(s);
            console.log(parseFloat(s, 10));
            return parseFloat(s, 10) || 0;
        },
        refresh: function() {
            var self = this;
            self.collection.get_games(1, self.model.get("event_id"));
        }
    });
    module.exports = action_signin_view;
});

define("pai/wx-1.1.0/act/signin/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n\r\n        <footer class="pop-model-car-confirm" data-role="footer">\r\n            <ul class="list clearfix">\r\n                <li data-role="join-in" class="fn-hide">\r\n                    ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.return_home, {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                </li>\r\n            </ul>\r\n        </footer>\r\n    ";
            return buffer;
        }
        function program2(depth0, data) {
            return '\r\n                        <button data-role="btn_success" class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width">\r\n                            <span data-role="next" class="ui-button-content"><i class="icon icon-siliao-m"></i>返回我的</span>\r\n                        </button>\r\n                    ';
        }
        function program4(depth0, data) {
            return '\r\n                        <button data-role="navigate" data-target="apply" class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width">\r\n                            <span class="ui-button-content"><i class="icon icon-siliao-m"></i>马上报名</span>\r\n                        </button>\r\n                    ';
        }
        buffer += '<main role="main" class="action-signin wryh">\r\n\r\n    <header class="nav-header sign-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">报名网友</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <div class="sign-scan fn-hide" data-role="sign-scan">扫码签到</div>\r\n\r\n        </div>\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body">\r\n        <div class="action-signin-content">\r\n            <h1 data-role="event_title">';
        if (helper = helpers.event_title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.event_title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h1>\r\n            <section class="action-signin-list fn-hide">\r\n                <ul data-role="action-signin-list">\r\n                </ul>\r\n            </section>\r\n            <section class="action-signin-new">\r\n                <ul data-role="action-signin-list">\r\n                </ul>\r\n            </section>\r\n        </div>\r\n    </div>\r\n\r\n    ';
        stack1 = helpers.unless.call(depth0, depth0 && depth0.is_mine, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n</main>";
        return buffer;
    });
});

define("pai/wx-1.1.0/act/signin/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this, helperMissing = helpers.helperMissing;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <li class="game-part">\r\n        <div class="item" data-role="dropdown">\r\n            <div class="title">';
            if (helper = helpers.table_name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.table_name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n            <div class="title-text">\r\n                <div class="text">';
            if (helper = helpers.event_total_join) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.event_total_join;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                <i class="icon icon-new-sign-arr-down"></i>\r\n            </div>\r\n        </div>\r\n        <div class="item-details fn-hide">\r\n            ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.enroll_arr, stack1 == null || stack1 === false ? stack1 : stack1.first), {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.enroll_arr, stack1 == null || stack1 === false ? stack1 : stack1.backup), {
                hash: {},
                inverse: self.noop,
                fn: self.program(14, program14, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n            ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.enroll_arr, stack1 == null || stack1 === false ? stack1 : stack1.onlook), {
                hash: {},
                inverse: self.noop,
                fn: self.program(17, program17, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        </div>\r\n    </li>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                <div class="first list">\r\n                    <div class="first-title title open" data-role="item-dropdown">\r\n                        <div class="title-left">正选已支付</div>\r\n                        <div class="title-right">\r\n                            ' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.enroll_arr, 
            stack1 == null || stack1 === false ? stack1 : stack1.first), stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '\r\n                            <i class="icon icon-new-sign-arr-up"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div class="first-details details">\r\n                        ';
            stack1 = helpers.each.call(depth0, (stack1 = (stack1 = depth0 && depth0.enroll_arr, 
            stack1 == null || stack1 === false ? stack1 : stack1.first), stack1 == null || stack1 === false ? stack1 : stack1.enroll_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    </div>\r\n                </div>\r\n            ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper, options;
            buffer += '\r\n                            <div class="child" >\r\n                                <img class="img-container" src="';
            if (helper = helpers.user_icon_165) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon_165;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="navigate" data-target="zone" data-uid="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-user-role="';
            if (helper = helpers.role) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.role;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"/>\r\n                                <div class="info-container">\r\n                                    <div class="top">\r\n                                        <div class="nickname">';
            if (helper = helpers.nick_name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nick_name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n                                        ";
            stack1 = (helper = helpers.if_equal || depth0 && depth0.if_equal, options = {
                hash: {},
                inverse: self.program(6, program6, data),
                fn: self.program(4, program4, data),
                data: data
            }, helper ? helper.call(depth0, depth0 && depth0.enroll_num, "1", options) : helperMissing.call(depth0, "if_equal", depth0 && depth0.enroll_num, "1", options));
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.mark_text, {
                hash: {},
                inverse: self.noop,
                fn: self.program(8, program8, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n\r\n                                    </div>\r\n                                    <div class="btm">\r\n                                        <div class="identity">ID:';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.cellphone, {
                hash: {},
                inverse: self.noop,
                fn: self.program(10, program10, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.cellphone, {
                hash: {},
                inverse: self.noop,
                fn: self.program(12, program12, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ";
            return buffer;
        }
        function program4(depth0, data) {
            return "\r\n                                        ";
        }
        function program6(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                                            <div class="num">(共';
            if (helper = helpers.enroll_num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.enroll_num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "人)</div>\r\n                                        ";
            return buffer;
        }
        function program8(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                                            <div class="sign-tip">';
            if (helper = helpers.mark_text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.mark_text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n                                        ";
            return buffer;
        }
        function program10(depth0, data) {
            return "\r\n                                            <div>手机：</div>\r\n                                        ";
        }
        function program12(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                                            <div class="phone" data-role="call-phone" data-phone="';
            if (helper = helpers.cellphone) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.cellphone;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">';
            if (helper = helpers.cellphone) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.cellphone;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n                                        ";
            return buffer;
        }
        function program14(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                <div class="backup list">\r\n                    <div class="backup-title title open" data-role="item-dropdown">\r\n                        <div class="title-left">候补已支付</div>\r\n                        <div class="title-right">\r\n                            ' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.enroll_arr, 
            stack1 == null || stack1 === false ? stack1 : stack1.backup), stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '\r\n                            <i class="icon icon-new-sign-arr-up"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div class="backup-details details">\r\n                        ';
            stack1 = helpers.each.call(depth0, (stack1 = (stack1 = depth0 && depth0.enroll_arr, 
            stack1 == null || stack1 === false ? stack1 : stack1.backup), stack1 == null || stack1 === false ? stack1 : stack1.enroll_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(15, program15, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    </div>\r\n                </div>\r\n            ";
            return buffer;
        }
        function program15(depth0, data) {
            var buffer = "", stack1, helper, options;
            buffer += '\r\n                            <div class="child">\r\n                                <img class="img-container" src="';
            if (helper = helpers.user_icon_165) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon_165;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="navigate" data-target="zone" data-uid="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-user-role="';
            if (helper = helpers.role) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.role;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"/>\r\n                                <div class="info-container">\r\n                                    <div class="top">\r\n                                        <div class="nickname">';
            if (helper = helpers.nick_name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nick_name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n                                        ";
            stack1 = (helper = helpers.if_equal || depth0 && depth0.if_equal, options = {
                hash: {},
                inverse: self.program(6, program6, data),
                fn: self.program(4, program4, data),
                data: data
            }, helper ? helper.call(depth0, depth0 && depth0.enroll_num, "1", options) : helperMissing.call(depth0, "if_equal", depth0 && depth0.enroll_num, "1", options));
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.mark_text, {
                hash: {},
                inverse: self.noop,
                fn: self.program(8, program8, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n                                    </div>\r\n                                    <div class="btm">\r\n                                        <div class="identity">ID:';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.cellphone, {
                hash: {},
                inverse: self.noop,
                fn: self.program(10, program10, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.cellphone, {
                hash: {},
                inverse: self.noop,
                fn: self.program(12, program12, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ";
            return buffer;
        }
        function program17(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                <div class="onlook list">\r\n                    <div class="onlook-title title open" data-role="item-dropdown">\r\n                        <div class="title-left">报名未支付</div>\r\n                        <div class="title-right">\r\n                            ' + escapeExpression((stack1 = (stack1 = (stack1 = depth0 && depth0.enroll_arr, 
            stack1 == null || stack1 === false ? stack1 : stack1.onlook), stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '\r\n                            <i class="icon icon-new-sign-arr-up"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div class="onlook-details details">\r\n                        ';
            stack1 = helpers.each.call(depth0, (stack1 = (stack1 = depth0 && depth0.enroll_arr, 
            stack1 == null || stack1 === false ? stack1 : stack1.onlook), stack1 == null || stack1 === false ? stack1 : stack1.enroll_list), {
                hash: {},
                inverse: self.noop,
                fn: self.program(15, program15, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    </div>\r\n                </div>\r\n            ";
            return buffer;
        }
        buffer += "\r\n\r\n";
        stack1 = helpers.each.call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

/**
 *
 */
define("pai/wx-1.1.0/act/signin/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    module.exports = collection.extend({
        url: global_config.ajax_url.get_act_joiners,
        initialize: function(options) {
            var self = this;
            self._setup_events();
        },
        parse: function(response) {
            if (response.result_data) {
                if (response.result_data.list) {
                    return response.result_data.list;
                }
                return response.result_data;
            }
        },
        _setup_events: function() {
            var self = this;
        },
        get_games: function(page, event_id) {
            var self = this;
            /*if (self.getState() == 'sending') {
                return self;
            }*/
            var paramData = {
                event_id: event_id
            };
            self.fetch({
                remove: page === 1,
                reset: page === 1,
                data: paramData,
                cache: false,
                beforeSend: function(xhr, xhrOptions) {
                    self.trigger("before:fetch", xhr, xhrOptions);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                }
            });
            return self;
        },
        set_get_partners_id: function(id) {
            this.id = id;
        }
    });
});

/**
 * Created by nolest on 2014/9/1.
 *
/* 预览页
 */
define("pai/wx-1.1.0/act/detail/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/detail/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/mine-popup/index-debug", "pai/wx-1.1.0/ui/popup/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/act/detail/introView-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/act/detail/infoView-debug", "pai/wx-1.1.0/act/detail/arrangeView-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/act/detail/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var pub_preview_view = require("pai/wx-1.1.0/act/detail/view-debug");
    var pub_preview_model = require("pai/wx-1.1.0/act/detail/model-debug");
    page_control.add_page([ function() {
        return {
            title: "活动预览",
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            route: {
                "act/detail/:event_id(/:type)": "act/detail"
            },
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new pub_preview_model();
                var templateModel = {};
                var event_id = utility.int(route_params_arr[0]);
                console.log(route_params_obj);
                model.set("event_id", event_id);
                /*

                if(route_params_obj && route_params_obj.form_info_title)
                {
                    //如果从活动详情点击title过来的 需要隐藏“报名按钮”
                    templateModel =
                    {
                        title : '活动详情',
                        is_preview : false,
                        form_info_title : true
                    };
                }
                else
                */
                if (event_id) {
                    //event_id == 0 时是发布活动的预览，传递一个route_params_obj过来构建页面内容 nolest 2015-1-30
                    templateModel = {
                        title: "活动详情",
                        is_preview: false
                    };
                } else {
                    templateModel = {
                        title: "活动预览",
                        is_preview: true
                    };
                }
                var type = route_params_arr[1] ? route_params_arr[1] : "intro";
                var view = new pub_preview_view({
                    model: model,
                    parentNode: self.$el,
                    type: type,
                    templateModel: templateModel,
                    preview_obj: route_params_obj
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/1.
 *
 *
 *
 *  活动详细页视图
 */
define("pai/wx-1.1.0/act/detail/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/mine-popup/index-debug", "pai/wx-1.1.0/ui/popup/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/act/detail/introView-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/act/detail/infoView-debug", "pai/wx-1.1.0/act/detail/arrangeView-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/dialog/index-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/detail/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var mine_popup = require("pai/wx-1.1.0/ui/mine-popup/index-debug");
    var introView = require("pai/wx-1.1.0/act/detail/introView-debug");
    var infoView = require("pai/wx-1.1.0/act/detail/infoView-debug");
    var arrangeView = require("pai/wx-1.1.0/act/detail/arrangeView-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var download_tips = require("pai/wx-1.1.0/ui/download_tips/download_tips-debug.handlebars");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var model_card_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            'tap [data-role="choosen-container"] i': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var title = $cur_btn.attr("data-title");
                self.$('[data-role="choosen-container"] i').removeClass("cur");
                self.hide_all_container();
                self.show_container_by_name(title);
            },
            'tap [data-role="btn-next"]': function() {
                var self = this;
                self.model.submit_obj(self.submit_obj);
                m_alert.show("提交中...", "loading");
            },
            'tap [data-role="check_list"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    self._run_jump_app();
                    return;
                }
                page_control.navigate_to_page("act/signin/" + self.model.get("event_id"), {
                    model: self.model
                });
            },
            'tap [data-role="btn_success"]': function() {
                page_control.navigate_to_page("hot");
            },
            'tap [data-role="share"]': function() {
                // 弹出层设置
                var self = this;
                if (!self.mine_Popup) {
                    self.mine_Popup = new mine_popup({
                        uid: utility.user.get("user_id"),
                        items: {
                            edit: false,
                            report: true
                        }
                    }).show();
                } else {
                    self.mine_Popup.show();
                }
            },
            'tap [data-role="page-back"]': function() {
                var self = this;
                var event_id = utility.int(self.model.get("event_id"));
                if (event_id) {
                    page_control.back();
                } else {
                    // 活动发布后的返回
                    page_control.navigate_to_page("mine");
                }
            },
            'tap [data-role="join-in"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    self._run_jump_app();
                    return;
                }
                if (!utility.auth.is_login()) {
                    var loc = window.location;
                    var redirect_url = loc.origin + "/m/" + window._page_mode + loc.search + "#act/detail/" + self.model.get("event_id");
                    window._force_jump_link = redirect_url;
                    page_control.navigate_to_page("account/login");
                    return;
                }
                page_control.navigate_to_page("act/apply/" + self.model.get("event_id"), self.model);
            },
            'tap [data-role="succeed-notice-delete"]': function() {
                var self = this;
                self.success_notice.addClass("fn-hide");
                //重置三个view的高度
                self._reset_views_height(self.reset_viewport_height());
            },
            'tap [data-role="follow"]': function(ev) {
                var self = this;
                self.$('[data-role="follow"]').toggleClass("followed");
                var a = self.$('[data-role="follow"]').hasClass("followed");
                if (a) {
                    a = 1;
                    self.model.set("is_follow", true);
                } else {
                    a = 0;
                    self.model.set("is_follow", false);
                }
                console.log(a);
                self.model.relation(a);
            },
            'tap [data-role="notice-exp"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    self.dialog_down_app_v2.show();
                    return;
                }
                if (WeixinApi.isWexXin()) {
                    console.log("is weixin");
                    self.dialog_down_app.show();
                } else {
                    console.log("not weixin");
                    self.dialog_down_app.show();
                }
            },
            'tap [data-role="go-comment"]': function() {
                var self = this;
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    self._run_jump_app();
                    return;
                }
                page_control.navigate_to_page("comment/list/event/" + self.model.get("event_id") + "/0");
            },
            'tap [data-role="img-tap"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var $total_alumn_img = self.$('[data-role="img-tap"]');
                var total_alumn_img_arr = [];
                $total_alumn_img.each(function(i, obj) {
                    total_alumn_img_arr.push(utility.matching_img_size($(obj).attr("data-url"), 640));
                });
                // 当前图片索引
                var index = $total_alumn_img.index($cur_btn);
                var data = {
                    img_arr: total_alumn_img_arr,
                    index: index
                };
                console.log($cur_btn.attr("data-url"), data);
                if (WeixinApi.isWexXin()) {
                    WeixinApi.imagePreview($cur_btn.attr("data-url"), total_alumn_img_arr);
                    return;
                }
            },
            'tap [data-role="other_browser_tips"]': function() {
                var self = this;
                self._run_jump_app(true);
            }
        },
        _run_jump_app: function(tag) {
            var self = this;
            var no_wifi_url = encodeURIComponent("http://yp.yueus.com/mobile/app?from_app=1#act/detail/" + self.model.get("event_id"));
            var wifi_url = encodeURIComponent("http://yp-wifi.yueus.com/mobile/app?from_app=1#act/detail/" + self.model.get("event_id"));
            utility.judge_go_to_app({
                url: "yueyue://goto?type=inner_web&url=" + no_wifi_url + "&wifi_url=" + wifi_url,
                before_send: function() {
                    m_alert.show("正在进行跳转到约yue App...", "loading", {
                        delay: 3e3
                    });
                },
                has_app_callback: function() {},
                has_not_app_callback: function() {
                    m_alert.hide();
                    if (tag) {
                        self.dialog_down_app.show();
                    } else {
                        self.dialog_down_app_v2.show();
                    }
                }
            });
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.listenTo(self.model, "change", self._render_follow);
            self.model.on("before:fetch", function(response, options) {
                m_alert.show("加载中...", "loading");
            }).on("success:fetch", function(response, options) {
                m_alert.hide();
                self.model.set("is_follow", response.result_data.data.is_follow);
                //自己发布的活动隐藏报名按钮
                if (response.result_data.data.pub_user_id == utility.user.get("user_id")) {
                    self._is_self = true;
                    self.$('[data-role="apply-footer"]').addClass("fn-hide");
                }
                //取消了的活动隐藏报名按钮
                if (response.result_data.data.act_info.event_status == 2) {
                    self.$('[data-role="apply-footer"]').addClass("fn-hide");
                }
                //防止其他页面操作此model重复渲染
                if (!self.intro_view) {
                    self._setup_content(response, options);
                }
            }).on("success:submit", function(response, options) {
                if (response.result_data.code > 1) {
                    m_alert.show(response.result_data.msg, "right", {
                        delay: 1e3
                    });
                    self.$bottom_btn_container.addClass("fn-hide");
                    self.success_btn.removeClass("fn-hide");
                    self.success_notice.removeClass("fn-hide");
                    self._reset_views_height(self.reset_succeed_viewport_height());
                }
            }).on("error:submit", function(response, options) {
                m_alert.show("网络异常", "error");
            }).on("complete:submit", function(response, options) {});
            self.on("update_content", function(pub_user_id) {
                self.$bottom_btn_container.removeClass("fn-hide");
                // 特殊处理，因为导入摄影内容导致高度变化不确定 hudw 2014.9.20
                setTimeout(function() {
                    self.intro_view && self.intro_view.view_scroll_obj.refresh();
                }, 1e3);
            });
        },
        _parseObj: function(obj) {
            var self = this;
            var fake_response = {
                result_data: {
                    data: {
                        act_intro: obj,
                        act_info: obj,
                        act_arrange: obj
                    }
                }
            };
            self.submit_obj = obj;
            self._setup_content(fake_response);
        },
        _render_follow: function() {
            var self = this;
            var a = self.model.get("is_follow");
            //var a = self.$('[data-role="follow"]').hasClass("followed");
            if (a) {
                self.$('[data-role="follow"]').addClass("followed");
            } else {
                self.$('[data-role="follow"]').removeClass("followed");
            }
        },
        /**
         * 安装内容
         * @private
         */
        _setup_content: function(response, options) {
            var self = this;
            //console.log(self.model.toJSON(),response.result_data);
            var intro_res = response.result_data.data.act_intro;
            var info_res = response.result_data.data.act_info;
            var arrange_res = response.result_data.data.act_arrange;
            var viewport_height;
            self.chat_obj = {
                senderid: utility.login_id,
                receiverid: utility.int(response.result_data.data.act_info.event_organizers),
                sendername: utility.user.get("nickname"),
                receivername: response.result_data.data.act_info.nickname,
                sendericon: utility.user.get("user_icon"),
                receivericon: response.result_data.data.act_info.user_icon
            };
            if (self._is_self || response.result_data.data.act_info.event_status == 0 || /*self.get('templateModel').form_info_title || */ response.result_data.data.act_info.event_status == 2) {
                viewport_height = self.reset_viewport_height() + 50;
            } else {
                viewport_height = self.reset_viewport_height();
            }
            console.log(viewport_height);
            var intro_view = new introView({
                parentNode: self.$select_container,
                templateModel: intro_res,
                viewport_height: viewport_height
            }).render();
            var info_view = new infoView({
                parentNode: self.$select_container,
                templateModel: info_res,
                viewport_height: viewport_height
            }).render();
            var arrange_view = new arrangeView({
                parentNode: self.$select_container,
                templateModel: arrange_res,
                viewport_height: viewport_height
            }).render();
            self.intro_view = intro_view;
            self.info_view = info_view;
            self.arrange_view = arrange_view;
            if (!(response.result_data.data.pub_user_id == utility.user.id) && response.result_data.data.act_info.event_status == 0) {
                self.$('[data-role="join-in"]').removeClass("fn-hide");
                self._reset_views_height(self.reset_viewport_height());
            }
            /*
            if(self.get('templateModel').form_info_title)
            {
                self._reset_views_height(self.reset_viewport_height() + 50);
            }
            */
            // 此处应可以通过路由参数设置显示对应的项目
            self.show_container_by_name(self.get("type"));
            self.trigger("update_content", response.result_data.data.pub_user_id);
            if (WeixinApi.isWexXin() || WeiXinSDK.isWeiXin()) {
                self._set_WX_share(response.result_data.data);
            }
            //hudw 2015.1.3
            //内容加载后滚动条置顶
            self.intro_view.view_scroll_obj && self.intro_view.view_scroll_obj.reset_top();
        },
        _set_WX_share: function(data) {
            var self = this;
            console.log(data);
            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") //(global_config.WeiXin_Version.indexOf('6.0.2') != -1|| global_config.WeiXin_Version.indexOf('6.1') != -1)
            {
                var loc = window.location;
                self.WeiXin_data = {
                    title: data.share_text.title,
                    //"模特邀约第一移动平台", // 分享标题
                    desc: data.share_text.content,
                    //"我是约女神【" + data.user_name + "】，等你约拍哦~", // 分享描述
                    link: data.share_text.url + "&_from_source=normal",
                    // 分享链接
                    imgUrl: data.share_text.img,
                    //data.user_icon, // 分享图标
                    type: "link",
                    // 分享类型,music、video或link，不填默认为link
                    dataUrl: "",
                    // 如果type是music或video，则要提供数据链接，默认为空
                    success: function() {
                        // 用户确认分享后执行的回调函数
                        utility.ajax_request({
                            url: global_config.ajax_url.send_share_coupon,
                            type: "POST",
                            data: {
                                event_id: self.model.get("event_id"),
                                url: window.location.href
                            }
                        });
                    },
                    cancel: function() {}
                };
                self.WeiXin_data_Timeline = {
                    desc: data.share_text.title,
                    //"模特邀约第一移动平台", // 分享标题
                    title: data.share_text.content,
                    //"我是约女神【" + data.user_name + "】，等你约拍哦~", // 分享描述
                    link: data.share_text.url + "&_from_source=timeline",
                    // 分享链接
                    imgUrl: data.share_text.img,
                    //data.user_icon, // 分享图标
                    type: "link",
                    // 分享类型,music、video或link，不填默认为link
                    dataUrl: "",
                    // 如果type是music或video，则要提供数据链接，默认为空
                    success: function() {
                        // 用户确认分享后执行的回调函数
                        utility.ajax_request({
                            url: global_config.ajax_url.send_share_coupon,
                            type: "POST",
                            data: {
                                event_id: self.model.get("event_id"),
                                url: window.location.href
                            }
                        });
                        utility.stat_action({
                            tj_point: "touch",
                            tj_touch_type: "share",
                            tj_extend_params: {
                                hash: loc.hash
                            }
                        });
                    },
                    cancel: function() {}
                };
                utility.wei_xin.set_share_new(loc.hash, self.WeiXin_data, self.WeiXin_data_Timeline);
                WeiXinSDK.ready(function() {
                    WeiXinSDK.ShareToFriend(self.WeiXin_data);
                    WeiXinSDK.ShareTimeLine(self.WeiXin_data_Timeline);
                    WeiXinSDK.ShareQQ(self.WeiXin_data);
                });
                console.log(self.WeiXin_data, self.WeiXin_data_Timeline);
            } else {
                if (WeixinApi.isWexXin()) {
                    WeixinApi.ready(function(Api) {
                        var loc = window.location;
                        var wxData = {
                            appId: "wx25fbf6e62a52d11e",
                            imgUrl: data.share_text.img,
                            //data.user_icon,
                            link: data.share_text.url + "?_from_source=normal",
                            desc: data.share_text.content,
                            //"我是约女神【" + data.user_name + "】，等你约拍哦~",
                            title: data.share_text.title
                        };
                        var wx_Data_Timeline = {
                            appId: "wx25fbf6e62a52d11e",
                            imgUrl: data.share_text.img,
                            //data.user_icon,
                            link: data.share_text.url + "?_from_source=timeline",
                            //"link" : loc.origin + loc.pathname + loc.search + "&for_share=timeline" + loc.hash,
                            desc: data.share_text.title,
                            //"我是约女神【" + data.user_name + "】，等你约拍哦~",
                            title: data.share_text.content
                        };
                        // 分享的回调
                        var wxCallbacks = {
                            // 收藏操作不执行回调，默认是开启(true)的
                            favorite: false,
                            // 分享操作开始之前
                            ready: function() {},
                            // 分享被用户自动取消
                            cancel: function(resp) {},
                            // 分享失败了
                            fail: function(resp) {},
                            // 分享成功
                            confirm: function(resp) {
                                // 分享成功了，我们是不是可以做一些分享统计呢？
                                //alert(JSON.stringify(resp));
                                utility.stat_action({
                                    tj_point: "touch",
                                    tj_touch_type: "share",
                                    tj_extend_params: {
                                        hash: loc.hash
                                    }
                                });
                            },
                            // 整个分享过程结束
                            all: function(resp, shareTo) {}
                        };
                        utility.wei_xin.set_share(loc.hash, wxData, wx_Data_Timeline, wxCallbacks);
                        // 安卓好友
                        Api.shareToFriend(wxData, wxCallbacks);
                        // 安卓朋友圈
                        Api.shareToTimeline(wx_Data_Timeline, wxCallbacks);
                        // 腾讯微博
                        //WeixinApi.shareToWeibo(wxData, wxCallbacks);
                        // iOS好友/朋友圈
                        Api.generalShare(wxData, wxCallbacks);
                    });
                }
            }
        },
        setup_dialog_down_app: function() {
            var self = this;
            var str = "需要和组织者私聊，可拨打客服电话<br>4000-82-9003或直接下载APP";
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                str = "还没安装约yue APP?";
            }
            // 已注册过的提示层安装 hudw 2014.11.21
            self.dialog_down_app = new dialog({
                content: '<p class="wx_card_notice">' + str + '<button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_download_btn"><span class="ui-button-content">下载APP</span></button>'
            });
            self.dialog_down_app.on("tap:button:wx_card_download_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            });
        },
        setup_dialog_down_app_v2: function() {
            var self = this;
            var str = '<div style="padding: 0 5px;">网页版暂不支持该功能，请使用约yue APP获得更佳体验</div>';
            // 已注册过的提示层安装 hudw 2014.11.21
            self.dialog_down_app_v2 = new dialog({
                content: '<p class="wx_card_notice">' + str + '<button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_download_btn"><span class="ui-button-content">下载APP</span></button>'
            });
            self.dialog_down_app_v2.on("tap:button:wx_card_download_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            });
        },
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$('[data-role="pub-preview-content"]');
            // 滚动容器
            self.$select_container = self.$('[data-role="select-con"]');
            self.$bottom_btn_container = self.$('[data-role="bottom-btn-container"]');
            self.success_btn = self.$('[data-role="btn_success"]');
            self.success_notice = self.$('[data-role="success_notice"]');
            // 安装事件
            self._setup_events();
            self.submit_obj = null;
            /*
            if(self.get('templateModel').form_info_title)
            {
                self.$('[data-role="apply-footer"]').addClass('fn-hide');
            }
            */
            if (self.get("templateModel").is_preview) {
                self._parseObj(self.get("preview_obj"));
                self.$('[data-role="preview-hide"]').hide();
            } else {
                self.model.get_list();
            }
            self.setup_dialog_down_app();
            self.setup_dialog_down_app_v2();
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                self.$container.append(download_tips());
                self.$('[data-role="page-back"]').addClass("fn-invisible");
                self.$(".right-button-wrap").addClass("fn-invisible");
                self.$('[data-role="other_browser_tips"]').removeClass("fn-hide");
            }
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 隐藏所有子容器
         */
        hide_all_container: function() {
            var self = this;
            self.$('[data-role="act-detail-container"]').addClass("fn-hide");
        },
        /**
         * 根据名称显示容器
         * @param name
         */
        show_container_by_name: function(name) {
            var self = this;
            switch (name) {
              case "intro":
                self.intro_view && self.intro_view.show();
                break;

              case "info":
                self.info_view && self.info_view.show();
                break;

              case "arrange":
                self.arrange_view && self.arrange_view.show();
                break;
            }
            self.$('[data-role="act-' + name + '"]').addClass("cur");
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 41 - 50;
        },
        reset_succeed_viewport_height: function() {
            return utility.get_view_port_height("nav") - 41 - 50 - 49;
        },
        _reset_views_height: function(height) {
            var self = this;
            //重置三个view的高度
            self.intro_view.$container.height(height);
            self.intro_view.view_scroll_obj.refresh();
            self.info_view.$container.height(height);
            self.info_view.view_scroll_obj.refresh();
            self.arrange_view.$container.height(height);
            self.arrange_view.view_scroll_obj.refresh();
        }
    });
    module.exports = model_card_view;
});

define("pai/wx-1.1.0/act/detail/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            return '\r\n            <div class="btns fn-hide" data-role="bottom-btn-container">\r\n                <div class="btn_back" data-role="page-back">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2">\r\n                        <span class="ui-button-content">返回修改</span>\r\n                    </button>\r\n                </div>\r\n                <div class="btn_next" data-role="btn-next">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ">\r\n                        <span class="ui-button-content">发布</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        ';
        }
        function program3(depth0, data) {
            return '\r\n            <footer class="pop-model-car-confirm" data-role="apply-footer">\r\n                <ul class="list clearfix">\r\n                    <li data-role="join-in">\r\n                        <button class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width">\r\n                            <span class="ui-button-content"><i class="icon icon-siliao-m"></i>马上报名</span>\r\n                        </button>\r\n                    </li>\r\n                </ul>\r\n            </footer>\r\n\r\n\r\n        ';
        }
        buffer += '<main role="main" class="action-preview secondary">\r\n    <header class="nav-header">\r\n        <div class="left-button-wrap">\r\n            <a data-role="page-back"><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <a  data-role="share"><i class="circle-min"></i><i class="circle-min"></i><i class="circle-min"></i></a>\r\n        </div>\r\n    </header>\r\n    <div class="content-body">\r\n        <div class="measure-choosen">\r\n            <ul class="measure-choosen-in" data-role="choosen-container">\r\n                <i class="measure-choosen-child" data-role="act-intro" data-title="intro">活动介绍</i>\r\n                <i class="measure-choosen-child" data-role="act-info" data-title="info">活动信息</i>\r\n                <i class="measure-choosen-child" data-role="act-arrange" data-title="arrange">场次安排</i>\r\n            </ul>\r\n        </div>\r\n        <div class="success_notice fn-hide" data-role="success_notice">\r\n            <div class="notice">\r\n                <p>活动发布成功，请等待工作人员审核。</p>\r\n                <p>审核通过后，即可转发活动链接及二维码，邀请朋友参加。</p>\r\n            </div>\r\n            <div class="delete" data-role="succeed-notice-delete"><i class="icon icon-close-20x20-w"></i></div>\r\n\r\n        </div>\r\n        <div class="action-preview-content" data-role="pub-preview-content">\r\n            <div class="wrap-box">\r\n                <div class="main-con">\r\n                    <div class="select-con" data-role="select-con">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_preview, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n            <div class="btns_success fn-hide" data-role="btn_success">\r\n                <div class="btn" data-role="next">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2">\r\n                        <span class="ui-button-content">返回首页</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n    </div>\r\n</main>';
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/1.
 *
 *
 *
 *  活动预览-intro view
 */
define("pai/wx-1.1.0/act/detail/introView-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/detail/tpl/intro-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var intro_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            }
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    //self.view_scroll_obj.refresh();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            var ori_width = utility.get_view_port_width();
            template_model.ori_width = ori_width - 20;
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        setup: function() {
            var self = this;
            self.$container = self.$el;
            // 安装事件
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            self.$container.height(self.get("viewport_height"));
            return self;
        },
        show: function() {
            var self = this;
            self.$container.removeClass("fn-hide");
            self.view_scroll_obj && self.view_scroll_obj.refresh();
        },
        hide: function() {
            var self = this;
            self.$container.addClass("fn-hide");
        }
    });
    module.exports = intro_view;
});

define("pai/wx-1.1.0/act/detail/tpl/intro-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data, depth1) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="con" style="overflow:hidden;">\r\n                    <p class="module">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "</p>\r\n                    ";
            stack1 = helpers.each.call(depth0, depth0 && depth0.img, {
                hash: {},
                inverse: self.noop,
                fn: self.programWithDepth(2, program2, data, depth1),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                </div>\r\n            ";
            return buffer;
        }
        function program2(depth0, data, depth2) {
            var buffer = "", stack1;
            buffer += '\r\n                        <i class="img image-img module-pic" data-size="' + escapeExpression((stack1 = depth2 && depth2.ori_width, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-lazyload="' + escapeExpression((stack1 = depth0 && depth0.img_s, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-url="' + escapeExpression((stack1 = depth0 && depth0.img_l, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" data-role="img-tap"></i>\r\n                    ';
            return buffer;
        }
        buffer += '<div class="action-con-intro h-100" data-role="act-detail-container" style="position: relative;">\r\n    <div data-role="scroll-wrapper">\r\n        <div class="main-title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n        <div class="theme" style="overflow: hidden;">\r\n            <div class="title-con">\r\n                <div class="title">活动主题</div>\r\n            </div>\r\n            <p class="theme-art">\r\n                ';
        if (helper = helpers.content) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.content;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n            </p>\r\n        </div>\r\n        <div class="address-module" >\r\n            <div class="title-con">\r\n                <div class="title">场地/模特</div>\r\n            </div>\r\n            ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.other_info_detail, {
            hash: {},
            inverse: self.noop,
            fn: self.programWithDepth(1, program1, data, depth0),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n        </div>\r\n    </div>\r\n</div>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/1.
 *
 *
 *
 *  活动预览-info view
 */
define("pai/wx-1.1.0/act/detail/infoView-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/detail/tpl/info-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var info_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                //2014-12-17   trello 产品按钮显示需求 nolest
                //2014-12-31 hudw 产品最终要求是 评价按钮一直存在
                /*var event_status = self.get('templateModel').event_status;

                if(event_status != 2)
                {
                    self.$('[data-role="go-comment"]').addClass('fn-hide');
                }*/
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.refresh();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        setup: function() {
            var self = this;
            // 安装事件
            self._setup_events();
            self.$container = self.$el;
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            self.$container.height(self.get("viewport_height"));
            return self;
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
            self.view_scroll_obj && self.view_scroll_obj.refresh();
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
    module.exports = info_view;
});

define("pai/wx-1.1.0/act/detail/tpl/info-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var stack1, helper;
            if (helper = helpers.join_count) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.join_count;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            return escapeExpression(stack1);
        }
        function program3(depth0, data) {
            return "0";
        }
        function program5(depth0, data) {
            var stack1, helper;
            if (helper = helpers.hit_count) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.hit_count;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            return escapeExpression(stack1);
        }
        function program7(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n        <div class="notice-con exp" >\r\n            <p class="notice">组织者：</p>\r\n            <div class="notice-exp" data-role="notice-exp">\r\n                <img src="';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"/>\r\n                <div class="notice-exp-detail">\r\n                    <div class="nickname">';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                    <div class="gray">点击聊天</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        ';
            return buffer;
        }
        buffer += '<div class="action-con-info fn-hide" data-role="act-detail-container">\r\n    <div>\r\n        <div class="main-title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n        <div class="notice-con">\r\n            <p class="notice">时间：</p><p class="notice_in" data-role="time">';
        if (helper = helpers.event_time) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.event_time;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n        </div>\r\n        <div class="notice-con">\r\n            <p class="notice">地址：</p><p class="notice_in" data-role="address">';
        if (helper = helpers.address) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.address;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</p>\r\n        </div>\r\n        <div class="notice-con">\r\n            <p class="notice">俱乐部：</p><p class="notice_in" data-role="bar">';
        if (helper = helpers.club_name) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.club_name;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</p>\r\n        </div>\r\n        <div class="notice-con">\r\n            <p class="notice">费用：</p><p class="notice_in" data-role="fee">￥';
        if (helper = helpers.budget) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.budget;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '/人</p>\r\n        </div>\r\n        <div class="notice-con" data-role="preview-hide">\r\n            <p class="notice">报名人数：</p><p class="notice_in">';
        if (helper = helpers.event_join) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.event_join;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '人</p>\r\n        </div>\r\n        <!--div class="notice-con">\r\n            <<div>\r\n                <label>';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.join_count, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "</label>\r\n                <label>人报名</label>\r\n                <!--label>";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.hit_count, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</label>\r\n                <label>人关注</label></div>>\r\n            <p class="notice_in" data-role="member"></p><p class="notice_in">';
        if (helper = helpers.join) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.join;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "</p>\r\n        </div-->\r\n        ";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.event_organizers, {
            hash: {},
            inverse: self.noop,
            fn: self.program(7, program7, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n        <div>\r\n            <style>\r\n                .action-con-info .info_btn{\r\n                    -webkit-box-sizing: border-box;\r\n                    box-sizing: border-box;\r\n                    display: -webkit-box;\r\n                    margin-top:30px;\r\n                    text-align:center;\r\n                }\r\n                .action-con-info .info_btn button{\r\n                    -webkit-box-flex: 1;\r\n                    text-align: center;\r\n                    font-size: 14px;\r\n                    height: 35px;\r\n                }\r\n            </style>\r\n\r\n            <div class="info_btn" data-role="preview-hide">\r\n                <table class="w-100">\r\n                    <tr>\r\n                        <td class="pr15 pl15" data-role="check_list">\r\n                            <button  class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2">\r\n                                <span class="ui-button-content">查看报名名单</span>\r\n                            </button>\r\n                        </td>\r\n                        <td class="pr15" data-role="go-comment">\r\n                            <button  class="ui-button ui-button-primary ui-button-size-min ui-button-block ui-button-color3">\r\n                                <span class="ui-button-content">查看组织者评价</span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n\r\n            <i class="icon icon-r"></i>\r\n        </div>\r\n    </div>\r\n</div>';
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/1.
 *
 *
 *
 *  活动预览-arrange view
 */
define("pai/wx-1.1.0/act/detail/arrangeView-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/detail/tpl/part-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var arrange_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {},
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.refresh();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _parseElement: function() {
            var self = this;
            var template_model = self.get("templateModel");
            self.set("templateModel", template_model);
            View.prototype._parseElement.apply(self);
        },
        setup: function() {
            var self = this;
            // 安装事件
            self._setup_events();
            self.$container = self.$el;
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            self.$container.height(self.get("viewport_height"));
            return self;
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
            self.view_scroll_obj && self.view_scroll_obj.refresh();
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
    module.exports = arrange_view;
});

define("pai/wx-1.1.0/act/detail/tpl/part-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="con">\r\n                    <div class="per">\r\n                        <p class="notice">第';
            if (helper = helpers.session) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.session;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '场：</p>\r\n                        <p class="cont">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</p>\r\n                    </div>\r\n                    <div class="per">\r\n                        <p class="notice">名额：</p>\r\n                        <p class="cont">';
            if (helper = helpers.num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "人</p>\r\n                    </div>\r\n                </div>\r\n            ";
            return buffer;
        }
        function program3(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="con">\r\n                    <div class="per-child">\r\n                        <div class="per-child-con">\r\n                            <p class="notice">联系人：</p>\r\n                            <p class="cont">';
            if (helper = helpers.name) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.name;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</p>\r\n                        </div>\r\n                        <div class="per-child-con">\r\n                            <p class="notice">手机：</p>\r\n                            <p class="cont">';
            if (helper = helpers.mobile) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.mobile;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ";
            return buffer;
        }
        buffer += '<div class="action-con-arrange fn-hide" data-role="act-detail-container">\r\n    <div class="h-100">\r\n        <div class="main-title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</div>\r\n        <div class="notice-con">\r\n            <div class="title-con">\r\n                <div class="title">场次安排</div>\r\n            </div>\r\n            ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.table_info, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n            <div class="awl-con">\r\n                <p class="notice">备注：</p><p class="cont">';
        if (helper = helpers.remark) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.remark;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '</p>\r\n            </div>\r\n        </div>\r\n        <div class="notice-con">\r\n            <div class="title-con">\r\n                <div class="title">活动领队</div>\r\n            </div>\r\n            ';
        stack1 = helpers.each.call(depth0, depth0 && depth0.leader_info_detail, {
            hash: {},
            inverse: self.noop,
            fn: self.program(3, program3, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        </div>\r\n    </div>\r\n</div>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/8/30.
 */
/**
 * 首页 - 活动列表
 */
define("pai/wx-1.1.0/act/pub/info/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/pub/info/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/act/pub/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var this_view = require("pai/wx-1.1.0/act/pub/info/view-debug");
    var this_model = require("pai/wx-1.1.0/act/pub/model-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    page_control.add_page([ function() {
        return {
            title: "发布活动",
            route: {
                "act/pub_info": "act/pub_info"
            },
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new this_model({
                    url: global_config.ajax_url.get_club
                });
                self.view = new this_view({
                    model: model,
                    parentNode: self.$el
                }).render();
                page_view.view = self.view;
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {},
            window_change: function(page_view) {
                page_view.view.reset_scroll_height();
            }
        };
    } ]);
});

/**
 * Created by nolest on 2014/8/30.
 * 活动列表
 */
define("pai/wx-1.1.0/act/pub/info/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/pub/info/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var select_view = require("pai/wx-1.1.0/widget/select/view-debug");
    var location_data = require("pai/wx-1.1.0/common/location_data-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var pub_info_view = View.extend({
        attrs: {
            template: tpl
        },
        forms: {
            select: {}
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            'tap [data-role="page-back"]': function() {
                page_control.back();
            },
            'tap [data-role="next"]': function() {
                var self = this;
                var obj = self._init_selected_value();
                if (obj.title.trim() == "") {
                    m_alert.show("标题不能为空", "error");
                    return;
                }
                if (obj.title.length >= 25) {
                    m_alert.show("标题过长", "error");
                    return;
                }
                if (obj.address == "请选择地址 ") {
                    m_alert.show("请选择地址", "error");
                    return;
                }
                if (obj.detail_location.trim() == "") {
                    m_alert.show("详细地址不能为空", "error");
                    return;
                }
                /* 2014-10-30 禅道20947
                if(obj.club_name == "" || obj.club_name == '请选择俱乐部')
                {
                    m_alert.show('请选择俱乐部','error');

                    return
                }
                */
                if (obj.budget == "" || obj.budget <= 0 || isNaN(obj.budget)) {
                    m_alert.show("请正确填写费用", "error");
                    return;
                }
                if (obj.budget < 10) {
                    m_alert.show("至少10块", "error");
                    return;
                }
                if (obj.budget > 1e4) {
                    m_alert.show("至多10000块", "error");
                    return;
                }
                page_control.navigate_to_page("act/pub_intro", obj);
            },
            /**
             * 开始时间
             */
            'tap [data-role="begin-time"]': function() {
                var self = this;
                self.forms["select"]["begin_time"].show();
            },
            /**
             * 结束时间
             */
            'tap [data-role="end-time"]': function() {
                var self = this;
                self.forms["select"]["end_time"].show();
            },
            /**
             * 选择地区
             */
            'tap [data-role="address"]': function() {
                var self = this;
                self.forms["select"]["province"].show();
            },
            /**
             * 选择俱乐部
             */
            'tap [data-role="club"]': function() {
                var self = this;
                self.forms["select"]["club"].show();
            }
        },
        _init_selected_value: function() {
            var self = this;
            var title = self.$title_input.val();
            /*var date_begin = self.forms['select']['year_begin'].get_value().value + "-" +
                self.forms['select']['month_begin'].get_value().value + "-" +
                self.forms['select']['day_begin'].get_value().value + "-" +
                self.forms['select']['hour_begin'].get_value().value;

            var date = self.forms['select']['year'].get_value().value + "-" +
                self.forms['select']['month'].get_value().value + "-" +
                self.forms['select']['day'].get_value().value + "-" +
                self.forms['select']['hour'].get_value().value;*/
            var start_time = self.$('[data-role="begin-time-str"]').html();
            var end_time = self.$('[data-role="end-time-str"]').html();
            var detail_location = self.$detail_location.val();
            var address = self.$('[data-role="address_str"]').html() + " " + detail_location;
            var location_id = self.$('[data-role="address_str"]').attr("data-city-id");
            var club_id = self.$('[data-role="club_str"]').attr("data-club-id") || "";
            var club_name = self.$('[data-role="club_str"]').attr("data-club-name") || "";
            var fee = utility.int(self.$fee.val());
            var obj = {
                title: title,
                /*start_time : start_time,
                end_time : end_time,*/
                location_id: location_id,
                detail_location: detail_location,
                address: address,
                club: club_id,
                club_name: club_name,
                budget: fee,
                pay_type: 1
            };
            console.log(obj);
            return obj;
        },
        _setup_events: function() {
            var self = this;
            var club_list = utility.storage.get("club");
            if (!club_list || club_list.length == 0) {
                self.model.on("success:fetch", function(response, options) {
                    var data = response.result_data.list;
                    utility.storage.set("club", data);
                    self._setup_club_select(data);
                    // 俱乐部的更新依靠新旧数据的对比长度，这是暂时的处理办法，最好的办法应该是加上版本号
                    if (data.length != utility.storage.get("club").length) {
                        utility.storage.remove("club");
                    }
                });
            } else {
                var data = utility.storage.get("club");
                self._setup_club_select(data);
            }
        },
        _setup_club_select: function(data) {
            var self = this;
            var last_club_list = utility.storage.get("club");
            last_club_list.unshift({
                value: "",
                text: "请选择俱乐部",
                selected: true
            });
            //last_club_list[0].selected = true;
            // 选择俱乐部
            self.forms["select"]["club"] = new m_select({
                templateModel: {
                    options: [ last_club_list ]
                },
                parentNode: self.$el
            }).render();
            // 确认俱乐部
            self.forms["select"]["club"].on("confirm:success", function(arr) {
                self.$('[data-role="club_str"]').attr({
                    "data-club-id": arr[0].value,
                    "data-club-name": arr[0].text
                }).html(arr[0].text);
            });
        },
        _setup_select: function() {
            var self = this;
            var province = location_data.two_lv_data.province;
            var city = location_data.two_lv_data.city;
            var date_arr = utility.select_time.mix_date().date_arr;
            var hour_arr = utility.select_time.mix_date().hour_arr;
            var min_arr = utility.select_time.mix_date().min_arr;
            self.forms["select"]["begin_time"] = new m_select({
                templateModel: {
                    options: [ date_arr, hour_arr, min_arr ]
                },
                parentNode: self.$el
            }).render();
            self.forms["select"]["end_time"] = new m_select({
                templateModel: {
                    options: [ date_arr, hour_arr, min_arr ]
                },
                parentNode: self.$el
            }).render();
            // 开始时间确认
            self.forms["select"]["begin_time"].on("confirm:success", function(arr) {
                var cur_year = utility.select_time.today_is().year;
                self.$('[data-role="begin-time-str"]').html(arr[0].value + " " + arr[1].value + ":" + arr[2].value);
            });
            // 结束时间确认
            self.forms["select"]["end_time"].on("confirm:success", function(arr) {
                var cur_year = utility.select_time.today_is().year;
                self.$('[data-role="end-time-str"]').html(arr[0].value + " " + arr[1].value + ":" + arr[2].value);
            });
            // 设置默认市
            var city_arr = city[province[0].id];
            // 设置省第一项默认选中
            province[0].selected = true;
            city_arr[0].selected = true;
            // 级联查询必须有“不限”的数据组
            self.forms["select"]["province"] = new m_select({
                templateModel: {
                    options: [ province, city_arr ]
                },
                parentNode: self.$el
            }).render();
            self.forms["select"]["province"].on("change:options", function(arr, cur_scroll_obj) {
                if (cur_scroll_obj.index == 0) {
                    var key = arr[0].id;
                    var options = city[key];
                    options[0].selected = true;
                    self.forms["select"]["province"].set_options([ options ], 1);
                }
            });
            // 地址确认
            self.forms["select"]["province"].on("confirm:success", function(arr) {
                self.$('[data-role="address_str"]').attr("data-city-id", arr[1].id).html(arr[0].value + "-" + arr[1].value);
            });
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            view_scroll_obj.on("scrollMoveAfter", function() {
                var _self = this;
                console.log(_self);
                if (_self.maxScrollY - _self.y > 160) {}
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 50;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="action-info-content"]');
            // 滚动容器
            self.$title = self.$('[data-role="title"]');
            self.$select_container_for_year = self.$('[data-role="select_container_for_year"]');
            self.$select_container_for_month = self.$('[data-role="select_container_for_month"]');
            self.$select_container_for_day = self.$('[data-role="select_container_for_day"]');
            self.$select_container_for_hour = self.$('[data-role="select_container_for_hour"]');
            self.$select_container_for_year_begin = self.$('[data-role="select_container_for_year_begin"]');
            self.$select_container_for_month_begin = self.$('[data-role="select_container_for_month_begin"]');
            self.$select_container_for_day_begin = self.$('[data-role="select_container_for_day_begin"]');
            self.$select_container_for_hour_begin = self.$('[data-role="select_container_for_hour_begin"]');
            self.$detail_location = self.$('[data-role="address-input"]');
            self.$fee = self.$('[data-role="fee-input"]');
            self.$title_input = self.$('[data-role="title"]');
            self.$select_container_for_province = self.$('[data-role="select_container_for_province"]');
            self.$select_container_for_city = self.$('[data-role="select_container_for_city"]');
            self.$select_container_for_club = self.$('[data-role="bar"]');
            self._setup_events();
            if (utility.storage.get("club")) {
                //使用缓存俱乐部数据
                self._setup_club_select(utility.storage.get("club"));
            } else {
                //首次未缓存时获取俱乐部数据
                self.model.get_list();
            }
            self._setup_scroll();
            self._setup_select();
            self.view_scroll_obj.refresh();
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_scroll_height: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            self.view_scroll_obj.refresh();
        }
    });
    module.exports = pub_info_view;
});

define("pai/wx-1.1.0/act/pub/info/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="action-info wryh">\r\n\r\n    <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        发布活动\r\n    </header>\r\n    <div class="content-body">\r\n\r\n        <div class="action-info-content" data-role="action-info-content">\r\n            <div class="wrap-box">\r\n                <div class="procedure-header-mod">\r\n                    <ul class="step">\r\n                        <li class="current">活动信息</li>\r\n                        <li>活动介绍</li>\r\n                        <li>活动流程</li>\r\n                    </ul>\r\n                    <ul class="num">\r\n                        <li class="common current">\r\n                            <i class="num-icon">1</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common">\r\n                            <i class="num-icon">2</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common">\r\n                            <i class="num-icon">3</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class="action-info-inside">\r\n                    <div class="info_new">\r\n                        <div class="block">\r\n                            <div class="line">\r\n                                <div class="notice">标题</div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside">\r\n                                        <div class="inside_input">\r\n                                            <input class="input-title" type="text" data-role="title" placeholder="请输入活动标题"/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="block fn-hide">\r\n                            <div class="line">\r\n                                <div class="notice">开始时间</div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside b">\r\n                                        <div class="inside_input" data-role="begin-time">\r\n                                            <div class="details" data-role="begin-time-str">请填写开始时间</div>\r\n                                        </div>\r\n                                        <div class="inside_arrow">\r\n                                            <i class="icon icon-r-16x26"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="line">\r\n                                <div class="notice">结束时间</div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside">\r\n                                        <div class="inside_input" data-role="end-time">\r\n                                            <div class="details" data-role="end-time-str">请填写结束时间</div>\r\n                                        </div>\r\n                                        <div class="inside_arrow">\r\n                                            <i class="icon icon-r-16x26"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="block">\r\n                            <div class="line">\r\n                                <div class="notice">地址</div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside b" data-role="address">\r\n                                        <div class="inside_input">\r\n                                            <div class="details" data-role="address_str">请选择地址</div>\r\n                                        </div>\r\n                                        <div class="inside_arrow">\r\n                                            <i class="icon icon-r-16x26"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="line">\r\n                                <div class="notice"></div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside">\r\n                                        <input class="input-title" type="text" placeholder="请输入详细地址" data-role="address-input"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="block">\r\n                            <div class="line">\r\n                                <div class="notice">俱乐部</div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside" data-role="club">\r\n                                        <div class="inside_input">\r\n                                            <div class="details" data-role="club_str">无</div>\r\n                                        </div>\r\n                                        <div class="inside_arrow">\r\n                                            <i class="icon icon-r-16x26"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="block">\r\n                            <div class="line">\r\n                                <div class="notice">费用</div>\r\n                                <div class="data_input">\r\n                                    <div class="side_border"></div>\r\n                                    <div class="inside b">\r\n                                        <div class="inside_input">\r\n                                            <div class="details">\r\n                                                <input class="input-title org_font"  placeholder="请输入金额" type="tel"  data-role="fee-input"/>\r\n                                            </div>\r\n                                            <div class="org_font">元</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="line">\r\n                                <div class="notice"></div>\r\n                                <div class="data_input">\r\n                                    <div class="inside">\r\n                                        <div class="inside_input">\r\n                                            <div class="notice-tap details current">支持：随时退款、过期退款</div>\r\n                                            <div class="details red_font">(推荐)</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="btn-con">\r\n            <!-- <div class="btn" data-role="next">下一步</div> -->\r\n            <div class="btn" data-role="next">\r\n            <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block">\r\n                <span class="ui-button-content">下一步</span>\r\n            </button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * Created by nolestLam on 2014/8/30.
 */
define("pai/wx-1.1.0/act/pub/model-debug", [ "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        "default": {
            _seq_id_: "",
            active_time: "",
            address: "",
            budget: "",
            category: "",
            club: "",
            content: "",
            cover_image: "",
            end_time: "",
            event_id: "",
            event_review: "",
            hit_count: "",
            is_authority: "",
            is_recommend: "",
            is_top: "",
            join_count: "",
            last_update_time: "",
            limit_num: "",
            location_id: "",
            review_time: "",
            score: "",
            start_time: "",
            status: "",
            title: "",
            type_icon: "",
            user_id: "",
            username: ""
        },
        _setup_events: function() {},
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        get_list: function(data) {
            var self = this;
            self.fetch({
                url: self.get("url"),
                data: data,
                reset: true,
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        }
    });
});

/**
 * Created by nolest on 2014/9/2.
 *
 *
 *
 * 首页 - 活动介绍
 */
define("pai/wx-1.1.0/act/pub/intro/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/pub/intro/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/widget/upload_pic/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/panel_text_pic/view-debug", "pai/wx-1.1.0/act/pub/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var this_view = require("pai/wx-1.1.0/act/pub/intro/view-debug");
    var this_model = require("pai/wx-1.1.0/act/pub/model-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    page_control.add_page([ function() {
        return {
            title: "发布活动",
            route: {
                "act/pub_intro": "act/pub_intro"
            },
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new this_model({});
                self.view = new this_view({
                    model: model,
                    selected_obj: route_params_obj,
                    parentNode: self.$el
                }).render();
                page_view.view = self.view;
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {},
            window_change: function(page_view) {
                page_view.view.reset_scroll_height();
            }
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/2.
 *
 *
 *
 * 活动介绍view
 */
define("pai/wx-1.1.0/act/pub/intro/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/widget/upload_pic/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/panel_text_pic/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/pub/intro/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var location_data = require("pai/wx-1.1.0/common/location_data-debug");
    var upload_pic = require("pai/wx-1.1.0/widget/upload_pic/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var panel = require("pai/wx-1.1.0/widget/panel_text_pic/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var pub_info_view = View.extend({
        attrs: {
            template: tpl
        },
        forms: {
            select: {},
            model_pics: [],
            title_pic: []
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            'tap [data-role="page-back"]': function() {
                page_control.back();
            },
            'tap [data-role="add-title-pic"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("fn-hide");
                self.$('[data-role="title-pic"]').removeClass("fn-hide");
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="title-pic"]': function(ev) {
                var self = this;
                $(ev.currentTarget).addClass("fn-hide");
                self.$('[data-role="add-title-pic"]').removeClass("fn-hide");
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="add_panel"]': function() {
                var self = this;
                self._set_one_panel(self.$module_con);
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="close-panel"]': function(ev) {
                var self = this;
                $(ev.currentTarget).parent().parent().remove();
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="next-step"]': function() {
                var self = this;
                var info = self._mix_selected_value(self.selected_obj);
                console.log(info);
                //info.cover_image = 'a'
                if (!info.cover_image || info.cover_image == "") {
                    m_alert.show("封面图不能为空", "error");
                    return;
                }
                if (info.content.trim() == "") {
                    m_alert.show("请填写主题", "error");
                    return;
                }
                if (self.can_next) {
                    page_control.navigate_to_page("act/pub_arrange", info);
                }
            },
            'tap [data-role="page-back"]': function() {
                page_control.back();
            }
        },
        _setup_events: function() {
            var self = this;
            self._setup_upload_pic(self.$title_pic_con, "one");
            self.model.on("success:fetch", function(response, options) {});
        },
        _mix_selected_value: function(obj) {
            var self = this;
            var theme = self.$theme.val();
            var all_panel = self.$('[data-role="component-panel-text-pic"]');
            var obj_arr = [];
            // 场地模特
            if (all_panel.length == 0) {
                m_alert.show("请增加场地/模特描述", "error");
                return;
            }
            $.each(all_panel, function(i, obj) {
                var text = $(obj).children('[data-role="module-input"]').val().trim();
                var img_arr = self.forms["model_pics"][i];
                var img_obj_arr = [];
                var img_len = img_arr.get_amount();
                if (text == "") {
                    m_alert.show("描述介绍不能为空", "error");
                    self.can_next = false;
                } else {
                    self.can_next = true;
                }
                for (var n = 0; n < img_len; n++) {
                    img_obj_arr[n] = {
                        img_s: img_arr.get_value()[n]
                    };
                }
                var pre_obj = {
                    text: text,
                    img: img_obj_arr
                };
                obj_arr.push(pre_obj);
            });
            // 封面图
            var title_pic = self.forms["title_pic"].get_value()[0];
            var value = {
                cover_image: title_pic,
                content: theme,
                other_info_detail: obj_arr
            };
            var info = $.extend(true, {}, self.selected_obj, value);
            return info;
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 50;
        },
        _set_one_panel: function(parentNode) {
            var self = this;
            self.module_panel = new panel({
                parentNode: parentNode
            }).render();
            self.module_panel.set({
                upload_pic_view: self._setup_upload_pic(self.module_panel.$("[data-role=picture-list]"), "more")
            });
        },
        /**
         * 安装上传图片组件
         * @param parent_node
         * @param type
         * @private
         */
        _setup_upload_pic: function(parent_node, type) {
            var self = this;
            var pic_w_h = Math.ceil((utility.get_view_port_width() - 72) / 3, 10);
            var is_cover = 0;
            if (type == "one") {
                is_cover = 1;
            }
            var upload_pic_view = new upload_pic({
                templateModel: {
                    max_size: pic_w_h
                },
                parentNode: parent_node,
                is_cover: is_cover,
                max_pic: 5,
                cover_max_size: 150
            }).set_w_h(pic_w_h).render();
            upload_pic_view.on("tap:upload_pic", function() {
                /* var pic_list = [
                    'http://image227-c.poco.cn/mypoco/myphoto/20140716/10/17371899920140716100604099_145.jpg'
                ]

                upload_pic_view.add_pic(pic_list);
                self.view_scroll_obj.refresh();
                return;*/
                var max_selection = 5 - upload_pic_view.get_amount();
                if (is_cover) {
                    max_selection = 1;
                }
                if (App.isPaiApp) {
                    App.upload_img("multi_img", {
                        is_async_upload: 0,
                        is_multiple_upload: is_cover,
                        //max_selection : 5 - upload_pic_view.get_amount(),
                        max_selection: max_selection,
                        is_zip: 1
                    }, function(data) {
                        var pic_list = [];
                        if (data.imgs.length > 0) {
                            for (var i = 0; i < data.imgs.length; i++) {
                                pic_list.push(data.imgs[i].url);
                            }
                            upload_pic_view.add_pic(pic_list);
                            self.view_scroll_obj.refresh();
                        }
                    });
                } else {
                    upload_pic_view.add_pic([ "http://image226-c.poco.cn/mypoco/myphoto/20140421/15/5524685720140421151001080_640.jpg?1024x684_120" ]);
                    self.view_scroll_obj.refresh();
                    self.view_scroll_obj.change_scroll_position();
                }
            });
            if (is_cover) {
                self.forms["title_pic"] = upload_pic_view;
            } else {
                self.forms["model_pics"].push(upload_pic_view);
            }
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="action-intro-content"]');
            // 滚动容器
            self.$title_pic_con = self.$('[data-role="title-pic-con"]');
            self.$module_con = self.$('[data-role="module-con"]');
            self.$theme = self.$('[data-role="theme"]');
            self._setup_events();
            self._setup_scroll();
            self.can_next = false;
            self.view_scroll_obj.refresh();
            self.selected_obj = self.get("selected_obj");
            self._set_one_panel(self.$module_con);
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_scroll_height: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            self.view_scroll_obj.refresh();
        }
    });
    module.exports = pub_info_view;
});

define("pai/wx-1.1.0/act/pub/intro/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="action-intro wryh">\r\n    <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        发布活动\r\n    </header>\r\n    <div class="content-body">\r\n\r\n        <div class="action-intro-content" data-role="action-intro-content">\r\n            <div class="wrap-box">\r\n                <div class="procedure-header-mod">\r\n                    <ul class="step">\r\n                        <li>活动信息</li>\r\n                        <li class="current">活动介绍</li>\r\n                        <li>活动流程</li>\r\n                    </ul>\r\n                    <ul class="num">\r\n                        <li class="common">\r\n                            <i class="num-icon">1</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common current">\r\n                            <i class="num-icon">2</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common">\r\n                            <i class="num-icon">3</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class="fmt-con">\r\n                    <p class="title">封面图：</p>\r\n                    <div class="title-pic-con" data-role="title-pic-con">\r\n\r\n                    </div>\r\n                </div>\r\n                <div class="theme-con">\r\n                    <p class="title">主题：</p>\r\n                    <textarea data-role="theme" placeholder="请输入活动主题"></textarea>\r\n                </div>\r\n                <div class="module-con" data-role="module-con">\r\n                    <p class="title">场地/模特：</p>\r\n                </div>\r\n                <div class="component-add-btn">\r\n                <div class="component-add-btn-con" data-role="add_panel">\r\n                    <div class="mid">\r\n                        <i class="icon icon-add-32x32"></i>\r\n                        <p>增加图文模块</p>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div class="btns">\r\n            <div class="btn_back" data-role="page-back">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2">\r\n                    <span class="ui-button-content">返回修改</span>\r\n                </button>\r\n            </div>\r\n            <div class="btn_next" data-role="next-step">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ">\r\n                    <span class="ui-button-content">下一步</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * Created by zy on 2014/9/16.
 *
 *上传图片组件
 *
 */
define("pai/wx-1.1.0/widget/upload_pic/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var main_tpl = require("pai/wx-1.1.0/widget/upload_pic/tpl/main-debug.handlebars");
    var item_tpl = require("pai/wx-1.1.0/widget/upload_pic/tpl/item-debug.handlebars");
    var upload_pic = view.extend({
        attrs: {
            template: main_tpl,
            max_pic: 9,
            is_cover: 0,
            cover_max_size: ""
        },
        events: {
            "tap [data-role=del-pic]": "_del_pic",
            "tap [data-role=add-pic]": "_add_pic"
        },
        /**
         * 构建element
         * @private
         */
        _parseElement: function() {
            var self = this;
            view.prototype._parseElement.apply(self);
            self.$add_btn = self.$("[data-role=add-pic]");
        },
        _del_pic: function(ev) {
            var self = this;
            var $target = $(ev.currentTarget);
            var data_id = $target.attr("data-id");
            self.$('[data-item-id="' + data_id + '"]').remove();
            var amount = self.get_amount();
            if (amount < self.get("max_pic")) {
                self.show_add_btn();
            }
            self.trigger("tap:del_upload_pic", $target, ev);
            return self;
        },
        _add_pic: function(ev) {
            var self = this;
            var $target = $(ev.currentTarget);
            self.trigger("tap:upload_pic", $target, ev);
        },
        /**
         * /添加图片（供外部使用）
         * @param pic_list
         * @return {*}
         */
        add_pic: function(pic_list) {
            if (!pic_list) {
                return;
            }
            var self = this;
            var _pic_list = [];
            //构造图片数组和总图片对象
            for (var i = 0; i < pic_list.length; i++) {
                var pic_index = self._get_random();
                _pic_list.push({
                    url: pic_list[i],
                    id: pic_index
                });
            }
            //封面图时使用用户设置的宽高
            if (self.get("is_cover")) {
                self.w_h = self.get("cover_max_size");
            }
            var html_str = item_tpl({
                is_cover: self.get("is_cover"),
                pic_list: _pic_list,
                max_size: self.w_h
            });
            self.$add_btn.before(html_str);
            //封面图的情况
            if (self.get("is_cover")) {
                self.hide_add_btn();
            }
            //超过最大上传数隐藏添加按钮
            if (self.get_amount() >= self.get("max_pic")) {
                self.hide_add_btn();
            }
            self.trigger("rendered");
            return self;
        },
        show_add_btn: function() {
            var self = this;
            self.$add_btn.removeClass("fn-hide");
            return self;
        },
        hide_add_btn: function() {
            var self = this;
            self.$add_btn.addClass("fn-hide");
            return self;
        },
        /**
         * 获得图片总数
         * @return {*}
         */
        get_amount: function() {
            var self = this;
            var $pic_list = self.$("[data-role=pic]");
            return $pic_list.length;
        },
        /**
         * 获得图片数组
         * @return {Array}
         */
        get_value: function() {
            var self = this;
            var value_arr = [];
            var $pic_list = self.$("[data-role=pic]");
            $pic_list.each(function(i, obj) {
                value_arr.push($(obj).attr("data-url"));
            });
            return value_arr;
        },
        set_w_h: function(w_h) {
            var self = this;
            self.w_h = w_h;
            return self;
        },
        /**
         * 获得一个随机数
         */
        _get_random: function() {
            return Math.random().toString().replace(".", "");
        },
        /**
         * 销毁
         * @returns {upload_pic}
         */
        destroy: function() {
            var self = this;
            view.prototype.remove.call(self);
            view.prototype.destroy.call(self);
            return self;
        }
    });
    module.exports = upload_pic;
});

define("pai/wx-1.1.0/widget/upload_pic/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div class="upload-pic-list">\r\n    <div class="image-item" data-role="add-pic" style="width:';
        if (helper = helpers.max_size) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.max_size;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height:";
        if (helper = helpers.max_size) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.max_size;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px;">\r\n        <div class="add-btn-out">\r\n            <img style="width:';
        if (helper = helpers.max_size) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.max_size;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + "px;height:";
        if (helper = helpers.max_size) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.max_size;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + 'px;" src="images/pai/add.png">\r\n        </div>\r\n    </div>\r\n</div>';
        return buffer;
    });
});

define("pai/wx-1.1.0/widget/upload_pic/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data, depth1) {
            var buffer = "", stack1, helper;
            buffer += '\r\n<div class="';
            stack1 = helpers["if"].call(depth0, depth1 && depth1.is_cover, {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" data-item-id="';
            if (helper = helpers.id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="pic"\r\ndata-url="';
            if (helper = helpers.url) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.url;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" style="width:' + escapeExpression((stack1 = depth1 && depth1.max_size, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "px;height:" + escapeExpression((stack1 = depth1 && depth1.max_size, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + 'px;">\r\n    <i class="upload-image image-img" data-lazyload="';
            if (helper = helpers.url) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.url;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></i>\r\n    <div class="close-out" data-role="del-pic" data-id=';
            if (helper = helpers.id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '>\r\n        <i class="icon close-btn"></i>\r\n    </div>\r\n</div>\r\n';
            return buffer;
        }
        function program2(depth0, data) {
            return "cover-image";
        }
        function program4(depth0, data) {
            return "image-item";
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.pic_list, {
            hash: {},
            inverse: self.noop,
            fn: self.programWithDepth(1, program1, data, depth0),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

/**
 * Created by nolest on 2014/9/3.
 *
 *
 *
 *
 *
 *  介绍页'添加模特'模块
 */
define("pai/wx-1.1.0/widget/panel_text_pic/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tpl = require("pai/wx-1.1.0/widget/panel_text_pic/tpl/main-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: tpl,
            inset_node: "",
            upload_pic_view: ""
        },
        events: {},
        /*
        _parseElement : function()
        {
            var self = this;

            var template_model = self.get('templateModel');

            self.set('templateModel', template_model);

            View.prototype._parseElement.apply(self);

        },*/
        _setup_events: function() {},
        setup: function() {
            var self = this;
            //设置被插入的html节点
            self.inset_node = self.$("[data-role=picture-list]");
            // 安装事件
            self._setup_events();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        },
        set_upload_pic_view: function() {
            var self = this;
            self.upload_pic_view = "";
            return self;
        }
    });
});

define("pai/wx-1.1.0/widget/panel_text_pic/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<div class="component-panel-text-pic" data-role="component-panel-text-pic">\r\n    <div class="icon-con"><i class="icon icon-close-20x20 close" data-role="close-panel"></i></div>\r\n    <input class="module-input" type="text" placeholder="场地/模特介绍..." data-role="module-input"/>\r\n    <div data-role="picture-list"></div>\r\n</div>';
    });
});

/**
 * Created by nolest on 2014/9/3.
 *
 * 发布页 - 活动安排
 */
define("pai/wx-1.1.0/act/pub/arrange/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/pub/arrange/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/widget/panel_pick/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/panel_leader/view-debug", "pai/wx-1.1.0/common/location_data-debug", "pai/wx-1.1.0/act/pub/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var this_view = require("pai/wx-1.1.0/act/pub/arrange/view-debug");
    var this_model = require("pai/wx-1.1.0/act/pub/model-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    page_control.add_page([ function() {
        return {
            title: "发布活动",
            route: {
                "act/pub_arrange": "act/pub_arrange"
            },
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new this_model({
                    url: global_config.ajax_url.add_act
                });
                self.view = new this_view({
                    model: model,
                    selected_obj: route_params_obj,
                    parentNode: self.$el
                }).render();
                page_view.view = self.view;
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {},
            window_change: function(page_view) {
                page_view.view.reset_scroll_height();
            }
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/3.
 *
 * 活动安排view
 *
 *
 */
define("pai/wx-1.1.0/act/pub/arrange/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/widget/panel_pick/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/panel_leader/view-debug", "pai/wx-1.1.0/common/location_data-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/act/pub/arrange/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var select_view = require("pai/wx-1.1.0/widget/select/view-debug");
    var panel_pick = require("pai/wx-1.1.0/widget/panel_pick/view-debug");
    var panel_leader = require("pai/wx-1.1.0/widget/panel_leader/view-debug");
    var location_data = require("pai/wx-1.1.0/common/location_data-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    // 对Date的扩展，将 Date 转化为指定格式的String
    // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
    // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
    // 例子：
    // (new Date()).Format("yyyy-MM-dd hh:mm:ss.S") ==> 2006-07-02 08:09:04.423
    // (new Date()).Format("yyyy-M-d h:m:s.S")      ==> 2006-7-2 8:9:4.18
    Date.prototype.Format = function(fmt) {
        //author: meizz
        var o = {
            "M+": this.getMonth() + 1,
            //月份
            "h+": this.getHours(),
            "d+": this.getDate(),
            //日
            "m+": this.getMinutes(),
            //分
            "s+": this.getSeconds(),
            //秒
            "q+": Math.floor((this.getMonth() + 3) / 3),
            //季度
            S: this.getMilliseconds()
        };
        if (/(y+)/.test(fmt)) {
            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        }
        for (var k in o) if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
        return fmt;
    };
    var pub_info_view = View.extend({
        attrs: {
            template: tpl
        },
        forms: {
            select: {}
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            'tap [data-role="page-back"]': function() {
                page_control.back();
            },
            'tap [data-role="add_panel"]': function() {
                var self = this;
                self._set_one_pick_panel();
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="next-step"]': function() {
                var self = this;
                var data = self._mix_selected_value(self.selected_obj);
                console.log(self._mix_selected_value(self.selected_obj));
                if (self.arrange_panel_arr.length == 0) {
                    m_alert.show("请添加场次", "error");
                    return;
                }
                if (self.leader_panel_arr.length == 0) {
                    m_alert.show("请添加领队", "error");
                    return;
                }
                console.log("can?", self.can_next);
                if (self.can_next) {
                    page_control.navigate_to_page("act/detail/0", data);
                }
            },
            'tap [data-role="add_leader_panel"]': function() {
                var self = this;
                self._set_one_leader_panel();
                self.view_scroll_obj.refresh();
            },
            'tap [data-role="pick-close-panel"]': function(ev) {
                var self = this;
                $(ev.currentTarget).parent().parent().remove();
                self.view_scroll_obj.refresh();
                var arrange_count = $(ev.currentTarget).attr("arrange_panel_count");
                self._remove_pick_panel(arrange_count);
                //重置显示数
                self._reset_arrange_index();
            },
            'tap [data-role="leader-close-panel"]': function(ev) {
                var self = this;
                $(ev.currentTarget).parent().parent().remove();
                self.view_scroll_obj.refresh();
                var leader_count = $(ev.currentTarget).attr("leader_panel_count");
                self._remove_leader_panel(leader_count);
                self._reset_leader_index();
            },
            'tap [data-role="page-back"]': function() {
                page_control.back();
            }
        },
        /**
         * 整合选择参数
         * @param obj
         * @returns {*}
         * @private
         */
        _reset_arrange_index: function() {
            var self = this;
            var panels = self.$('[data-role="panel-pick-con"]');
            var indexs = self.$('[data-role="panel_index"]');
            $.each(panels, function(i, obj) {
                $(indexs[i]).html(i + 1);
            });
        },
        _reset_leader_index: function() {
            var self = this;
            var panels = self.$('[data-role="component-panel-leader"]');
            var indexs = self.$('[data-role="leader_panel_index"]');
            $.each(panels, function(i, obj) {
                $(indexs[i]).html(i + 1);
            });
        },
        _mix_selected_value: function(obj) {
            var self = this;
            var remark = self.$remark.val();
            var all_pick_panel = self.$('[data-role="panel-pick-con"]');
            var all_leader_panel = self.$('[data-role="component-panel-leader"]');
            var arrange_arr = [];
            var leader_arr = [];
            var num = 0;
            self.can_leader_next = false;
            self.can_tel_next = false;
            self.can_next = false;
            self.can_num_next = false;
            self.can_time_next = false;
            $.each(self.leader_panel_arr, function(i, obj) {
                console.log(obj.get_selected_obj(), obj.get_selected_obj().name);
                var phone_reg = new RegExp(/^[0-9]{11}$/);
                if (obj.get_selected_obj().mobile.trim() == "" || !phone_reg.test(obj.get_selected_obj().mobile.trim())) {
                    m_alert.show("请正确填写手机号码", "error");
                    self.can_tel_next = false;
                } else {
                    self.can_tel_next = true;
                }
                if (obj.get_selected_obj().name.trim() == "") {
                    m_alert.show("请填写联系人昵称", "error");
                    self.can_leader_next = false;
                } else {
                    self.can_leader_next = true;
                }
                leader_arr.push(obj.get_selected_obj());
            });
            $.each(self.arrange_panel_arr, function(i, obj) {
                num = utility.int(num) + utility.int(obj.get_selected_obj().num);
                console.log(obj.get_selected_obj());
                if (obj.get_selected_obj().begin_time && obj.get_selected_obj().end_time) {
                    var text = new Date(obj.get_selected_obj().begin_time.replace(/-/g, "/")).Format("MM.dd hh:mm") + "-" + new Date(obj.get_selected_obj().end_time.replace(/-/g, "/")).Format("MM.dd hh:mm");
                    self.can_time_next = true;
                } else {
                    var text = "";
                    m_alert.show("请选择时间", "error");
                    self.can_time_next = false;
                    return;
                }
                if (num < 0 || num == 0 || isNaN(num)) {
                    console.log(typeof num);
                    m_alert.show("请正确填写名额", "error");
                    self.can_num_next = false;
                    return;
                } else {
                    self.can_num_next = true;
                }
                arrange_arr.push($.extend(true, {}, obj.get_selected_obj(), {
                    session: i + 1,
                    text: text
                }));
            });
            self.can_next = self.can_leader_next && self.can_tel_next && self.can_num_next && self.can_time_next;
            var pick_value = {
                remark: remark,
                table_info: arrange_arr
            };
            var leader_value = {
                leader_info_detail: leader_arr
            };
            if (arrange_arr.length > 1) {
                var event_time = arrange_arr[0].begin_time + "至" + arrange_arr[arrange_arr.length - 1].end_time;
            } else if (arrange_arr.length == 1) {
                var event_time = arrange_arr[0].begin_time + "至" + arrange_arr[0].end_time;
            }
            var info = $.extend(true, {}, self.selected_obj, pick_value, leader_value, {
                event_time: event_time
            }, {
                num: num
            });
            return info;
        },
        /**
         * 添加领队信息
         * @private
         */
        _set_one_leader_panel: function() {
            var self = this;
            ++self.leader_panel_count;
            var leader_panel = new panel_leader({
                leader_panel_count: self.leader_panel_count,
                parentNode: self.$leader_con,
                templateModel: {
                    leader_panel_count: ++self.$('[data-role="component-panel-leader"]').length
                }
            }).render();
            self.leader_panel_arr.push(leader_panel);
        },
        _remove_leader_panel: function(id) {
            var self = this;
            $.each(self.leader_panel_arr, function(i, obj) {
                if (obj.get("leader_panel_count") == id) {
                    self.leader_panel_arr.splice(i, 1);
                }
            });
        },
        /**
         * 添加场次
         * @private
         */
        _set_one_pick_panel: function() {
            var self = this;
            // 重置场次选择模块数
            if (self.$("[arrange_panel_count]").length == 0) {
                self.arrange_panel_count = 0;
            }
            //场次上限
            if (self.$("[arrange_panel_count]").length < 5) {
                // 处理前一场和下一场的时间，确保不会有交集
                /*if(self.arrange_panel_count >1)
                {
                    var before_pick = self.arrange_panel_arr[self.arrange_panel_count-2].get_selected_obj();
                    var after_pick = self.arrange_panel_arr[self.arrange_panel_count-1].get_selected_obj();


                    if(before_pick.begin_time && before_pick.end_time && utility.is_bigger_time(after_pick.begin_time,before_pick.end_time))
                    {
                        alert('第'+(self.arrange_panel_count)+'场次的开始时间必须在第'+(self.arrange_panel_count-1)+'场次的结束时间之后');

                        return;
                    }
                }*/
                if (self.arrange_panel_count > 0) {
                    var before_pick = self.arrange_panel_arr[self.arrange_panel_count - 1].get_selected_obj();
                    if (!before_pick.begin_time && !before_pick.end_time) {
                        alert("请选择时间");
                        return;
                    }
                }
                if (self.arrange_panel_count > 1) {
                    var before_pick = self.arrange_panel_arr[self.arrange_panel_count - 2].get_selected_obj();
                    var after_pick = self.arrange_panel_arr[self.arrange_panel_count - 1].get_selected_obj();
                    console.log(utility.is_bigger_time(before_pick.end_time, after_pick.begin_time));
                    if (utility.is_bigger_time(before_pick.end_time, after_pick.begin_time)) {
                        alert("第" + self.arrange_panel_count + "场次的开始时间必须在第" + (self.arrange_panel_count - 1) + "场次的结束时间之后");
                        return;
                    }
                }
                ++self.arrange_panel_count;
                var arrange_panel = new panel_pick({
                    arrange_panel_count: self.arrange_panel_count,
                    parentNode: self.$arrange_con,
                    templateModel: {
                        arrange_panel_count: ++self.$("[arrange_panel_count]").length
                    }
                }).render();
                self.arrange_panel_arr.push(arrange_panel);
            } else {
                m_alert.show("场次已满", "right");
            }
        },
        _remove_pick_panel: function(id) {
            var self = this;
            $.each(self.arrange_panel_arr, function(i, obj) {
                if (obj.get("arrange_panel_count") == id) {
                    self.arrange_panel_arr.splice(i, 1);
                    self.arrange_panel_count--;
                }
            });
        },
        _setup_events: function() {
            var self = this;
            self.model.on("success:fetch", function(response, options) {
                self._setup_club_select(response);
            });
        },
        _setup_club_select: function(response) {},
        _setup_select: function() {},
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 50;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="action-pub-content"]');
            // 滚动容器
            self.$arrange_con = self.$('[data-role="parts-con"]');
            self.$leader_con = self.$('[data-role="lead-con"]');
            self.selected_obj = self.get("selected_obj");
            self.arrange_panel_arr = [];
            self.leader_panel_arr = [];
            self.arrange_panel_count = 0;
            self.leader_panel_count = 0;
            self.$remark = self.$('[data-role="text"]');
            self._setup_events();
            self._setup_scroll();
            self._setup_select();
            self.can_next = false;
            self.view_scroll_obj.refresh();
            self._set_one_leader_panel();
            self._set_one_pick_panel();
        },
        render: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_scroll_height: function() {
            var self = this;
            var view_port_height = self.reset_viewport_height();
            self.$container.height(view_port_height);
            self.view_scroll_obj.refresh();
        }
    });
    module.exports = pub_info_view;
});

define("pai/wx-1.1.0/act/pub/arrange/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="action-pub wryh">\r\n    <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        发布活动\r\n    </header>\r\n    <div class="content-body">\r\n\r\n        <div class="action-pub-content" data-role="action-pub-content">\r\n            <div class="wrap-box">\r\n                <div class="procedure-header-mod">\r\n                    <ul class="step">\r\n                        <li>活动信息</li>\r\n                        <li>活动介绍</li>\r\n                        <li class="current">活动流程</li>\r\n                    </ul>\r\n                    <ul class="num">\r\n                        <li class="common">\r\n                            <i class="num-icon">1</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common">\r\n                            <i class="num-icon">2</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                        <li class="common current">\r\n                            <i class="num-icon">3</i>\r\n                            <div class="line-grey"></div>\r\n                            <div class="line-red"></div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class="parts-con" data-role="parts-con">\r\n                    <p class="title">场次安排</p>\r\n                </div>\r\n                <div class="component-add-btn">\r\n                    <div class="component-add-btn-con" data-role="add_panel">\r\n                        <div class="mid">\r\n                            <i class="icon icon-add-32x32"></i>\r\n                            <p>增加场次</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="text-container">\r\n                    <input class="text" type="text" placeholder="备注信息" data-role="text">\r\n                </div>\r\n                <div class="lead-con" data-role="lead-con">\r\n                    <p class="title">活动领队</p>\r\n                </div>\r\n                <div class="component-add-btn  add-leader">\r\n                    <div class="component-add-btn-con" data-role="add_leader_panel">\r\n                        <div class="mid">\r\n                            <i class="icon icon-add-32x32"></i>\r\n                            <p>增加领队</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="btns">\r\n\r\n\r\n            <div class="btn_back" data-role="page-back">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-color2">\r\n                    <span class="ui-button-content">返回修改</span>\r\n                </button>\r\n            </div>\r\n            <div class="btn_next" data-role="next-step">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block ">\r\n                    <span class="ui-button-content">预览</span>\r\n                </button>\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * Created by nolest on 2014/9/3.
 *
 *
 *
 *
 *
 *  介绍页'添加场次'模块
 */
define("pai/wx-1.1.0/widget/panel_pick/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/widget/select/view-debug", "pai/wx-1.1.0/widget/number_btn/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tpl = require("pai/wx-1.1.0/widget/panel_pick/tpl/main-debug.handlebars");
    var select_view = require("pai/wx-1.1.0/widget/select/view-debug");
    var number_btn_view = require("pai/wx-1.1.0/widget/number_btn/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    module.exports = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            'tap [data-role="begin-time"]': function() {
                var self = this;
                self["begin_time"].show();
            },
            'tap [data-role="end-time"]': function() {
                var self = this;
                if (!self["begin_time"].is_selected) {
                    alert("请先选择开始时间");
                    return;
                }
                self["end_time"].show();
            }
        },
        /**
         * 设置下拉选择
         * @private
         */
        _setup_select: function() {
            var self = this;
            var date_arr = utility.select_time.mix_date().date_arr;
            var hour_arr = utility.select_time.mix_date().hour_arr;
            var min_arr = utility.select_time.mix_date().min_arr;
            self["begin_time"] = new m_select({
                templateModel: {
                    options: [ date_arr, hour_arr, min_arr ]
                },
                parentNode: self.parentNode
            }).render();
            self["end_time"] = new m_select({
                templateModel: {
                    options: [ date_arr, hour_arr, min_arr ]
                },
                parentNode: self.parentNode
            }).render();
            // 开始时间确认
            self["begin_time"].on("confirm:success", function(arr) {
                self.$('[data-role="select_container_for_hour_begin"]').html(arr[0].value + " " + arr[1].value + ":" + arr[2].value);
                self["begin_time"].is_selected = true;
            });
            // 结束时间确认
            self["end_time"].on("confirm:success", function(arr) {
                var t1_arr = self["begin_time"].get_value();
                var t1 = t1_arr[0].value + " " + t1_arr[1].value + ":" + t1_arr[2].value;
                var t2 = arr[0].value + " " + arr[1].value + ":" + arr[2].value;
                if (utility.is_bigger_time(t1, t2)) {
                    alert("开始时间不能大于结束时间");
                    return;
                } else if (t1 == t2) {
                    alert("开始时间不能和结束时间一样");
                    return;
                }
                self.$('[data-role="select_container_for_hour"]').html(t2);
                self["end_time"].is_selected = true;
            });
        },
        get_selected_obj: function() {
            var self = this;
            var member = self["member"].get_value();
            var start_time_arr = self["begin_time"].get_value();
            var end_time_arr = self["end_time"].get_value();
            var start_time = start_time_arr[0].value + " " + start_time_arr[1].value + ":" + start_time_arr[2].value;
            var end_time = end_time_arr[0].value + " " + end_time_arr[1].value + ":" + end_time_arr[2].value;
            var obj = {
                num: member,
                begin_time: self["begin_time"].is_selected ? start_time : 0,
                end_time: self["end_time"].is_selected ? end_time : 0
            };
            return obj;
        },
        _setup_number_btn: function() {
            var self = this;
            self["member"] = new number_btn_view({
                templateModel: {
                    type: "tel"
                },
                min_value: 0,
                step: 1,
                parentNode: self.$number_menber,
                value: 1,
                is_floor: true
            }).render();
        },
        _setup_events: function() {},
        _set_arrange_panel_count: function() {
            var self = this;
            self.$('[data-role="pick-close-panel"]').attr("arrange_panel_count", self.arrange_panel_count);
            self.set("arrange_panel_count", self.arrange_panel_count);
        },
        setup: function() {
            var self = this;
            // 安装事件
            self._setup_events();
            self.$select_container_for_hour = self.$('[data-role="select_container_for_hour"]');
            self.$select_container_for_hour_begin = self.$('[data-role="select_container_for_hour_begin"]');
            self.$number_menber = self.$('[data-role="number_container_for_menber"]');
            self.arrange_panel_count = self.get("arrange_panel_count");
            self._set_arrange_panel_count();
            self._setup_select();
            self._setup_number_btn();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
});

define("pai/wx-1.1.0/widget/panel_pick/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div class="panel" data-role="panel-pick-con">\r\n    <div class="icon-con">\r\n        <div>\r\n            <p>第</p><p data-role="panel_index">';
        if (helper = helpers.arrange_panel_count) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.arrange_panel_count;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p><p>场</p>\r\n        </div>\r\n        <i class="icon icon-close-20x20 close" data-role="pick-close-panel"></i></div>\r\n    <div class="line">\r\n        <div class="notice">开始时间</div>\r\n        <div class="data_input">\r\n            <div class="side_border"></div>\r\n            <div class="inside b">\r\n                <div class="inside_input" data-role="begin-time">\r\n                    <div class="details" data-role="select_container_for_hour_begin">请填写开始时间</div>\r\n                </div>\r\n                <div class="inside_arrow">\r\n                    <i class="icon icon-r-16x26"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="line">\r\n        <div class="notice">结束时间</div>\r\n        <div class="data_input">\r\n            <div class="side_border"></div>\r\n            <div class="inside b">\r\n                <div class="inside_input" data-role="end-time">\r\n                    <div class="details" data-role="select_container_for_hour">请填写结束时间</div>\r\n                </div>\r\n                <div class="inside_arrow">\r\n                    <i class="icon icon-r-16x26"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="line exp">\r\n        <div class="notice">名额</div>\r\n        <div class="data_input">\r\n            <div class="side_border"></div>\r\n            <div class="inside exp">\r\n                <div class="inside_input" >\r\n                    <div class="details" data-role="number_container_for_menber"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="line-one fn-hide">\r\n        <div class="select_container_for_hour_begin" ></div>时至\r\n        <div class="select_container_for_hour" ></div>时\r\n        <div>\r\n            <p class="number_notice">名额</p>\r\n            <div class="number_container_for_menber" ></div>\r\n        </div>\r\n    </div>\r\n</div>';
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/3.
 *
 *
 *
 *
 *
 *  介绍页'添加领队'模块
 */
define("pai/wx-1.1.0/widget/panel_leader/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tpl = require("pai/wx-1.1.0/widget/panel_leader/tpl/main-debug.handlebars");
    module.exports = View.extend({
        attrs: {
            template: tpl
        },
        events: {},
        /*
         _parseElement : function()
         {
         var self = this;

         var template_model = self.get('templateModel');

         self.set('templateModel', template_model);

         View.prototype._parseElement.apply(self);

         },*/
        _setup_events: function() {},
        get_selected_obj: function() {
            var self = this;
            var name = self.$leader_name.val();
            var mobile = self.$leader_tel.val();
            var obj = {
                name: name,
                mobile: mobile
            };
            return obj;
        },
        _set_leader_panel_count: function() {
            var self = this;
            self.$('[data-role="leader-close-panel"]').attr("leader_panel_count", self.leader_panel_count);
            self.set("leader_panel_count", self.leader_panel_count);
        },
        setup: function() {
            var self = this;
            self.$leader_name = self.$('[data-role="name-input"]');
            self.$leader_tel = self.$('[data-role="tel-input"]');
            self.leader_panel_count = self.get("leader_panel_count");
            self._set_leader_panel_count();
            // 安装事件
            self._setup_events();
        },
        show: function() {
            var self = this;
            self.$el.removeClass("fn-hide");
        },
        hide: function() {
            var self = this;
            self.$el.addClass("fn-hide");
        }
    });
});

define("pai/wx-1.1.0/widget/panel_leader/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<div class="component-panel-leader" data-role="component-panel-leader">\r\n    <div class="icon-con">\r\n        <div>\r\n            <p>领队</p><p data-role="leader_panel_index">';
        if (helper = helpers.leader_panel_count) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.leader_panel_count;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</p>\r\n        </div>\r\n        <i class="icon icon-close-20x20 close" data-role="leader-close-panel"></i></div>\r\n    <input class="name-input" type="text" placeholder="联系人昵称" data-role="name-input"/>\r\n    <input class="tel-input" type="text" placeholder="手机号码" data-role="tel-input"/>\r\n</div>';
        return buffer;
    });
});

define("pai/wx-1.1.0/act/payment/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/detail/model-debug", "pai/wx-1.1.0/act/payment/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/widget/pay_item/view-debug", "pai/wx-1.1.0/widget/pay_item/model-debug", "pai/wx-1.1.0/act/model-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var model = require("pai/wx-1.1.0/act/detail/model-debug");
    var payment_view = require("pai/wx-1.1.0/act/payment/view-debug");
    page_control.add_page([ function() {
        return {
            title: "活动支付",
            route: {
                "act/payment/:event_id/:enroll_id(/:event_params)": "act/payment"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(appsPageView, appsParams, applyInfo) {
                var self = this;
                var event_id = appsParams[0];
                var enroll_id = appsParams[1];
                var event_params = appsParams[2];
                var model_obj = new model({
                    event_id: event_id
                });
                if (event_params) {
                    event_params = decodeURIComponent(event_params);
                    event_params = eval("(" + event_params + ")");
                    console.log(event_params);
                    model_obj.set(event_params);
                }
                self.payment_view_obj = new payment_view({
                    parentNode: self.$el,
                    model: model_obj,
                    enroll_id: enroll_id,
                    event_params: event_params
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

define("pai/wx-1.1.0/act/payment/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/widget/pay_item/view-debug", "pai/wx-1.1.0/widget/pay_item/model-debug", "pai/wx-1.1.0/act/model-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var pay_items = require("pai/wx-1.1.0/widget/pay_item/view-debug");
    var pay_model = require("pai/wx-1.1.0/act/model-debug");
    var WX = require("pai/wx-1.1.0/common/I_WX-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var mainTpl = require("pai/wx-1.1.0/act/payment/tpl/main-debug.handlebars");
    var payment_view = View.extend({
        attrs: {
            template: mainTpl
        },
        events: {
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                page_control.back();
            },
            "tap [data-role=pay]": function(ev) {
                var self = this;
                var loc = window.location;
                var data = {
                    event_id: self.model.get("event_id"),
                    enroll_id_arr: [ self.enroll_id ],
                    third_code: self.pay_item_obj.model.get("pay_type") || "",
                    is_available_balance: self.pay_item_obj.model.get("can_use_balance") ? 1 : 0,
                    available_balance: utility.user.get("available_balance"),
                    has_join: self.enroll_id,
                    user_id: utility.login_id,
                    url: loc.origin + loc.pathname + loc.search,
                    table_arr: self.model.get("table_arr"),
                    phone: self.model.get("phone")
                };
                self.model.set(data);
                if (confirm("确定支付?")) {
                    self.model.join_again_act(data);
                }
            }
        },
        _setup_events: function() {
            var self = this;
            self.model.off("success:pay:fetch");
            utility.user.on("before:get_info:fetch", function() {
                m_alert.show("正在加载支付模块...", "loading", {
                    delay: -1
                });
            }).on("success:get_info:fetch", function(response) {
                m_alert.hide();
                // 请求成功后再次设置
                //self.pay_item_obj.model.set('available_balance',utility.user.get('available_balance'));
                // 支付选项参数模型
                var pay_items_model = {
                    can_use_balance: utility.user.get("available_balance") > 0 ? true : false,
                    available_balance: utility.user.get("available_balance"),
                    total_price: self.model.get("total_budget"),
                    show_price_info: true
                };
                // 初始化表单
                self.count_payment(pay_items_model);
            }).on("error:get_info:fetch", function() {
                m_alert.show("网络异常，需要重试", "error", {
                    delay: 1e3
                });
                var pay_items_model = {
                    can_use_balance: utility.user.get("available_balance") > 0 ? true : false,
                    available_balance: utility.user.get("available_balance"),
                    total_price: self.model.get("total_budget"),
                    show_price_info: true
                };
                // 初始化表单
                self.count_payment(pay_items_model);
            });
            self.model.on("before:get_enroll_info:fetch", function() {
                m_alert.show("加载中...", "loading");
            }).on("success:get_enroll_info:fetch", function(response, options) {
                m_alert.hide();
                self._render_info(response);
            }).on("complete:get_enroll_info:fetch", function() {}).on("before:pay:fetch", function() {
                m_alert.show("发送中...", "loading");
            }).on("success:pay:fetch", function(response, options) {
                m_alert.hide();
                if (!utility.int(self.enroll_id)) {
                    switch (response.result_data.code) {
                      // 余额支付成功
                        case 2:
                        m_alert.show(response.result_data.message, "right", {
                            delay: 1e3
                        });
                        var loc = window.location;
                        loc.href = loc.origin + loc.pathname + "?pay_success=1#" + "act/pay_success/" + self.model.get("event_id");
                        //page_control.navigate_to_page('act/pay_success/'+self.model.get('event_id'));
                        break;

                      // 生成请求参数成功，待跳转到第三方
                        case 3:
                        m_alert.show(response.result_data.message, "right");
                        var third_code = response.result_data.third_code;
                        var channel_return = response.result_data.channel_return;
                        var data_url = response.result_data.data;
                        var payment_no = response.result_data.payment_no;
                        if (third_code == "alipay_purse") {
                            // 支付宝
                            App.alipay({
                                alipayparams: data_url,
                                payment_no: payment_no
                            }, function(data) {
                                var result = utility.int(data.result);
                                debugger;
                                self.after_pay_text(result);
                                if (result == 1 || result == -1 || result == -2) {
                                    window.location.href = channel_return;
                                    debugger;
                                }
                            });
                        } else if (third_code == "tenpay_wxapp") {
                            // 微信支付
                            App.wxpay(JSON.parse(data_url), function(data) {
                                var result = utility.int(data.result);
                                self.after_pay_text(result);
                                if (result == 1 || result == -1 || result == -2) {
                                    window.location.href = channel_return;
                                }
                            });
                        } else if (third_code == "tenpay_wxpub") {
                            // 微信支付
                            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") {
                                console.log(JSON.parse(data_url));
                                WeiXinSDK.setConfig(response.result_data.wx_sign_package);
                                WeiXinSDK.ready(function(Api) {
                                    WeiXinSDK.chooseWXPay(JSON.parse(data_url), function(data) {
                                        var result = utility.int(data.code);
                                        if (result == 1) {
                                            window.location.href = channel_return;
                                        }
                                    });
                                });
                            } else {
                                WX.isWexXin() && WX.wxPay(JSON.parse(data_url), function(data) {
                                    var result = utility.int(data.code);
                                    if (result == 1) {
                                        window.location.href = channel_return;
                                    }
                                });
                            }
                        }
                        break;

                      // 支付失败
                        case -1:
                      case -2:
                      case -3:
                      case -4:
                      case -5:
                      case -6:
                      case -7:
                      case -8:
                      case -9:
                      case -10:
                      case -11:
                      case -12:
                      case -20:
                      case -21:
                        m_alert.show("支付失败" + response.result_data.message, "error", {
                            delay: 1e3
                        });
                        break;
                    }
                } else {
                    switch (response.result_data.code) {
                      // 余额支付成功
                        case 1:
                        debugger;
                        m_alert.show(response.result_data.message, "right", {
                            delay: 1e3
                        });
                        var loc = window.location;
                        loc.href = loc.origin + loc.pathname + "?pay_success=1#" + "act/pay_success/" + self.model.get("event_id");
                        //page_control.navigate_to_page('act/pay_success/'+self.model.get('event_id'));
                        break;

                      // 生成请求参数成功，待跳转到第三方
                        case 2:
                        m_alert.show(response.result_data.message, "right");
                        var third_code = response.result_data.third_code;
                        var channel_return = response.result_data.channel_return;
                        var data_url = response.result_data.data;
                        var payment_no = response.result_data.payment_no;
                        if (third_code == "alipay_purse") {
                            // 支付宝
                            App.alipay({
                                alipayparams: data_url,
                                payment_no: payment_no
                            }, function(data) {
                                var result = utility.int(data.result);
                                debugger;
                                self.after_pay_text(result);
                                if (result == 1 || result == -1 || result == -2) {
                                    window.location.href = channel_return;
                                    debugger;
                                }
                            });
                        } else if (third_code == "tenpay_wxapp") {
                            // 微信支付
                            App.wxpay(JSON.parse(data_url), function(data) {
                                var result = utility.int(data.result);
                                self.after_pay_text(result);
                                if (result == 1 || result == -1 || result == -2) {
                                    window.location.href = channel_return;
                                }
                            });
                        } else if (third_code == "tenpay_wxpub") {
                            // 微信支付
                            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") {
                                console.log(JSON.parse(data_url));
                                WeiXinSDK.setConfig(response.result_data.wx_sign_package);
                                WeiXinSDK.ready(function(Api) {
                                    WeiXinSDK.chooseWXPay(JSON.parse(data_url), function(data) {
                                        var result = utility.int(data.code);
                                        if (result == 1) {
                                            window.location.href = channel_return;
                                        }
                                    });
                                });
                            } else {
                                WX.isWexXin() && WX.wxPay(JSON.parse(data_url), function(data) {
                                    var result = utility.int(data.code);
                                    if (result == 1) {
                                        window.location.href = channel_return;
                                    }
                                });
                            }
                        }
                        break;

                      // 支付失败
                        case -1:
                      case -2:
                      case -3:
                      case -10:
                      case -11:
                      case -12:
                      case -20:
                      case -21:
                        m_alert.show("支付失败" + response.result_data.message, "error", {
                            delay: 1e3
                        });
                        break;
                    }
                }
            }).on("complete:pay:fetch", function() {});
            self.on("update_info", function() {
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self.view_scroll_obj.refresh();
                    return;
                }
                self.view_scroll_obj.refresh();
            });
        },
        /**
         * 计算支付金额
         * @private
         */
        count_payment: function(params) {
            var self = this;
            var total_price = params.total_price;
            var balance = params.available_balance;
            if (params.can_use_balance) {
                var must_pay_money = balance - total_price;
                // 信用金够钱支付的时候
                if (must_pay_money > 0) {
                    self.must_pay_money = 0;
                } else {
                    self.must_pay_money = -(balance - total_price);
                }
            } else {
                // 没有用信用金支付
                self.must_pay_money = total_price;
            }
            self.must_pay_money = utility.format_float(self.must_pay_money, 2);
            self.pay_item_obj.model.set("need_price", self.must_pay_money);
            if (self.must_pay_money > 0) {
                // 余额不够支付,出现第三方支付选择
                if (!self.pay_item_obj) {
                    m_alert.show("第三方支付模块尚未加载!", "error");
                    return;
                }
                // 隐藏支付宝、财付通、微信支付
                self.pay_item_obj.hide_pay_items_by_type("alipay_purse");
                self.pay_item_obj.hide_pay_items_by_type("caifutong");
                self.pay_item_obj.hide_pay_items_by_type("tenpay_wxapp");
                self.pay_item_obj.show_other_pay_items();
                self.pay_item_obj._select_pay_type("tenpay_wxpub");
            } else {
                self.pay_item_obj.hide_other_pay_items();
            }
        },
        _render_info: function(response) {
            var self = this;
            self.$('[data-role="tel"]').html(self.model.get("phone"));
            self.$('[data-role="amount"]').html(self.model.get("enroll_num") + "人");
            self.$('[data-role="session"]').html(self.model.get("table_info"));
            self.$('[data-role="event_title"]').html(self.model.get("event_title"));
            self.$('[data-role="budget"]').html("￥" + self.model.get("budget"));
            console.log(utility.user.get("available_balance"));
            // 支付选项参数模型
            var pay_items_model = {
                can_use_balance: utility.user.get("available_balance") > 0 ? true : false,
                available_balance: utility.user.get("available_balance"),
                total_price: self.model.get("total_budget"),
                show_price_info: true
            };
            // 支付模块
            self.pay_item_obj = new pay_items({
                templateModel: pay_items_model,
                parentNode: self.$pay_item_container
            }).render();
            // 隐藏第三方支付
            self.pay_item_obj.hide_other_pay_items();
            // 计算金额
            //self.count_payment(pay_items_model);
            //触发第三方支付选择
            self.pay_item_obj.on("selected:available_balance", function() {
                self.count_payment({
                    can_use_balance: self.pay_item_obj.model.get("can_use_balance"),
                    total_price: self.model.get("total_budget"),
                    available_balance: utility.user.get("available_balance")
                });
                if (self.pay_item_obj._is_select_balance_require == 0) {
                    setTimeout(function() {
                        self.view_scroll_obj.scrollTo(0, 200);
                    }, 100);
                }
                self.view_scroll_obj.refresh();
            });
            self.trigger("update_info");
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            // 每次进入确保拿最新数据
            utility.user.get_info();
            self.$container = self.$('[data-role="container"]');
            self.$pay_item_container = self.$('[data-role="pay-items-container"]');
            self.enroll_id = self.get("enroll_id");
            if (self.enroll_id) {
                self.model.set("enroll_id", self.enroll_id);
            }
            self._setup_events();
            self.model.get_enroll_info(self.model.toJSON());
            self._reset_container_height();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 显示支付结束后的文案
         * @param code
         */
        after_pay_text: function(code) {
            switch (utility.int(code)) {
              case 1:
              case -2:
              case -1:
                m_alert.show("支付成功", "right");
                break;

              case 0:
                m_alert.show("其它错误", "error");
                break;

              case -3:
                m_alert.show("支付失败", "error");
                break;

              case -4:
                m_alert.show("支付取消", "error");
                break;
            }
        },
        _reset_container_height: function() {
            var self = this;
            self.$container.height(window.innerHeight - 97);
        }
    });
    module.exports = payment_view;
});

define("pai/wx-1.1.0/act/payment/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<style>\r\n    .action-apply-content .action-apply-list.payment-list\r\n    {\r\n        padding: 20px 15px 20px 15px;\r\n\r\n    }\r\n    .action-apply-content .action-apply-list.payment-list li\r\n    {\r\n        margin-bottom: 0px;\r\n        font-size: 12px;\r\n        color:#666;\r\n    }\r\n    .action-apply-content .action-apply-list.payment-list li .item{\r\n        font-size: 12px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n    }\r\n</style>\r\n<main role="main" class="action-apply wryh" >\r\n    <header class="nav-header ">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">支付活动</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <!--             <a class="ui-button ui-button-dark ui-button-size-default reg-button">注册</a> -->\r\n        </div>\r\n    </header>\r\n    <div data-role="container" class="content-body">\r\n        <div class="action-apply-content">\r\n            <section class="action-apply-list payment-list" style="background-color: #fff;">\r\n                <ul>\r\n                    <li>\r\n                        <div class="item">活动名称：</div>\r\n                        <div class="item-input" data-role="event_title" style="line-height: 30px;">无</div>\r\n                    </li>\r\n                    <li>\r\n                        <div class="item">手机号码：</div>\r\n                        <div class="item-input" data-role="tel" style="line-height: 30px;">0000</div>\r\n                    </li>\r\n                    <li>\r\n                        <div class="item">活动价格：</div>\r\n                        <div class="item-input" data-role="budget" style="line-height: 30px;">￥0</div>\r\n                    </li>\r\n                    <li>\r\n                        <div class="item">报名人数：</div>\r\n                        <div class="item-input" data-role="amount" style="line-height: 30px;">0人</div>\r\n                    </li>\r\n                    <li>\r\n                        <div class="item">选择场次：</div>\r\n                        <div class="item-input" data-role="session" style="line-height: 30px;"></div>\r\n                    </li>\r\n                </ul>\r\n            </section>\r\n            <section data-role="pay-items-container" class="pb10">\r\n            </section>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n    <div class="pay" >\r\n        <button data-role="pay" class="ui-button ui-button-size-middle ui-button-block ui-button-primary ui-button-size-radius-large auto_width">\r\n            <span class="ui-button-content">去支付</span>\r\n        </button>\r\n    </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/act/security/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/act/security/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/act/security/collection-debug", "pai/wx-1.1.0/common/collection-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var action_security_view = require("pai/wx-1.1.0/act/security/view-debug");
    var action_security_collection = require("pai/wx-1.1.0/act/security/collection-debug");
    page_control.add_page([ function() {
        return {
            title: "我的活动劵",
            route: {
                "act/security": "act/security"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function() {
                self.collection = new action_security_collection();
                this.security_view = new action_security_view({
                    parentNode: this.$el,
                    collection: self.collection
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

define("pai/wx-1.1.0/act/security/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var mainTpl = require("pai/wx-1.1.0/act/security/tpl/main-debug.handlebars");
    var itemTpl = require("pai/wx-1.1.0/act/security/tpl/item-debug.handlebars");
    var qr_tpl = require("pai/wx-1.1.0/act/security/tpl/big_qr_code-debug.handlebars");
    var action_security_view = view.extend({
        attrs: {
            template: mainTpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-role=pay]": function(ev) {
                var self = this;
                self.$phone_number.val();
            },
            "tap [data-role=password]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                // 放大二维码数据整合
                var code = $cur_btn.attr("data-code");
                var qr_code = $cur_btn.attr("data-qr-code");
                var pic_w_h = Math.ceil(utility.get_view_port_width() - 90);
                //滚动外框宽高
                var out_height = pic_w_h + 35;
                // 数据结构
                var data = {
                    qr_code_arr: [ {
                        code: code,
                        qr_code: qr_code,
                        pic_w_h: pic_w_h,
                        out_height: out_height
                    } ],
                    pic_w_h: pic_w_h,
                    out_height: out_height
                };
                var html_str = qr_tpl(data);
                // 放大二维码弹出层
                var dialog = new Dialog({
                    content: html_str
                }).show();
                //超过一个二维码才有滚动
                if (data.qr_code_arr.length > 1) {
                    var pic_view_scroll_obj = Scroll(dialog.$("[data-role=qr]"), {
                        lazyLoad: true
                    });
                    pic_view_scroll_obj.refresh();
                }
            }
        },
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            //            self.listenTo(self.collection, 'all', function() {
            //                // debug 用
            //            });
            self.listenTo(self.collection, "reset", self._reset).listenTo(self.collection, "add", self._addOne).listenTo(self.collection, "before:fetch", function() {
                tip.show("查询中...", "loading", {
                    delay: -1
                });
            }).listenTo(self.collection, "success:fetch", function(response, xhrOptions) {
                self._renderItem(response, xhrOptions);
                if (response.result_data.length == 0 && !self.abnormal_view) {
                    self.abnormal_view = new abnormal({
                        templateModel: {
                            content_height: utility.get_view_port_height("nav") - 20
                        },
                        parentNode: self.$container
                    }).render();
                }
                tip.hide();
            }).listenTo(self.collection, "error:fetch", function(xhr, status) {
                /*tip.show('查询失败请返回重试', 'error', {
                        delay: 800
                    });*/
                tip.show("网络异常", "error");
            }).listenTo(self.collection, "complete:fetch", function(xhr, status) {});
            // 数据刷新
            self.refresh();
            // 视图更新
            self.on("updateList", function(response, xhrOptions) {
                // 后加载才有此项，新发留言为nul
                /*if (!!response) {
                    if (!response.data.hasMore) {
                        self._hideLoadMorBar();
                    }
                }*/
                // 第一次载入时iScroll未生成
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    self._drop_reset();
                }
                self._drop_reset();
                self.view_scroll_obj.refresh();
            });
        },
        _renderItem: function(response, xhrOptions) {
            var self = this;
            /*if (xhrOptions.reset === true) {
                method = 'html';
                if(!response.data.list[0]){
                    self.$loadMoreBar.addClass('fn-hide');
                    self.$commentList.removeClass('comment-stream').addClass('stream-empty').html('<p>暂无评论</p>');
                    return;
                }
            }*/
            var renderQueue = self._renderQueue;
            console.log(renderQueue);
            var htmlStr = itemTpl({
                securitys: renderQueue
            });
            self.$security_list.html(htmlStr);
            self.trigger("updateList", response, xhrOptions);
            self._renderQueue = [];
            self.view_scroll_obj.refresh();
        },
        _reset: function() {
            var self = this;
            self.collection.each(self._addOne, self);
        },
        _addOne: function(dataModel) {
            var self = this;
            self._renderQueue.push(dataModel.toJSON());
            return self;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                lazyLoad: true,
                is_hide_dropdown: false
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.on("dropload", function(e) {
                self.refresh();
            });
        },
        _drop_reset: function() {
            var self = this;
            self.view_scroll_obj && self.view_scroll_obj.resetload();
        },
        setup: function() {
            var self = this;
            self._renderQueue = [];
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$security_list = self.$("[data-role=action-security-list]");
            self.$password = self.$("[data-role=password]");
            // 安装事件
            self._setup_events();
        },
        refresh: function() {
            var self = this;
            self.collection.get_securitys();
        }
    });
    module.exports = action_security_view;
});

define("pai/wx-1.1.0/act/security/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="action-security wryh">\r\n<!--     <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        二维码签到券\r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">二维码签到券</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n\r\n\r\n    <div data-role="container" class="content-body secondary">\r\n        <div class="action-security-content">\r\n            <section class="action-security-list">\r\n                <ul data-role="action-security-list">\r\n                </ul>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/act/security/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n    <li>\r\n        <div class="item">\r\n            <div class="title">\r\n                <div class="icon icon-';
            if (helper = helpers.icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '"></div>\r\n                <div class="text">\r\n                    <h2>';
            if (helper = helpers.title) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.title;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</h2>\r\n                    <h2>活动时间：";
            if (helper = helpers.time) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.time;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</h2>\r\n                </div>\r\n            </div>\r\n            <i class="icon next fn-hide"></i>\r\n        </div>\r\n        <div class="password" >\r\n            ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.ticket, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        </div>\r\n    </li>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="number">密码：<em>';
            if (helper = helpers.code) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.code;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</em></div>\r\n                <div class="picture" data-role="password" data-code="';
            if (helper = helpers.code) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.code;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-qr-code="' + escapeExpression((stack1 = depth0 && depth0.qr_code, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '"><i data-lazyload="' + escapeExpression((stack1 = depth0 && depth0.qr_code, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '" ></i></div>\r\n            ';
            return buffer;
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.securitys, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

/**
 *
 */
define("pai/wx-1.1.0/act/security/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    module.exports = collection.extend({
        url: global_config.ajax_url.get_act_ticket,
        initialize: function(options) {
            var self = this;
            self._setup_events();
        },
        parse: function(response) {
            if (response.result_data) {
                if (response.result_data.list) {
                    return response.result_data.list;
                }
                return response.result_data;
            }
        },
        _setup_events: function() {
            var self = this;
        },
        get_securitys: function(page) {
            var self = this;
            self.fetch({
                remove: page === 1,
                reset: page === 1,
                //data: paramData,
                cache: false,
                beforeSend: function(xhr, xhrOptions) {
                    self.trigger("before:fetch", xhr, xhrOptions);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                }
            });
            return self;
        }
    });
});

/**
 * 登录
 * hudw 2014.9.3
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/account/login/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/login/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/mine/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var login_view = require("pai/wx-1.1.0/account/login/view-debug");
    var mine = require("pai/wx-1.1.0/mine/model-debug");
    //var guide = require('../../ui/guide/view');
    //var first_guide_tpl = require('../../ui/guide/tpl/guide_model.handlebars');
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "登录",
            route: {
                "account/login(/:type)": "account/login"
            },
            transition_type: "slide",
            dom_not_cache: true,
            ignore_exist: true,
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                self.on("success:login:fetch", function(response) {
                    window.location.href = response.result_data.auth_url;
                }).on("error:login:fetch", function() {
                    m_alert.show("请求失败，请重试", "error");
                });
                if (WeixinApi.isWexXin() && !utility.wei_xin.is_authority()) {
                    m_alert.show("请求授权中", "loading");
                    var url = utility.wei_xin.url_head + $(self.el).attr("data-page-url");
                    var url2 = utility.wei_xin.url_head + $(self.el.nextSibling).attr("data-page-url");
                    if (/login/.test(url2) || /reg/.test(url2)) {
                        url2 = utility.wei_xin.url_head + "mine";
                    }
                    console.log("url:" + url);
                    console.log("url2:" + url2);
                    utility.ajax_request({
                        url: global_config.ajax_url.auth_act,
                        type: "POST",
                        data: {
                            url: url,
                            url2: url2,
                            op: "snsapi_base"
                        },
                        cache: false,
                        beforeSend: function(xhr, options) {
                            self.trigger("before:login:fetch", xhr, options);
                        },
                        success: function(response, options) {
                            self.trigger("success:login:fetch", response, options);
                        },
                        error: function(xhr, options) {
                            self.trigger("error:login:fetch", xhr, options);
                        },
                        complete: function(xhr, status) {
                            self.trigger("complete:login:fetch", xhr, status);
                        }
                    });
                    return;
                }
                var type_params = route_params_arr[0];
                var mine_obj = new mine();
                // ios系统增加 手机号码输入
                var is_iphone = ua.isIDevice ? 1 : 0;
                var login_view_obj = new login_view({
                    templateModel: {
                        is_iphone: is_iphone
                    },
                    model: mine_obj,
                    parentNode: self.$el,
                    type_params: type_params
                }).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 登录 视图
 * hudw 2014.9.3
 */
define("pai/wx-1.1.0/account/login/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_WX-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var tpl = require("pai/wx-1.1.0/account/login/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var system = require("pai/wx-1.1.0/common/system-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var mine_view = View.extend({
        attrs: {
            template: tpl
        },
        events: {
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            /**
             * 提交登录
             */
            'tap [data-role="submit-btn"]': function() {
                utility.stat_action({
                    tj_point: "touch",
                    tj_touch_type: "login"
                });
                var self = this;
                var user_name = self.$user_name.val();
                var user_pwd = self.$user_pwd.val();
                // 这里要加验证提示
                self.login(user_name, user_pwd, window._role, window._role ? true : false);
            },
            'tap [data-role="phone"]': function() {
                page_control.navigate_to_page("account/register/login_phone");
            },
            'tap [data-role="nav-to-agreement-login"]': function() {
                var self = this;
                return;
                page_control.navigate_to_page("account/agreement_login");
            },
            'tap [data-role="sso-login"]': function(ev) {
                var platform = $(ev.currentTarget).attr("data-platform");
                if (App.isPaiApp) {
                    App.sso_login({
                        platform: platform
                    }, function(data) {
                        if (data.message) {
                            m_alert.show(data.message, "right", {
                                delay: 1e3
                            });
                        } else {
                            m_alert.show("发送成功,正在登录...", "loading");
                        }
                        if (data.code == "0000") {
                            // 成功
                            system.sso_login({
                                data: {
                                    platform: platform,
                                    uid: data.uid,
                                    token: data.token
                                },
                                success: function(options) {
                                    m_alert.hide();
                                    m_alert.show(options.data.msg, "right", {
                                        delay: 1e3
                                    });
                                },
                                error: function() {
                                    m_alert.hide();
                                }
                            });
                        }
                    });
                }
            },
            'tap [data-role="reg"]': function() {
                var self = this;
                utility.stat_action({
                    tj_point: "touch",
                    tj_touch_type: "reg"
                });
                page_control.navigate_to_page("account/register/reg");
            },
            'tap [data-role="forget-pwd"]': function() {
                page_control.navigate_to_page("account/setup/bind/enter_pw/form_setup");
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:login:fetch", function(response, xhr) {
                m_alert.show("登录中...", "loading");
            }).on("success:login:fetch", function(response, xhr) {
                m_alert.show(response.result_data.msg, "right", {
                    delay: 1e3
                });
                //授权
                if (WeixinApi.isWexXin() && response.result_data.result == 501) {
                    window.location.href = response.result_data.auth_url;
                    return;
                }
                //是模特就跳转到提示页
                if (WeixinApi.isWexXin() && response.result_data.result == 502) {
                    page_control.navigate_to_page("account/login_tips");
                    return;
                }
                // 有角色时
                if (response.result_data.result == 200) {
                    utility.user.update_user(response.result_data.user_info);
                    utility.login_id = response.result_data.user_id;
                    var icon = utility.user.get("user_icon");
                    var params = {
                        pocoid: utility.login_id,
                        username: utility.user.get("nickname"),
                        icon: icon
                    };
                    if (App.isPaiApp) {
                        App.login(params);
                        // 保存设备信息
                        App.save_device();
                    }
                    if (utility.int(self.get("type_params")) == 1) {
                        // 1 代表不可返回
                        page_control.navigate_to_page(global_config.default_index_route);
                    } else if (/user_id_/.test(self.get("type_params"))) {
                        //代表自动登录，带id过来
                        page_control.navigate_to_page("mine");
                    } else {
                        page_control.back();
                    }
                }
            }).on("complete:login:fetch", function(response, xhr) {}).on("error:login:fetch", function(response, xhr) {
                //m_alert.hide();
                m_alert.show("网络异常", "error", {
                    delay: 1e3
                });
            });
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container);
            self.view_scroll_obj = view_scroll_obj;
        },
        login: function(account, password, role, is_new_user) {
            var self = this;
            utility.ajax_request({
                url: global_config.ajax_url.login,
                type: "POST",
                data: {
                    account: account,
                    password: password,
                    role: role || "",
                    is_new_user: is_new_user || ""
                },
                cache: true,
                beforeSend: function(xhr, options) {
                    self.trigger("before:login:fetch", xhr, options);
                },
                success: function(response, options) {
                    self.trigger("success:login:fetch", response, options);
                },
                error: function(xhr, options) {
                    self.trigger("error:login:fetch", xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:login:fetch", xhr, status);
                }
            });
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$user_name = self.$('[data-role="account-name"]');
            self.$user_pwd = self.$('[data-role="account-pwd"]');
            // 安装事件
            self._setup_events();
            var location = window.location;
            if (/has_reg_user_id_/.test(self.get("type_params"))) {
                //代表从注册页面过来登录，并且是已经注册过的账号，带id过来
                self.url_user_id = self.get("type_params").replace(/has_reg_user_id_/, "");
                self.$user_name.val(self.url_user_id);
            } else if (/model_card/.test(self.get("type_params"))) {
                //代表从模特卡页面登录过来
                self.redirect_url = location.origin + "/m/" + window._page_mode + "#find";
            }
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = mine_view;
});

define("pai/wx-1.1.0/account/login/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            var buffer = "";
            return buffer;
        }
        function program3(depth0, data) {
            return 'type="text"';
        }
        buffer += '<main role="main" class="account wryh">\r\n    <!-- <header class="page-header login-header-nav wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        登录\r\n    </header> -->\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">登录</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n\r\n\r\n    <div class="content-body account-login-page" data-role="container">\r\n        <div class="account-container" data-role="container">\r\n            <!-- <ul class="ui-form">\r\n                <li><div class="input-label"><input  type="text" placeholder="手机号" data-role="account-name"></div></li>\r\n                <li><div class="input-label"><input  type="password" placeholder="密码" data-role="account-pwd"></div></li>\r\n            </ul> -->\r\n\r\n            <div class="ui-input-mod mb10" >\r\n                <div class="item">\r\n                    <input type="tel" class="ui-input  ui-input-size-large ui-input-block ui-input-border-bottom-none ui-input-top-left ui-input-top-right" placeholder="手机号" data-role="account-name">\r\n                    <!--';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_iphone, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '-->\r\n                </div>\r\n                <div class="item"><input type="password" class="ui-input  ui-input-size-large ui-input-block ui-input-bottom-left ui-input-bottom-right" placeholder="密码" data-role="account-pwd"></div>\r\n            </div>\r\n\r\n\r\n\r\n            <div class="submit-btn-container">\r\n                <button data-role="submit-btn" class="ui-button ui-button-primary ui-button-size-large ui-button-block">\r\n                    <span class="ui-button-content">登录</span>\r\n                </button>\r\n            </div>\r\n\r\n            <div class="other-login  fn-hide" >\r\n                <!-- <button class="ui-button ui-button-primary ui-button-size-large ui-button-block sinaweibo-login-button" data-role="sso-login" data-platform="sina">\r\n                    <span class="ui-button-content icon-sinaweibo-logo"><i class="icon icon-sina-c"></i> 新浪微博</span>\r\n                </button> -->\r\n\r\n                <button class="ui-button ui-button-primary ui-button-size-large ui-button-block ui-button-color2 fn-hide"  data-role="phone" style="margin-left:0;color:#fff;">\r\n                    <span class="ui-button-content  icon-phone-logo">手机号登录</span>\r\n                </button>\r\n\r\n                <button class="ui-button ui-button-size-large qzone-login-button fn-hide" data-role="qzone">\r\n                    <span class="ui-button-content icon icon-qzone-logo"></span>\r\n                </button>\r\n            </div>\r\n\r\n\r\n            <div class="go-style">\r\n                    <div class="lbox" data-role="forget-pwd" >\r\n                        <button class="ui-button  ui-button-size-middle  ui-button-block ui-button-nocolor">\r\n                            <span class="ui-button-content">忘记密码？</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class="rbox" data-role="reg">\r\n                        <button class="ui-button  ui-button-size-middle  ui-button-block ui-button-nocolor">\r\n                            <span class="ui-button-content">新用户注册</span>\r\n                        </button>\r\n                    </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div data-role="nav-to-agreement-login" style="position: absolute;bottom:10px;width: 100%;text-align: center;color:#aeaeae;font-size:12px;">\r\n            轻触上面的“登录”按钮，即表示你同意<a href="javascript:;">《用户许可协议》</a>\r\n        </div>\r\n    </div>\r\n</main>';
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/13.
 *
 *
 * 账单
 */
define("pai/wx-1.1.0/mine/money/bill/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/money/bill/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/mine/money/bill/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var bill_view = require("pai/wx-1.1.0/mine/money/bill/view-debug");
    var bill_model = require("pai/wx-1.1.0/mine/money/bill/model-debug");
    page_control.add_page([ function() {
        return {
            title: "账单",
            route: {
                "mine/money/bill": "mine/money/bill"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {
                var self = this;
                var model = new bill_model();
                var bill_view_obj = new bill_view({
                    model: model,
                    parentNode: self.$el
                }).render();
            },
            page_init: function() {},
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/mine/money/bill/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var bill = require("pai/wx-1.1.0/mine/money/bill/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var bill_list_tpl = require("pai/wx-1.1.0/mine/money/bill/tpl/bill-list-debug.handlebars");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var bill_view = View.extend({
        attrs: {
            template: bill
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-tap]": function(ev) {
                var self = this;
                var $currentTarget = $(ev.currentTarget);
                $currentTarget.addClass("cur").siblings().removeClass("cur");
                self.currentType = $currentTarget.attr("data-role");
                self.reset_or_not = 1;
                self.single_page_count = 1;
                //清空元素
                self.$('[data-role="bill-bill"]').html("");
                self.$container.find(".warp-box").css("background-color", "");
                self._send_data();
            },
            'tap [data-role="bill-withdrawals"]': function() {
                var self = this;
                //检查是否绑定支付宝
                self.model.check_bind({
                    type: "check_bind"
                });
            }
        },
        _send_data: function() {
            var self = this;
            var data = {
                type: self.currentType,
                page: self.single_page_count
            };
            self.fetching = true;
            m_alert.show("加载中...", "loading", {
                delay: 1e3
            });
            self.model.get_bills(data);
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
                self._send_data();
            });
            self.model.on("success:fetch", function(response, options) {
                if (response.result_data.data.length != 0) {
                    self.single_page_count++;
                    self._render_data(self.model.toJSON());
                } else {
                    //m_alert.show('没有数据',{delay:1000})
                    if (self.$bill_bill.children().length == 0) {
                        self.abnormal_view = new abnormal({
                            templateModel: {
                                content_height: utility.get_view_port_height("all") - 75
                            },
                            parentNode: self.$bill_bill
                        }).render();
                        self.reset_bg_color();
                        self.view_scroll_obj.refresh();
                    }
                }
                self.fetching = false;
            }).on("complete:fetch", function(response, options) {}).on("error:fetch", function(response, options) {
                m_alert.show("加载失败", "error");
                self.fetching = false;
            });
            //检查是否绑定支付宝
            self.model.on("before:check_bind:fetch", function(response, options) {
                m_alert.show("加载中...", "loading", {
                    delay: 1e3
                });
            }).on("success:check_bind:fetch", function(response, options) {
                var data = response.result_data;
                var code = data.code;
                switch (code) {
                  case 1:
                    var data = {
                        alipay_account: data.data.third_account
                    };
                    page_control.navigate_to_page("mine/money/withdrawal/1", data);
                    break;

                  case 0:
                    page_control.navigate_to_page("mine/money/bind_alipay");
                    break;

                  case -1:
                    page_control.navigate_to_page("mine/money/bind_alipay");
                    break;

                  case 2:
                    page_control.navigate_to_page("mine/money/bind_alipay");
                    break;
                }
            }).on("error:check_bind:fetch", function() {
                m_alert.show("网络不给力,请返回重试！", "error");
            }).on("complete:check_bind:fetch", function(response, options) {});
        },
        _render_data: function(bill_data) {
            var self = this;
            //"处理中" 绿字处理
            $.each(bill_data.data, function(i, obj) {
                if (bill_data.data[i].status == "处理中") {
                    bill_data.data[i] = $.extend(true, {}, obj, {
                        status_success: true
                    });
                } else {
                    bill_data.data[i] = $.extend(true, {}, obj, {
                        status_success: false
                    });
                }
            });
            var html_str = bill_list_tpl({
                data: bill_data.data,
                page: self.single_page_count
            });
            self.$bill_bill.append(html_str);
            self.reset_bg_color();
            self.view_scroll_obj.refresh();
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container);
            self.$container.height(self.reset_viewport_height());
            view_scroll_obj.on("scrollMoveAfter", function() {
                var _self = this;
                var scroll_y = _self.y;
                if (_self.maxScrollY - _self.y < 100 && self.model.get("has_next") && !self.fetching) {
                    self._send_data();
                }
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.$bill_bill = self.$('[data-role="bill-bill"]');
            self.currentType = "trade";
            self.reset_or_not = 0;
            self.fetching = false;
            self.single_page_count = 1;
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 41;
        },
        reset_bg_color: function() {
            var self = this;
            setTimeout(function() {
                self.$container.find(".warp-box").css("background-color", "#fff");
            }, 300);
        }
    });
    module.exports = bill_view;
});

define("pai/wx-1.1.0/mine/money/bill/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="bill secondary">\r\n    <header class="nav-header withdrawals-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title">账单</h3>\r\n        <div class="right-button-wrap"></div>\r\n        <div class="tap fn-hide" data-role="bill-withdrawals">提现</div>\r\n    </header>\r\n\r\n    <div class="content-body">\r\n        <div class="measure-choosen">\r\n            <ul class="measure-choosen-in">\r\n                <i class="measure-choosen-child cur" data-tap data-role="trade">交易</i>\r\n                <i class="measure-choosen-child" data-tap data-role="recharge">充值</i>\r\n                <i class="measure-choosen-child" data-tap data-role="withdraw">提现</i>\r\n                <i class="measure-choosen-child" data-tap data-role="repay">退款</i>\r\n            </ul>\r\n        </div>\r\n        <div class="bill-container"  >\r\n            <div class="warp-box" data-role="container">\r\n                <div class="bill-bill" data-role="bill-bill">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/mine/money/bill/tpl/bill-list-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n<div class="child">\r\n    <div class="child-left">\r\n        <div class="subject">';
            if (helper = helpers.subject) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.subject;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n        <div class="add_date">';
            if (helper = helpers.add_date) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.add_date;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n    </div>\r\n    <div class="child-right">\r\n        <div class="amount">';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.flow_type, {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            if (helper = helpers.amount) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.amount;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n        <div class="status ';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.status_success, {
                hash: {},
                inverse: self.noop,
                fn: self.program(6, program6, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '">';
            if (helper = helpers.status) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.status;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n    </div>\r\n</div>\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            return "-";
        }
        function program4(depth0, data) {
            return "+";
        }
        function program6(depth0, data) {
            return "success";
        }
        stack1 = helpers.each.call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            return stack1;
        } else {
            return "";
        }
    });
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/mine/money/bill/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.bill_act,
        "default": {},
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        get_bills: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        },
        //检查是否绑定支付宝
        check_bind: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.withdraw,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:check_bind:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:check_bind:fetch", response, options);
                },
                error: function(model, response, options) {
                    self.trigger("error:check_bind:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:check_bind:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/account/setup/bind/enter_phone/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/setup/bind/enter_phone/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/account/setup/bind/enter_phone/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var enter_phone_view = require("pai/wx-1.1.0/account/setup/bind/enter_phone/view-debug");
    var enter_phone_model = require("pai/wx-1.1.0/account/setup/bind/enter_phone/model-debug");
    page_control.add_page([ function() {
        return {
            title: "设置",
            route: {
                "account/setup/bind/enter_phone/:form(/:form_setup_bind)": "account/setup/bind/enter_phone"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var is_form_setup;
                var is_form_login;
                var form_setup_bind = "";
                if (route_params_arr[0] == "form_setup") {
                    is_form_setup = true;
                    is_form_login = false;
                } else if (route_params_arr[0] == "form_login") {
                    is_form_setup = false;
                    is_form_login = true;
                }
                if (route_params_arr[1]) {
                    form_setup_bind = route_params_arr[1];
                }
                var data = {
                    is_form_setup: is_form_setup,
                    is_form_login: is_form_login,
                    form_setup_bind: form_setup_bind
                };
                var model = new enter_phone_model();
                var enter_phone_obj = new enter_phone_view({
                    model: model,
                    parentNode: self.$el,
                    templateModel: data
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/account/setup/bind/enter_phone/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var enter_phone_tpl = require("pai/wx-1.1.0/account/setup/bind/enter_phone/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var enter_phone_view = View.extend({
        attrs: {
            template: enter_phone_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="get_code"]': function() {
                var self = this;
                if (self.enter_phone.val() == "") {
                    alert("手机号不对哦");
                    return;
                }
                if (self.from_setup_bind == "from_setup_bind") {
                    if (self.counting) {
                        return;
                    }
                    //从设置来 未绑定手机
                    self._count_down(60);
                    self.model.send_code_request({
                        phone: self.enter_phone.val(),
                        type: "bind_sent_verify_code"
                    });
                } else if (self.get("templateModel").is_form_setup) {
                    if (self.counting) {
                        return;
                    }
                    //从设置来 更改
                    self._count_down(60);
                    self.model.send_code_request({
                        phone: self.enter_phone.val(),
                        type: "change_bind_sent_verify_code"
                    });
                } else if (self.get("templateModel").is_form_login) {
                    if (self.counting) {
                        return;
                    }
                    //从注册
                    self._count_down(60);
                    self.model.send_code_request({
                        phone: self.enter_phone.val(),
                        type: "reg_sent_verify_code"
                    });
                }
            },
            'tap [data-role="btn_save"]': function() {
                //我的-保存
                var self = this;
                if (self.enter_verify_code.val() == "") {
                    alert("验证码不对咧！");
                    return;
                }
                //从设置来更换手机
                self.model.send_bind_request({
                    phone: self.enter_phone.val(),
                    verify_code: self.enter_verify_code.val(),
                    type: "change_bind_phone"
                });
            },
            'tap [data-role="btn_login"]': function() {
                //注册或我的设置来绑定手机 - 下一步
                var self = this;
                if (self.enter_verify_code.val() == "") {
                    alert("验证码不对咧！");
                    return;
                }
                self.pass_data = {
                    phone: self.enter_phone.val(),
                    verify_code: self.enter_verify_code.val()
                };
                if (self.from_setup_bind == "from_setup_bind") {
                    //从设置来绑定手机
                    self.model.send_setup_bind_phone({
                        phone: self.enter_phone.val(),
                        verify_code: self.enter_verify_code.val(),
                        type: "bind_phone"
                    });
                } else {
                    //从注册来绑定手机
                    self.model.send_login_setp_one({
                        phone: self.enter_phone.val(),
                        verify_code: self.enter_verify_code.val(),
                        type: "phone_reg_step_1"
                    });
                }
            }
        },
        _count_down: function(sec) {
            var self = this;
            self.counting = true;
            self.count_down.html(sec);
            self.count_Interval = setInterval(function() {
                sec--;
                if (sec == 0) {
                    self.count_down.html("重新获取");
                    self._stop_count_down();
                    self.counting = false;
                } else {
                    self.count_down.html(sec);
                }
            }, 1e3);
        },
        _stop_count_down: function() {
            var self = this;
            clearInterval(self.count_Interval);
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            self.model.on("success:fetch_code", function(response, options) {
                m_alert.show(response.result_data.msg);
            }).on("success:fetch_bind", function(response, options) {
                if (response.result_data) {
                    m_alert.show(response.result_data.msg);
                    if (response.result_data.code != 0) {
                        page_control.navigate_to_page("mine");
                    }
                }
            }).on("success:fetch_send_login_setp", function(response, options) {
                if (response.result_data) {
                    m_alert.show(response.result_data.msg);
                    if (response.result_data.code != 0) {
                        page_control.navigate_to_page("account/setup/bind/enter_pw/form_login", self.pass_data);
                    }
                }
            }).on("success:send_setup_bind_phone", function(response, options) {
                if (response.result_data) {
                    m_alert.show(response.result_data.msg);
                    if (response.result_data.code != 0) {
                        page_control.navigate_to_page("mine");
                    }
                }
            }).on("complete:fetch_bind", function() {
                m_alert.hide();
            }).on("complete:fetch_send_login_setp", function() {
                m_alert.hide();
            }).on("complete:send_setup_bind_phone", function() {
                m_alert.hide();
            });
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.count_down = self.$('[data-role="get_code"]');
            self.enter_phone = self.$('[data-role="enter_phone"]');
            self.enter_verify_code = self.$('[data-role="verify_code"]');
            self.from_setup_bind = self.get("templateModel").from_setup_bind;
            self.counting = false;
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = enter_phone_view;
});

define("pai/wx-1.1.0/account/setup/bind/enter_phone/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return '\r\n    <div class="change-phone-verification" data-role="change-phone-container">\r\n        <ul class="list">\r\n            <li>\r\n                <span class="btn-get" data-role="get_code">获取验证码</span>\r\n                <input type="text" name=" " id=" " class="input-text"  value="" data-role="enter_phone">\r\n            </li>\r\n            <li>\r\n                <input type="text" name=" " id=" " class="input-text"  placeholder="验证码" data-role="verify_code">\r\n            </li>\r\n        </ul>\r\n        <div class="btn" data-role="btn_save">保存设置</div>\r\n        <p class="p1">您将收到一条验证短信，绑定成功后，您可以使用手机号登录。我们不会泄露您的隐私。</p>\r\n    </div>\r\n        ';
        }
        function program3(depth0, data) {
            return '\r\n    <div class="verification-mobile" data-role="verification-mobile-container">\r\n        <ul class="list">\r\n            <li>\r\n                <span class="btn-get" data-role="get_code">获取验证码</span>\r\n                <input type="text" name=" " id=" " class="input-text"  placeholder="请输入手机号码" data-role="enter_phone">\r\n            </li>\r\n            <li>\r\n                <input type="text" name=" " id=" " class="input-text"  placeholder="验证码" data-role="verify_code">\r\n            </li>\r\n        </ul>\r\n        <div class="btn" data-role="btn_login">下一步</div>\r\n        <p class="p1">您将收到一条验证短信，绑定成功后，您可以使用手机号登录。我们不会泄露您的隐私。</p>\r\n    </div>\r\n        ';
        }
        buffer += '<main role="main">\r\n    <header class="nav-header mine-setting-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">验证手机号</h3>\r\n\r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n<div class="phone_and_pw_change_container" data-role="container">\r\n    <div class="warp-box">\r\n        ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_form_setup, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n    </div>\r\n</div>\r\n</main>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/account/setup/bind/enter_phone/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.bind_act,
        "default": {},
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        send_code_request: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_code", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_code", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_code", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_code", xhr, status);
                }
            });
        },
        send_bind_request: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_bind", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_bind", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_bind", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_bind", xhr, status);
                }
            });
        },
        send_login_setp_one: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_send_login_setp", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_send_login_setp", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_send_login_setp", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_send_login_setp", xhr, status);
                }
            });
        },
        send_setup_bind_phone: function(data) {
            //个人中心的设置中绑定手机、不需要提交密码
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:send_setup_bind_phone", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:send_setup_bind_phone", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:send_setup_bind_phone", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:send_setup_bind_phone", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/account/setup/bind/enter_pw/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/setup/bind/enter_pw/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/account/setup/bind/enter_pw/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var enter_pw_view = require("pai/wx-1.1.0/account/setup/bind/enter_pw/view-debug");
    var enter_pw_model = require("pai/wx-1.1.0/account/setup/bind/enter_pw/model-debug");
    page_control.add_page([ function() {
        return {
            title: "设置",
            route: {
                "account/setup/bind/enter_pw/:form": "account/setup/bind/enter_pw"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var is_form_setup;
                var is_form_login;
                if (route_params_arr[0] == "form_setup") {
                    is_form_setup = true;
                    is_form_login = false;
                } else if (route_params_arr[0] == "form_login") {
                    is_form_setup = false;
                    is_form_login = true;
                }
                var data = {
                    is_form_setup: is_form_setup,
                    is_form_login: is_form_login
                };
                var model = new enter_pw_model();
                var enter_pw_view_obj = new enter_pw_view({
                    submit_data: route_params_obj,
                    model: model,
                    parentNode: self.$el,
                    templateModel: data
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/account/setup/bind/enter_pw/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var bind_tpl = require("pai/wx-1.1.0/account/setup/bind/enter_pw/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var enter_pw_view = View.extend({
        attrs: {
            template: bind_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="finish-reg"]': function() {
                var self = this;
                if (self.pw.val() == "") {
                    alert("请填写密码！");
                    return;
                }
                var data = {
                    role: utility.storage.get("user_role"),
                    type: "phone_reg_step_2",
                    password: self.pw.val()
                };
                var submit = $.extend(true, {}, data, self.get("submit_data"));
                self.model.send_data(submit);
            },
            'tap [data-role="get_code"]': function() {
                var self = this;
                var phone_reg = new RegExp(/^[0-9]{11}$/);
                if (!phone_reg.test(self.phone.val().trim())) {
                    m_alert.show("请正确填写手机号！", "error", {
                        delay: 1e3
                    });
                    return;
                }
                var data = {
                    reset: 1,
                    type: "bind_sent_verify_code",
                    phone: self.phone.val()
                };
                if (self.counting) {
                    return;
                }
                self._count_down(120);
                self.model.get_reset_code(data);
            },
            'tap [data-role="finish-change"]': function() {
                var self = this;
                var pw_cn = new RegExp(/^[\u4E00-\u9FA5]+$/);
                var phone_reg = new RegExp(/^[0-9]{11}$/);
                if (!phone_reg.test(self.phone.val().trim())) {
                    m_alert.show("请正确填写手机号！", "error");
                    return;
                }
                if (self.phone.val().trim() == "") {
                    m_alert.show("手机号不能为空！", "error");
                    return;
                }
                if (self.new_pw.val().trim() == "") {
                    //m_alert.show('请填写新的密码！');
                    m_alert.show("请填写新的密码！", "error", {
                        delay: 1e3
                    });
                    return;
                }
                if (pw_cn.test(self.new_pw.val().trim())) {
                    //m_alert.show('新密码不能含有汉字','error');
                    m_alert.show("新密码不能含有汉字!", "error", {
                        delay: 1e3
                    });
                    return;
                }
                if (self.new_pw.val().trim() == "") {
                    //m_alert.show('新密码不能为空！');
                    m_alert.show("新密码不能为空!", "error", {
                        delay: 1e3
                    });
                    return;
                }
                if (self.new_pw.val().trim().length < 6 || self.new_pw.val().trim().length > 32) {
                    //m_alert.show('密码长度6~32位','error');
                    m_alert.show("密码长度6~32位!", "error", {
                        delay: 1e3
                    });
                    return;
                }
                console.log(utility.user);
                var data = {
                    phone: self.phone.val(),
                    pwd: self.new_pw.val().trim(),
                    verify_code: self.code.val(),
                    type: "reset_pwd"
                };
                self.model.send_change_pw(data);
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            self.model.on("success:fetch", function(response, options) {
                m_alert.show(response.result_data.msg);
                //设置密码成功后导航到热门
                if (response.result_data.code != 0) {
                    page_control.navigate_to_page("hot");
                }
            }).on("complete:fetch", function(response, options) {}).on("success:fetch_change_pw", function(response, options) {
                //m_alert.show(response.result_data.msg,'right');
                var res = response.result_data;
                if (res.code != 0) {
                    m_alert.show(response.result_data.msg, "right");
                    setTimeout(function() {
                        page_control.navigate_to_page("mine");
                    }, 1500);
                } else if (res.code == 0) {
                    m_alert.show(res.msg, "error");
                }
            }).on("error:fetch_change_pw", function(response, options) {
                m_alert.show("提交失败，请重试", "error");
            }).on("complete:error_change_pw", function(response, options) {
                m_alert.show("修改失败，请重试", "error");
            }).on("success:get_reset_code", function(response, options) {
                var res = response.result_data;
                if (res.code == 1) {
                    m_alert.show(res.msg, "right");
                } else if (res.code == 0) {
                    self._stop_count_down();
                    m_alert.show(res.msg, "error");
                }
            }).on("error:get_reset_code", function(response, options) {
                m_alert.show("获取失败，请重试", "error");
                self._stop_count_down();
            });
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _count_down: function(sec) {
            var self = this;
            self.counting = true;
            self.count_btn.html(sec);
            self.count_Interval = setInterval(function() {
                sec--;
                if (sec == 0) {
                    self._stop_count_down();
                } else {
                    self.count_btn.html(sec);
                }
            }, 1e3);
        },
        _stop_count_down: function() {
            var self = this;
            clearInterval(self.count_Interval);
            self.count_btn.html("重新获取");
            self.counting = false;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.pw = self.$('[data-role="submit_pw"]');
            self.phone = self.$('[data-role="enter_phone"]');
            self.code = self.$('[data-role="enter_code"]');
            self.new_pw = self.$('[data-role="new_pw"]');
            self.count_btn = self.$('[data-role="get_code"]');
            self.counting = false;
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = enter_pw_view;
});

define("pai/wx-1.1.0/account/setup/bind/enter_pw/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this;
        function program1(depth0, data) {
            return '\r\n    <header class="nav-header reset-pw-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title">修改密码</h3>\r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n    ';
        }
        function program3(depth0, data) {
            return '\r\n    <header class="nav-header mine-setting-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">设定密码</h3>\r\n\r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n    ';
        }
        function program5(depth0, data) {
            return '\r\n            <div class="change-password">\r\n                <!-- <ul class="list">\r\n                    <li>\r\n                        <span class="btn-get" data-role="get_code">获取验证码</span>\r\n                        <input type="text" name=" " id=" " class="input-text exp" placeholder="手机号" data-role="enter_phone">\r\n                       \r\n                    </li>\r\n                    <li>\r\n                        <input type="text" name=" " id=" " class="input-text"  placeholder="验证码" data-role="enter_code">\r\n                    </li>\r\n                    <li>\r\n                        <input type="password" name=" " id=" " class="input-text"  placeholder="新密码" data-role="new_pw">\r\n                    </li>\r\n                </ul> -->\r\n\r\n\r\n                <div class="ui-input-mod">\r\n                    <div class="item">\r\n                        <input type="tel" class="ui-input  ui-input-size-large ui-input-block ui-input-border-bottom-none ui-input-top-left ui-input-top-right"  placeholder="手机号" data-role="enter_phone">\r\n                        <div class="pop-tips">\r\n                            <button class="ui-button ui-button-primary ui-button-size-min " data-role="get_code">\r\n                                <span class="ui-button-content">获取验证码</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class="item"><input type="text" class="ui-input  ui-input-size-large ui-input-block  ui-input-border-bottom-none ui-input-bottom-left ui-input-bottom-right" placeholder="验证码" data-role="enter_code"></div>\r\n\r\n                    <div class="item"><input type="password" class="ui-input  ui-input-size-large ui-input-block ui-input-bottom-left ui-input-bottom-right"  placeholder="新密码" data-role="new_pw"></div>\r\n                </div>\r\n\r\n\r\n            <!--     <div class="btn" data-role="finish-change">确认修改</div> -->\r\n\r\n                <button style="margin-top:10px" data-role="finish-change" class="ui-button ui-button-primary ui-button-size-large ui-button-block">\r\n                    <span class="ui-button-content">确认修改</span>\r\n                </button>\r\n\r\n            </div>\r\n    ';
        }
        function program7(depth0, data) {
            return '\r\n            <div class="set-password">\r\n               <!--  <ul class="list clearfix">\r\n                    <li>\r\n                        <input type="password" name=" " id=" " class="input-text"  placeholder="密码" data-role="submit_pw">\r\n                    </li>\r\n                </ul> -->\r\n\r\n                <div class="ui-input-mod">\r\n                    <div class="item">\r\n                        <input type="password" class="ui-input  ui-input-size-large ui-input-block  ui-input-top-left ui-input-top-right"  placeholder="密码"   data-role="submit_pw">\r\n                    </div>        \r\n                </div>\r\n\r\n\r\n                <!-- <div class="btn" data-role="finish-reg">完成</div> -->\r\n\r\n                <button  data-role="finish-reg" style="margin-top:10px" data-role="finish-change" class="ui-button ui-button-primary ui-button-size-large ui-button-block">\r\n                    <span class="ui-button-content">完成</span>\r\n                </button>\r\n\r\n\r\n                <p class="p1">该密码将用于您的登录，并保护您的账户安全。</p>\r\n            </div>\r\n    ';
        }
        buffer += '<main role="main">\r\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_form_setup, {
            hash: {},
            inverse: self.program(3, program3, data),
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += '\r\n    <div data-role="container" class="change-password-container">\r\n        <div class="warp-box">\r\n    ';
        stack1 = helpers["if"].call(depth0, depth0 && depth0.is_form_setup, {
            hash: {},
            inverse: self.program(7, program7, data),
            fn: self.program(5, program5, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n        </div>\r\n    </div>\r\n</main>";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/9/13.
 */
define("pai/wx-1.1.0/account/setup/bind/enter_pw/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.bind_act,
        "default": {},
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        send_data: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        },
        get_reset_code: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.reg,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:get_reset_code", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:get_reset_code", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:get_reset_code", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:get_reset_code", xhr, status);
                }
            });
        },
        send_change_pw: function(data) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.reg,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_change_pw", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_change_pw", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_change_pw", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_change_pw", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolest on 2014/9/18.
 */
define("pai/wx-1.1.0/account/register/login_phone/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/register/login_phone/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/account/register/login_phone/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var login_phone_view = require("pai/wx-1.1.0/account/register/login_phone/view-debug");
    var login_phone_model = require("pai/wx-1.1.0/account/register/login_phone/model-debug");
    page_control.add_page([ function() {
        return {
            title: "注册 - 流程1",
            route: {
                "account/register/login_phone": "account/register/login_phone"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new login_phone_model();
                var login_phone_view_obj = new login_phone_view({
                    model: model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/18.
 */
define("pai/wx-1.1.0/account/register/login_phone/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var login_phone_tpl = require("pai/wx-1.1.0/account/register/login_phone/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var login_phone_view = View.extend({
        attrs: {
            template: login_phone_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="get_code"]': function() {
                var self = this;
                //不为数字 || 空 || 字符串中有空格时返回
                if (!parseInt(self.enter_phone.val()) || self.enter_phone.val().trim() == "" || self.enter_phone.val().trim().indexOf(" ") != -1) {
                    m_alert.show("手机号不对哦！", "error");
                    return;
                }
                if (self.counting) {
                    return;
                }
                self._count_down(120);
                self.model.send_code_request({
                    phone: self.enter_phone.val(),
                    type: "bind_sent_verify_code"
                });
            },
            'tap [data-role="btn_login"]': function() {
                var self = this;
                //手机格式
                if (self.enter_phone.val().trim() == "" || self.enter_phone.val().trim().indexOf(" ") != -1) {
                    m_alert.show("手机号不对哦！", "error");
                    return;
                }
                //验证码格式
                if (self.enter_code.val().trim() == "" || self.enter_code.val().trim().indexOf(" ") != -1) {
                    m_alert.show("验证码格式不对哦！", "error");
                    return;
                }
                m_alert.show("提交中...", "loading");
                if (self.can_login) {
                    // 跑登录流程
                    var action_type = "login_by_phone";
                } else {
                    var action_type = "reg_act";
                }
                self.model.send_phone_and_code({
                    phone: self.enter_phone.val(),
                    verify_code: self.enter_code.val(),
                    type: action_type,
                    role: window._role || 0
                });
            }
        },
        _count_down: function(sec) {
            var self = this;
            self.counting = true;
            self.count_btn.html(sec);
            self.count_Interval = setInterval(function() {
                sec--;
                if (sec == 0) {
                    self._stop_count_down();
                } else {
                    self.count_btn.html(sec);
                }
            }, 1e3);
        },
        _stop_count_down: function() {
            var self = this;
            clearInterval(self.count_Interval);
            self.count_btn.html("重新获取");
            self.counting = false;
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            self.model.on("success:fetch_code", function(response, options) {
                var code = self.model.toJSON().code;
                switch (code) {
                  case 0:
                    self._stop_count_down();
                    m_alert.show(self.model.toJSON().msg, "right");
                    break;

                  case 1:
                    // 用于注册
                    self.can_login = false;
                    break;

                  case 2:
                    self.can_login = true;
                    if (response.result_data.user_info) {}
                    break;
                }
            }).on("complete:fetch_code", function(response, options) {}).on("error:fetch_code", function(response, options) {
                m_alert.show(self.model.toJSON().msg, "error");
                self._stop_count_down();
            }).on("success:phone_and_code", function(response, options) {
                var response = response.result_data;
                m_alert.show(response.msg, "right");
                switch (response.code) {
                  // 登录错误
                    case 0:
                    break;

                  case 1:
                    if (self.can_login) {
                        m_alert.show("登录成功", "right");
                        utility.user.update_user(response.data);
                        utility.login_id = response.data.user_id;
                        var icon = response.data.user_icon;
                        var is_go_to_edit = response.is_go_to_edit;
                        var params = {
                            pocoid: utility.login_id,
                            username: utility.user.get("nickname"),
                            icon: icon
                        };
                        if (App.isPaiApp) {
                            App.login(params);
                            // 保存设备信息
                            App.save_device();
                        }
                        // 导航到补充资料
                        if (is_go_to_edit) {
                            if (utility.user.get("role") == "model") {
                                page_control.navigate_to_page("model_date/model_card/" + utility.login_id + "/1");
                            } else {
                                page_control.navigate_to_page("mine/profile/" + utility.login_id + "/1");
                            }
                        } else {
                            page_control.navigate_to_page("mine");
                        }
                    } else {
                        // 跑绑定流程
                        //手机号和密码提交成功
                        page_control.navigate_to_page("account/register/login_pw", options.data);
                    }
                    break;

                  // 选角色
                    case -1:
                    setTimeout(function() {
                        self.select_role.show();
                    }, 1100);
                    break;
                }
            }).on("complete:phone_and_code", function(response, options) {}).on("error:phone_and_code", function(response, options) {
                m_alert.show(self.model.toJSON().msg, "error");
            });
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container);
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.counting = false;
            self.count_btn = self.$('[data-role="get_code"]');
            self.enter_phone = self.$('[data-role="enter_phone"]');
            self.enter_code = self.$('[data-role="verify_code"]');
            self._setup_events();
            self._setup_select_role();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 配置角色选择
         * @private
         */
        _setup_select_role: function() {
            var self = this;
            var arr = [ {
                value: "",
                text: "请选择角色",
                selected: true
            }, {
                value: "model",
                text: "模特"
            }, {
                value: "cameraman",
                text: "摄影师"
            } ];
            self.select_role = new m_select({
                templateModel: {
                    options: [ arr ]
                },
                parentNode: self.$el
            }).render();
            self.select_role.on("confirm:success", function(arr) {
                var role = arr[0].value;
                if (!role) {
                    m_alert.show("请选择角色", "right");
                    return;
                }
                if (self.can_login) {
                    // 跑登录流程
                    var action_type = "login_by_phone";
                } else {
                    var action_type = "phone_reg_step_1";
                }
                self.model.send_phone_and_code({
                    phone: self.enter_phone.val(),
                    verify_code: self.enter_code.val(),
                    type: action_type,
                    role: role
                });
            });
        }
    });
    module.exports = login_phone_view;
});

define("pai/wx-1.1.0/account/register/login_phone/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main">\r\n    <header class="nav-header mine-setting-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title">验证手机号</h3>\r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n    <div class="phone_and_pw_change_container" data-role="container">\r\n        <div class="warp-box">\r\n                <div class="verification-mobile" data-role="verification-mobile-container">\r\n                    <ul class="list">\r\n                        <li>\r\n                            <span class="btn-get" data-role="get_code">获取验证码</span>\r\n                            <input type="text" name=" " id=" " class="input-text"  placeholder="请输入手机号码" data-role="enter_phone">\r\n                        </li>\r\n                        <li>\r\n                            <input type="text" name=" " id=" " class="input-text"  placeholder="验证码" data-role="verify_code">\r\n                        </li>\r\n                    </ul>\r\n               \r\n\r\n                    <div class="btn">\r\n                    <button data-role="btn_login" class="ui-button ui-button-primary ui-button-size-large ui-button-block">\r\n                        <span class="ui-button-content">下一步</span>\r\n                    </button>\r\n                    </div>\r\n\r\n                    <p class="p1">您将收到一条验证短信，绑定成功后，您可以使用手机号登录。我们不会泄露您的隐私。</p>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * Created by nolest on 2014/9/18.
 */
define("pai/wx-1.1.0/account/register/login_phone/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.bind_act,
        "default": {},
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        send_code_request: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch_code", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch_code", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch_code", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch_code", xhr, status);
                }
            });
        },
        send_phone_and_code: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:phone_and_code", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:phone_and_code", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:phone_and_code", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:phone_and_code", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolest on 2014/9/18.
 */
define("pai/wx-1.1.0/account/register/login_pw/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/register/login_pw/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var login_pw_view = require("pai/wx-1.1.0/account/register/login_pw/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "确定密码",
            route: {
                "account/register/login_pw": "account/register/login_pw"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                if (!utility.auth.is_login() && window._Has_reg) {
                    m_alert.show("您已经注册过了", "right", {
                        delay: 3e3
                    });
                    setTimeout(function() {
                        page_control.back();
                    }, 3e3);
                    return;
                }
                var login_pw_view_obj = new login_pw_view({
                    model: utility.user,
                    parentNode: self.$el,
                    data: route_params_obj
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/18.
 */
define("pai/wx-1.1.0/account/register/login_pw/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var login_pw_tpl = require("pai/wx-1.1.0/account/register/login_pw/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    var login_pw_view = View.extend({
        attrs: {
            template: login_pw_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="finish-reg"]': function() {
                var self = this;
                var pwd = $.trim(self.pw.val());
                var sec_pwd = $.trim(self.pw_sec.val());
                if (pwd != sec_pwd) {
                    m_alert.show("设置错误，两次输入的密码必须一致", "error");
                    return;
                }
                if (utility.is_empty(pwd) || self.pw.val().length < 6 || self.pw.val().length > 32) {
                    m_alert.show("请输入6~32位密码");
                    return;
                }
                // 跑注册流程
                var params_data = {
                    phone: self.get("data").phone,
                    verify_code: self.get("data").verify_code,
                    pwd: pwd,
                    role: "cameraman",
                    type: "reg_act"
                };
                if (self.reg_ing) {
                    return;
                }
                utility.user.reg(params_data);
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            // 这里表示验证码成功
            utility.user.on("before:reg", function() {
                m_alert.show("账号正在创建中...", "loading", {
                    delay: -1
                });
                self.reg_ing = true;
            }).on("success:reg", function(response, options) {
                self.reg_ing = false;
                m_alert.hide();
                var response = response.result_data;
                var msg = response.msg;
                var code = response.code;
                if (code == 1) {
                    // 注册成功，接着要保存用户信息
                    m_alert.show(msg, "right");
                    var user_info = response.data;
                    utility.user.update_user(user_info);
                    utility.login_id = user_info.user_id;
                    window._Has_reg = true;
                    console.log(cookie.get("yueus_url2"));
                    var yueus_url2 = decodeURIComponent(cookie.get("yueus_url2"));
                    if (yueus_url2) {
                        console.log(yueus_url2);
                        window.location.href = yueus_url2.replace("?", "?from_reg_success=1&");
                    } else {
                        page_control.navigate_to_page(global_config.default_index_route);
                    }
                } else {
                    m_alert.show(msg, "error");
                }
            }).on("error:reg", function(response, options) {
                self.reg_ing = false;
                m_alert.show("网络异常", "error");
            });
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.pw = self.$('[data-role="submit_pw"]');
            self.pw_sec = self.$('[data-role="submit_pw_sec"]');
            self.$user_role_group = self.$('[data-role="user-role-container"]');
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = login_pw_view;
});

define("pai/wx-1.1.0/account/register/login_pw/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main">\r\n    <header class="nav-header mine-setting-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title">设定密码</h3>\r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n    <div data-role="container" class="change-password-container">\r\n        <div class="warp-box">\r\n\r\n            <div class="set-password">\r\n                <ul class="list clearfix">\r\n                    <li>\r\n                        <input type="password" name=" " id=" " class="input-text"  placeholder="密码" data-role="submit_pw">\r\n                    </li>\r\n                </ul>\r\n                <ul class="list clearfix" style="margin-top: 5px;">\r\n                    <li >\r\n                        <input type="password" name=" " id=" " class="input-text"  placeholder="再输入密码" data-role="submit_pw_sec">\r\n                    </li>\r\n                </ul>\r\n                <div class="btn" data-role="finish-reg">完成</div>\r\n                <div data-role="user-role-container" style="width: 100%;margin-top: 10px;"></div>\r\n                <p class="p1">该密码将用于您的登录，并保护您的账户安全。</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * 首页 - 城市选择 基础页面框架
 * 汤圆 2014.8.18
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/comment/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/comment/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var comment_view = require("pai/wx-1.1.0/comment/view-debug");
    page_control.add_page([ function() {
        return {
            title: "评价",
            route: {
                "comment/:role/:date_id/:role_id(/:custom)": "comment"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                // modify by hudw 2015.2.9
                var custom_obj = {};
                if (route_params_arr[3]) {
                    custom_obj = decodeURIComponent(route_params_arr[3]);
                    custom_obj = eval("(" + custom_obj + ")");
                }
                console.log(custom_obj);
                var self = this;
                var role = route_params_arr[0];
                var date_id = route_params_arr[1];
                var role_id = route_params_arr[2];
                var table_id = route_params_obj && route_params_obj.table_id || custom_obj && custom_obj.table_id || 0;
                self.comment_view_obj = new comment_view({
                    role: role,
                    date_id: date_id,
                    role_id: role_id,
                    table_id: table_id,
                    parentNode: self.$el
                }).render();
                page_view.view = self.comment_view_obj;
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {},
            window_change: function(page_view) {
                page_view.view.reset_scroll_height();
            }
        };
    } ]);
});

/**
 * 首页 - 城市选择
 * 汤圆 2014.18.
 */
define("pai/wx-1.1.0/comment/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var comment = require("pai/wx-1.1.0/comment/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var cameraman_part = require("pai/wx-1.1.0/comment/tpl/cameraman-debug.handlebars");
    var event_part = require("pai/wx-1.1.0/comment/tpl/event-debug.handlebars");
    var model_part = require("pai/wx-1.1.0/comment/tpl/model-debug.handlebars");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var comment_view = View.extend({
        attrs: {
            template: comment
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=date-city]": function(ev) {
                var $current_target = $(ev.currentTarget);
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-role=publish]": function(ev) {
                var self = this;
                switch (self.role) {
                  case "cameraman":
                    self.send_data_cameraman();
                    break;

                  case "model":
                    self.send_data_model();
                    break;

                  case "event":
                    self.send_data_event();
                    break;
                }
            },
            "tap [data-role=btn-total]": function(ev) {
                var self = this;
                self.total = self.get_start(ev, self.$("[data-role=total]"));
            },
            "tap [data-role=rp]": function(ev) {
                var self = this;
                self.rp = self.get_start(ev, self.$("[data-role=rp]"));
            },
            "tap [data-role=time_right]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                self.$("[data-role=time_right]").removeClass("current");
                if ($cur_btn.hasClass("current")) {
                    $cur_btn.removeClass("current");
                } else {
                    $cur_btn.addClass("current");
                }
                self.time_right = $cur_btn.attr("data");
            },
            "tap [data-role=data-name]": function(ev) {
                var self = this;
                if (self.config) {
                    $(ev.currentTarget).removeClass("ui-switch-off");
                    $(ev.currentTarget).addClass("ui-switch-on");
                    self.config = false;
                } else {
                    $(ev.currentTarget).addClass("ui-switch-off");
                    $(ev.currentTarget).removeClass("ui-switch-on");
                    self.config = true;
                }
            },
            "tap [data-role=bxl]": function(ev) {
                var self = this;
                self.bxl = self.get_start(ev, self.$("[data-role=bxl]"));
            },
            "tap [data-role=zsx]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                self.$("[data-role=zsx]").removeClass("current");
                if ($cur_btn.hasClass("current")) {
                    $cur_btn.removeClass("current");
                } else {
                    $cur_btn.addClass("current");
                }
                self.zsx = $cur_btn.attr("data");
            },
            "tap [data-role=event_zjnl]": function(ev) {
                var self = this;
                self.event_zjnl = self.get_start(ev, self.$("[data-role=event_zjnl]"));
            },
            "tap [data-role=event_mtsp]": function(ev) {
                var self = this;
                self.event_mtsp = self.get_start(ev, self.$("[data-role=event_mtsp]"));
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                self._setup_scroll();
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            }).once("render", self._render_after, self);
            self._setup_scroll();
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _reset: function() {
            var self = this;
        },
        _add_one: function(model) {
            var self = this;
        },
        /**
         * 渲染城市
         * @param response
         * @param options
         * @private
         */
        _render_city: function(response, xhr) {
            var self = this;
        },
        _render_after: function() {
            var self = this;
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            self.role = self.attrs.role;
            self.date_id = self.attrs.date_id;
            self.role_id = self.attrs.role_id;
            self.table_id = self.attrs.table_id;
            // 渲染队列
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$hot_city_container = self.$("[data-role=hot-city-container]");
            self.$role_html = self.$("[data-role=role-html]");
            self.$title = self.$("[data-role=title]");
            self.$publish = self.$("[data-role=publish]");
            self.$data_txt_val = self.$("[data-role=data-txt]");
            self.$data_name = self.$("[data-role=data-name]");
            self.config = true;
            // 安装事件
            self._setup_events();
            self._role_html();
        },
        _role_html: function() {
            var self = this;
            switch (self.role) {
              case "cameraman":
                self.$role_html.html(cameraman_part);
                self.$title.html("摄影师评价");
                break;

              case "model":
                self.$role_html.html(model_part);
                self.$title.html("模特评价");
                break;

              case "event":
                self.$role_html.html(event_part);
                self.$title.html("活动评价");
                break;
            }
        },
        send_data_cameraman: function() {
            var self = this;
            self.total = self.total ? self.total : 0;
            //总体评价
            self.rp_cameraman = self.rp ? self.rp : 0;
            //rp
            self.data_txt_val = $.trim(self.$data_txt_val.val());
            //评价内容 
            if (self.total == 0) {
                m_alert.show("总体评价还没评分哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.rp_cameraman == 0) {
                m_alert.show("RP还没评分哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (!self.time_right) {
                m_alert.show("还没选择时间观念哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.data_txt_val == "") {
                m_alert.show("请输入内容哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.config) {
                self.data_name = 0;
            } else {
                self.data_name = 1;
            }
            var data = {
                date_id: self.date_id,
                model_user_id: utility.user.id,
                cameraman_user_id: self.role_id,
                overall_score: self.total,
                rp_score: self.rp_cameraman,
                time_sense: self.time_right,
                comment: self.data_txt_val,
                is_anonymous: self.data_name
            };
            console.log(data);
            utility.ajax_request({
                url: global_config.ajax_url.add_cameraman_comment,
                type: "POST",
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    m_alert.show("请求发送中...", "loading", {
                        delay: 1e3
                    });
                },
                success: function(data) {
                    if (data.result_data.code == 1) {
                        console.log(444);
                        m_alert.show(data.result_data.msg, "right", {
                            delay: 1e3
                        });
                        if (self.from_app) {
                            App.app_back();
                        } else {
                            page_control.navigate_to_page("comment/list/" + self.role + "/" + self.role_id + "/1");
                        }
                    }
                    if (data.result_data.code == 0) {
                        m_alert.show(data.result_data.msg, "error", {
                            delay: 1e3
                        });
                    }
                },
                error: function(xhr, options) {
                    m_alert.show("请求发送失败，请重试", "error", {
                        delay: 1e3
                    });
                },
                complete: function(xhr, status) {}
            });
        },
        send_data_model: function() {
            var self = this;
            self.total = self.total ? self.total : 0;
            //总体评价
            self.bxl_model = self.bxl ? self.bxl : 0;
            //表现力
            self.data_txt_val = $.trim(self.$data_txt_val.val());
            //评价内容 
            if (self.total == 0) {
                m_alert.show("总体评价还没评分哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.bxl_model == 0) {
                m_alert.show("表现力还没评分哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (!self.zsx) {
                m_alert.show("还没选择真实性哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (!self.time_right) {
                m_alert.show("还没选择时间观念哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.data_txt_val == "") {
                m_alert.show("请输入内容哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.config) {
                self.data_name = 0;
            } else {
                self.data_name = 1;
            }
            var data = {
                date_id: self.date_id,
                cameraman_user_id: utility.user.id,
                model_user_id: self.role_id,
                overall_score: self.total,
                expressive_score: self.bxl_model,
                truth: self.zsx,
                time_sense: self.time_right,
                comment: self.data_txt_val,
                is_anonymous: self.data_name
            };
            utility.ajax_request({
                url: global_config.ajax_url.add_model_comment,
                type: "POST",
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    m_alert.show("请求发送中...", "loading", {
                        delay: 1e3
                    });
                },
                success: function(data) {
                    console.log(data);
                    if (data.result_data.code == 1) {
                        m_alert.show(data.result_data.msg, "right", {
                            delay: 1e3
                        });
                        page_control.navigate_to_page("comment/list/" + self.role + "/" + self.role_id + "/1");
                    }
                    if (data.result_data.code == 0) {
                        m_alert.show(data.result_data.msg, "error", {
                            delay: 1e3
                        });
                    }
                },
                error: function(xhr, options) {
                    m_alert.show("请求发送失败，请重试", "error", {
                        delay: 1e3
                    });
                },
                complete: function(xhr, status) {}
            });
        },
        send_data_event: function() {
            var self = this;
            self.total = self.total ? self.total : 0;
            //总体评价
            self.event_zjnl = self.event_zjnl ? self.event_zjnl : 0;
            //组织能力
            self.event_mtsp = self.event_mtsp ? self.event_mtsp : 0;
            //模特水平
            self.data_txt_val = $.trim(self.$data_txt_val.val());
            //评价内容 
            if (self.total == 0) {
                m_alert.show("总体评价还没评分哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.event_zjnl == 0) {
                m_alert.show("组织能力还没评分哦", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.event_mtsp == 0) {
                m_alert.show("模特水平还没评分哦", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.data_txt_val == "") {
                m_alert.show("请输入内容哦！", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.config) {
                self.data_name = 0;
            } else {
                self.data_name = 1;
            }
            var data = {
                event_id: self.date_id,
                user_id: utility.user.id,
                overall_score: self.total,
                organize_score: self.event_zjnl,
                model_score: self.event_mtsp,
                comment: self.data_txt_val,
                is_anonymous: self.data_name,
                table_id: self.table_id
            };
            utility.ajax_request({
                url: global_config.ajax_url.add_event_comment,
                type: "POST",
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    m_alert.show("请求发送中...", "loading", {
                        delay: 1e3
                    });
                },
                success: function(data) {
                    console.log(data);
                    if (data.result_data.code == 1) {
                        m_alert.show(data.result_data.msg, "right", {
                            delay: 1e3
                        });
                        page_control.navigate_to_page("comment/list/" + self.role + "/" + self.date_id + "/1");
                    }
                    if (data.result_data.code == 0) {
                        m_alert.show(data.result_data.msg, "error", {
                            delay: 1e3
                        });
                    }
                },
                error: function(xhr, options) {
                    m_alert.show("请求发送失败，请重试", "error", {
                        delay: 1e3
                    });
                },
                complete: function(xhr, status) {}
            });
        },
        get_start: function(ev, id) {
            var self = this;
            var target = $(ev.target);
            for (var i = 0, len = id.length; i < len; i++) {
                if (i <= target.index()) {
                    id.eq(i).removeClass("icon-start-l-g");
                    id.eq(i).addClass("icon-start-l-y");
                } else {
                    id.eq(i).removeClass("icon-start-l-y");
                    id.eq(i).addClass("icon-start-l-g");
                }
            }
            return target.index() + 1;
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_scroll_height: function() {
            var self = this;
            // 换上了原生的滚动条则不需要计算页面高度，所以这里可以删掉设置高度代码
            // modify by hudw
            self.view_scroll_obj.refresh();
        }
    });
    module.exports = comment_view;
});

define("pai/wx-1.1.0/comment/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="location"  >\r\n    \r\n\r\n    <header class="nav-header comment-page-header">\r\n                <div class="left-button-wrap" data-role="page-back">\r\n                    <a><i class="icon icon-back"></i></a>\r\n                </div>\r\n\r\n                <h3 class="title" data-role="title">摄影师评价</h3>\r\n                \r\n                <div class="right-button-wrap">\r\n                </div>\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body"  >\r\n        <div>\r\n                <div class="comment-page">\r\n                    <div class="item-wrap">\r\n                        <div class="item">\r\n                            <div class="wrap-c">\r\n                                <div class="lbox">总体评价：</div>\r\n                                <div class="rbox">\r\n                                    <div class="start"  data-role="btn-total"><i data-role="total" class="icon icon-start-l-g"></i><i data-role="total"  class="icon icon-start-l-g"></i><i  data-role="total" class="icon icon-start-l-g"></i><i  data-role="total" class="icon icon-start-l-g"></i><i data-role="total"  class="icon icon-start-l-g"></i></div>\r\n                                </div>\r\n                            </div>         \r\n                        </div>\r\n                    </div>  \r\n\r\n                    <div class="item-wrap part2">\r\n\r\n                       <div class=""  data-role="role-html"></div> \r\n                       \r\n\r\n                        <div class="input-area">\r\n                                <textarea name=" " data-role="data-txt" id=" " class="textarea-class"  placeholder="亲，活动拍摄愉快吗？（140字内）"></textarea>\r\n                        </div>  \r\n                        <div class="no-name">\r\n                            \r\n                            <div class="switch-container">\r\n                                <span class="ui-switch ui-switch-off"  data-role="data-name">  <!-- ui-switch-on 开关 -->\r\n                                    <input checked="checked" class="ui-switch-checkbox" type="checkbox">\r\n                                    <span class="ui-switch-wrapper">\r\n                                        <span class="ui-switch-background"></span>\r\n                                    </span>\r\n                                    <span class="ui-switch-container">\r\n                                        <span class="ui-switch-handle"></span>\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n\r\n                            <span class="txt">匿名评价</span>\r\n                        </div>\r\n                    </div> \r\n\r\n                    <div class="btn" data-role="publish">\r\n                        <button class="ui-button ui-button-primary ui-button-size-large ui-button-block">\r\n                            <span class="ui-button-content">发表评价</span>\r\n                        </button>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n    </div>\r\n\r\n</main>';
    });
});

define("pai/wx-1.1.0/comment/tpl/cameraman-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return ' <div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">RP：</div>\r\n        <div class="rbox">\r\n            <div class="start"><i data-role="rp" class="icon icon-start-l-g"></i><i data-role="rp" class="icon icon-start-l-g"></i><i data-role="rp"  class="icon icon-start-l-g"></i><i data-role="rp"  class="icon icon-start-l-g"></i><i class="icon icon-start-l-g" data-role="rp"></i></div>\r\n        </div>\r\n    </div>         \r\n</div>\r\n\r\n<div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">时间观念：</div>\r\n        <div class="rbox">\r\n            <ul class="up-wrap">\r\n                <li class="" data-role="time_right" data="1"><span class="icon-wrap "><i class="icon icon-up-cancel-m"></i> 准时</span></li>\r\n                <li data-role="time_right" data="2"><span class="icon-wrap"><i class="icon icon-up-cancel-m"></i> 不准时</span></li>\r\n            </ul>        \r\n        </div>\r\n    </div>  \r\n         \r\n</div>';
    });
});

define("pai/wx-1.1.0/comment/tpl/event-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return ' <div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">组织能力：</div>\r\n        <div class="rbox">\r\n            <div class="start"><i data-role="event_zjnl" class="icon icon-start-l-g"></i><i data-role="event_zjnl" class="icon icon-start-l-g"></i><i data-role="event_zjnl" class="icon icon-start-l-g"></i><i data-role="event_zjnl" class="icon icon-start-l-g"></i><i  data-role="event_zjnl" class="icon icon-start-l-g"></i></div>\r\n        </div>\r\n    </div>         \r\n</div>\r\n\r\n\r\n <div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">模特水平：</div>\r\n        <div class="rbox">\r\n            <div class="start"><i data-role="event_mtsp" class="icon icon-start-l-g"></i><i data-role="event_mtsp" class="icon icon-start-l-g"></i><i data-role="event_mtsp" class="icon icon-start-l-g"></i><i data-role="event_mtsp" class="icon icon-start-l-g"></i><i  data-role="event_mtsp" class="icon icon-start-l-g"></i></div>\r\n        </div>\r\n    </div>         \r\n</div>\r\n\r\n';
    });
});

define("pai/wx-1.1.0/comment/tpl/model-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return ' <div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">表现力：</div>\r\n        <div class="rbox">\r\n            <div class="start"><i class="icon icon-start-l-g" data-role="bxl"></i><i data-role="bxl"  class="icon icon-start-l-g"></i><i data-role="bxl" class="icon icon-start-l-g"></i><i data-role="bxl" class="icon icon-start-l-g"></i><i class="icon icon-start-l-g" data-role="bxl"></i></div>\r\n        </div>\r\n    </div>         \r\n</div>\r\n\r\n<div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">真实性</div>\r\n        <div class="rbox">\r\n            <ul class="up-wrap">\r\n                <li class="" data-role="zsx" data="1"><span class="icon-wrap "><i class="icon icon-up-cancel-m"></i> 真实</span></li>\r\n                <li data-role="zsx" data="2"><span class="icon-wrap"><i class="icon icon-up-cancel-m"></i> 不真实</span></li>\r\n            </ul>        \r\n        </div>\r\n    </div>  \r\n         \r\n</div>\r\n\r\n\r\n<div class="item">\r\n    <div class="wrap-c">\r\n        <div class="lbox">时间观念：</div>\r\n        <div class="rbox">\r\n            <ul class="up-wrap">\r\n                <li class="" data-role="time_right" data="1"><span class="icon-wrap "><i class="icon icon-up-cancel-m"></i> 准时</span></li>\r\n                <li data-role="time_right" data="2"><span class="icon-wrap"><i class="icon icon-up-cancel-m"></i> 不准时</span></li>\r\n            </ul>        \r\n        </div>\r\n    </div>  \r\n         \r\n</div>';
    });
});

/**
 * 首页 - 留言列表
 * 汤圆 
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/comment/list/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/comment/list/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/comment/list/collection-debug", "pai/wx-1.1.0/comment/list/model-debug", "pai/wx-1.1.0/common/collection-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var list_view = require("pai/wx-1.1.0/comment/list/view-debug");
    var list_collection = require("pai/wx-1.1.0/comment/list/collection-debug");
    page_control.add_page([ function() {
        return {
            title: "用户评价",
            route: {
                "comment/list/:role/:id(/:is_can_back)": "comment/list"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var role = route_params_arr[0];
                var id = route_params_arr[1];
                var is_can_back = utility.int(route_params_arr[2]);
                if (is_can_back) {
                    // 设置该状态下Android页面返回禁止
                    utility.set_no_page_back(utility.getHash());
                }
                var from_app = utility.get_url_params(window.location.search, "from_app");
                var collection = new list_collection({
                    role: role,
                    id: id
                });
                var list_view_obj = new list_view({
                    from_app: utility.int(from_app),
                    is_can_back: is_can_back,
                    collection: collection,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 首页 - 留言列表
 * 汤圆
 */
define("pai/wx-1.1.0/comment/list/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var list = require("pai/wx-1.1.0/comment/list/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var itemTpl = require("pai/wx-1.1.0/comment/list/tpl/item-debug.handlebars");
    var load_more = require("pai/wx-1.1.0/widget/load_more/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var list_view = View.extend({
        attrs: {
            template: list
        },
        events: {
            swiperight: function() {
                var self = this;
                if (self.num == 0) {
                    page_control.back();
                }
            },
            "tap [data-role=page-back]": function(ev) {
                // page_control.navigate_to_page("mine");
                var self = this;
                self.go_back(self.num);
            },
            "tap [data-role=load-more-container-v2]": function(ev) {
                var self = this;
                self.get_more();
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.collection.on("reset", self._reset, self).on("add", self._add_one, self).on("before:fetch", function(response, xhr) {
                self.$load_more_container_v2.find("i").removeClass("fn-hide");
                self.$load_txt.html("加载中...");
                self.$load_more_container_v2.find(".icon-spinner").addClass("ui-loading-animate");
            }).on("success:fetch", function(response, xhr) {
                self.$load_more_container_v2.find(".icon-spinner").removeClass("ui-loading-animate");
                self._render_comment(response, xhr);
                self.$load_txt.html("点击加载更多...");
                self.$load_more_container_v2.find("i").addClass("fn-hide");
            }).on("complete:fetch", function(xhr, status) {});
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                self._setup_scroll();
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            }).once("render", self._render_after, self);
            self._setup_scroll();
            self.view_scroll_obj.refresh();
        },
        /**
         * 根据来路判断返回
         * @private
         */
        go_back: function(num) {
            var self = this;
            switch (num) {
              case 0:
                page_control.back();
                break;

              case 1:
                console.log(self.from_app);
                if (self.from_app) {
                    App.app_back();
                } else {
                    page_control.navigate_to_page("mine/payment_no_" + new Date().getTime());
                }
                break;
            }
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {});
            self.view_scroll_obj = view_scroll_obj;
        },
        _reset: function() {
            var self = this;
            self.collection.length && self.collection.each(self._add_one, self);
        },
        _add_one: function(model) {
            var self = this;
            self._render_queue.push(model.toJSON());
            return self;
        },
        /**
         * 安装加载更多按钮
         * @private
         */
        // _setup_load_more: function()
        // {
        //     var self = this;
        //     self.load_more_btn = new load_more(
        //     {
        //         parentNode: self.$load_more_container
        //     }).render();
        // },
        // _scroll_check: function()
        // {
        //     var self = this;
        //     if (!self.$load_more_container || !self._visible || !self.collection.has_next_page)
        //     {
        //         return;
        //     }
        //     var pos = self.$load_more_container.position();
        //     if (pos.top < self._viewportHeight)
        //     {
        //         self.get_more();
        //     }
        // },
        _render_comment: function(response, xhr) {
            var self = this;
            var render_queue = self._render_queue;
            // 没有数据的时候，直接return
            if (render_queue.length == 0) {
                self.abnormal_view = new abnormal({
                    templateModel: {
                        content_height: utility.get_view_port_height("all") - 45
                    },
                    parentNode: self.$item_wrap
                }).render();
                //m_alert.show('暂时没有数据！','error',{delay:2000});
                //self.$container.addClass('fn-hide');
                self.$load_more_container_v2.hide();
                return;
            }
            // 判断是否有下一页
            if (self.collection.has_next_page) {
                self.$load_more_container_v2.show();
            } else {
                self.$load_more_container_v2.hide();
            }
            var htmlStr = itemTpl({
                datas: render_queue
            });
            // 判断调用重新加载还是插入方法
            var method = xhr.reset ? "html" : "append";
            self.$item_wrap[method](htmlStr);
            //self.$item_wrap[method](htmlStr);
            //self.trigger('update_list',response,xhr);
            //self.$item_wrap.html(htmlStr);
            //self.trigger('updateList', response, xhrOptions);
            self._render_queue = [];
            self.view_scroll_obj.refresh();
        },
        _render_after: function() {
            var self = this;
            self.collection.get_list(1);
        },
        /**
         * 加载更多
         */
        get_more: function() {
            var self = this;
            var current_page = self.collection.get_current_page();
            self.collection.get_list(++current_page);
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 渲染队列
            self._render_queue = [];
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$hot_city_container = self.$("[data-role=hot-city-container]");
            self.$item_wrap = self.$("[data-role=item-data]");
            self.$load_more_container = self.$("[data-role=load-more-container]");
            // 加载更多容器
            self.$load_more_container_v2 = self.$("[data-role=load-more-container-v2]");
            // 加载更多容器
            self.$load_txt = self.$("[data-role=load-txt]");
            self.from_app = self.get("from_app");
            self.num = self.attrs.is_can_back;
            // console.log(self.num);
            // 安装事件
            self._setup_events();
        },
        /**
         * 重新加载数据
         */
        refresh: function() {
            var self = this;
            self.collection.get_list(1);
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = list_view;
});

define("pai/wx-1.1.0/comment/list/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="">\r\n\r\n    <header class="nav-header comment-page-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a ><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">用户评价</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body secondary"   >\r\n        <div>\r\n            <div class="comment-list-page">\r\n                    <div class="item-wrap" data-role="item-data">\r\n                    </div>\r\n\r\n                   <!-- <div class="ui-btn-refresh"  data-role="load-more-container"  >\r\n                        <i class="icon icon-spinner "></i> 加载更多... \r\n                        ui-loading-animate  刷新中加css名\r\n                    </div> -->\r\n\r\n                    <div class="ui-btn-refresh  " data-role="load-more-container-v2">\r\n                        <i class="icon icon-spinner  fn-hide"></i> <span class="load-txt" data-role="load-txt">点击加载更多...</span>  <!-- ui-loading-animate -->\r\n                    </div>\r\n\r\n                    <!-- <div class="space-bottom"></div> -->\r\n\r\n                </div>\r\n        </div>\r\n    </div>\r\n\r\n</main>';
    });
});

define("pai/wx-1.1.0/comment/list/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, self = this, functionType = "function", escapeExpression = this.escapeExpression;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += ' \r\n        <div class="item">\r\n            <div class="box1">\r\n                <div class="lbox fldi">';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                <div class="rbox fldi">\r\n                    ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.stars_list, {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n                </div>\r\n            </div>\r\n            <div class="box2">\r\n                ';
            if (helper = helpers.comment) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.comment;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n            </div>\r\n            <p class="time">';
            if (helper = helpers.add_time) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.add_time;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</p>\r\n        </div>\r\n    ";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1;
            buffer += " \r\n                        ";
            stack1 = helpers["if"].call(depth0, depth0 && depth0.is_red, {
                hash: {},
                inverse: self.program(5, program5, data),
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            return buffer;
        }
        function program3(depth0, data) {
            return '\r\n                            <i class="icon icon-stat-s-y"></i>\r\n                        ';
        }
        function program5(depth0, data) {
            return '\r\n                            <i class="icon icon-stat-s-g"></i>\r\n                        ';
        }
        buffer += "\r\n    ";
        stack1 = helpers.each.call(depth0, depth0 && depth0.datas, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n\r\n\r\n      ";
        return buffer;
    });
});

define("pai/wx-1.1.0/comment/list/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/comment/list/model-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var model = require("pai/wx-1.1.0/comment/list/model-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    module.exports = collection.extend({
        model: model,
        url: global_config.ajax_url.get_comment,
        has_next_page: false,
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, options) {
                if (options.reset) {
                    // 设置页数
                    self.set_current_page(1);
                }
                self._fetch_xhr = xhr;
                self.set_state("sending");
            }).on("success:fetch", function(response, options) {
                /// 更新当前页数
                if (!response.code && !options.reset) {
                    var current_page = self.get_current_page();
                    self.set_current_page(++current_page);
                }
                self.has_next_page = response.result_data.has_next_page;
            }).on("complete:fetch", function(xhr, status) {
                self.set_state("complete");
                delete self._fetch_xhr;
            });
        },
        parse: function(response) {
            if (response.result_data) {
                return response.result_data.list;
            }
            return response;
        },
        initialize: function(options) {
            var self = this;
            self.id = options.id;
            self._setup_events();
            self.role = options.role;
        },
        get_attrs: function() {
            var self = this;
            return self.attrs;
        },
        set_attrs: function(data) {
            var self = this;
            self.attrs = $.extend({}, self.attrs, data);
        },
        /**
         * 获取状态
         */
        get_state: function() {
            var self = this;
            return self._state || false;
        },
        /**
         * 设置状态
         * @param state
         */
        set_state: function(state) {
            var self = this;
            self._state = state;
        },
        /**
         * 获取当前页数
         */
        get_current_page: function() {
            var self = this;
            return this._curren_page || 1;
        },
        /**
         * 设置当前页数
         * @param page
         */
        set_current_page: function(page) {
            var self = this;
            this._curren_page = page;
        },
        /**
         * 获取请求参数
         */
        get_rqs_params: function() {
            var self = this;
            return self._rqs_params || {};
        },
        /**
         * 设置请求参数
         * @param data
         */
        get_list: function(page) {
            var self = this;
            if (self.get_state() == "sending") {
                // 发送中状态不做重复请求
                return;
            }
            if (page < 1) {
                // 非法页数
                throw new Error("page is invalid");
            }
            self.fetch({
                url: self.url,
                remove: page == 1,
                reset: page == 1,
                data: {
                    page: page,
                    type: self.role,
                    type_id: self.id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    m_alert.show("请求发送中...", "loading", {
                        delay: 1e3
                    });
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    m_alert.show("请求发送失败，请重试", "error", {
                        delay: 1e3
                    });
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 首页 - 留言列表
 * 汤圆 
 */
define("pai/wx-1.1.0/comment/list/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "name",
        "default": {
            name: "",
            start: "",
            content: "",
            time: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        }
    });
});

/**
 * 基础页面框架
 * 汤圆  
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/rank/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/rank/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/rank/collection-debug", "pai/wx-1.1.0/common/collection-debug", "pai/wx-1.1.0/rank/model-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    //当前页引用
    var current_page_view = require("pai/wx-1.1.0/rank/view-debug");
    // var model = require('./model');
    var current_page_collection = require("pai/wx-1.1.0/rank/collection-debug");
    page_control.add_page([ function() {
        return {
            title: "模特榜",
            route: {
                "rank/:type": "rank"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                // 传递参数
                var type = route_params_arr[0];
                self.collection = new current_page_collection({
                    type: type
                });
                self.view = new current_page_view({
                    type: type,
                    collection: self.collection,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/rank/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    // var Scroll = require('../common/scroll'); //new_iscroll 原生
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    //new_iscroll 方法
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    //当前页引用
    var current_main_template = require("pai/wx-1.1.0/rank/tpl/main-debug.handlebars");
    var item_tpl = require("pai/wx-1.1.0/rank/tpl/item-debug.handlebars");
    var top_3 = require("pai/wx-1.1.0/rank/tpl/top_3-debug.handlebars");
    var current_view = View.extend({
        attrs: {
            template: current_main_template
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                page_control.back();
            },
            "tap [data-role=btn-get-more]": function(ev) {
                var self = this;
                self.get_more();
            },
            "tap [data-role=go_url]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var user_id = $cur_btn.attr("user-id");
                page_control.navigate_to_page("model_card/" + user_id);
            },
            "tap [data-role=icon_display]": function(ev) {
                //排行榜说明跳转
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var key = $cur_btn.attr("key");
                page_control.navigate_to_page("mine/explain/" + key);
            }
        },
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {
            var self = this;
            //collection操作
            self.collection.on("reset", self._reset, self).on("add", self._add_one, self).on("before:fetch", function(response, xhr) {
                m_alert.show("加载中...", "loading");
            }).on("success:fetch", function(response, xhr) {
                self.render_html(response, xhr);
            }).on("error:fetch", function(response, xhr) {
                m_alert.show("网络异常", "error", {
                    delay: 1e3
                });
            }).on("complete:fetch", function(xhr, status) {});
            //当前view 操作
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                }
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            }).once("render", self.render_after, self);
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 数据参数
            self.type = self.get("type");
            // 地区id
            var loc;
            if (utility.storage.get("location").location_id) {
                loc = utility.storage.get("location").location_id;
            } else {
                loc = 0;
            }
            self.loc = loc;
            // 渲染队列
            self._render_queue = [];
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$get_more = self.$("[data-role=btn-get-more]");
            //加载更多按钮
            self.$item_wrap = self.$("[data-role=item-wrap]");
            self.$title = self.$("[data-role=title]");
            self.$data_top_3 = self.$("[data-role=data_top_3]");
            self.$data_top_7 = self.$("[data-role=data_top_7]");
            self.$icon_display = self.$("[data-role=icon_display]");
            // 安装事件
            self.setup_events();
            // 安装滚动条
            self._setup_scroll();
            //翻页加载完成控制
            self.fetching = false;
        },
        /**
         * 渲染模板
         * @param response
         * @param options
         * @private
         */
        render_html: function(response, xhr) {
            var self = this;
            //top3  计算图片大小，适应屏幕
            self.img_max_w_top = Math.floor((utility.get_view_port_width() - 40) / 3);
            self.img_max_h_top = Math.floor(self.img_max_w_top / 3 * 4);
            self.img_max_w_top = self.img_max_w_top - 2;
            //减去2像素边框
            //top7  计算图片大小，适应屏幕
            self.img_max_w_7 = Math.floor(utility.get_view_port_width() * .195);
            self.img_max_h_7 = Math.floor(self.img_max_w_7 / 3 * 4);
            self.img_max_w_7 = self.img_max_w_7 - 2;
            //减去2像素边框
            var render_queue_list = self._render_queue.list;
            self.title = render_queue_list.title;
            self.icon_display = render_queue_list.key;
            //是否显示标题右边icon
            if (self.icon_display && self.icon_display !== "") {
                self.$icon_display.attr("key", self.icon_display);
                self.$icon_display.removeClass("fn-hide");
            }
            self.$title.html(self.title);
            // 没有数据的时候，直接return
            if (!render_queue_list.list && !render_queue_list.top_list) {
                self.abnormal_view = new abnormal({
                    templateModel: {
                        content_height: utility.get_view_port_height("all") - 45
                    },
                    parentNode: self.$item_wrap
                }).render();
                self.$get_more.hide();
                return;
            }
            // 判断是否有下一页
            if (self.collection.has_next_page) {
                self.$get_more.show();
            } else {
                self.$get_more.hide();
            }
            //首次渲染
            if (xhr.reset) {
                //前三处理
                // var data_top_3 =  render_queue.slice(0,3);
                // $.each(data_top_3, function(i, val) {
                //     val.index = i+1 ;
                // });
                // var html_top_3 = top_3(
                // {
                //     data: data_top_3
                // });
                // self.$data_top_3.html(html_top_3);
                // 
                // 
                // 头部列表
                if (render_queue_list.top_list) {
                    var data_top_3 = render_queue_list.top_list;
                    $.each(data_top_3, function(i, val) {
                        val.index = i + 1;
                    });
                    var html_top_3 = top_3({
                        data: data_top_3,
                        img_max_w: self.img_max_w_top,
                        img_max_h: self.img_max_h_top
                    });
                    self.$data_top_3.html(html_top_3);
                }
                // 前7处理
                // var len = render_queue.length ;
                // var data_top_7 =  render_queue.slice(3,len);
                // $.each(data_top_7, function(i, val) {
                //     val.index = i+4 ;
                // });
                // var html_str = item_tpl(
                // {
                //     data: data_top_7
                // });
                // self.$data_top_7.html(html_str);
                // self.view_scroll_obj.scrollTo(0,0); //解决后加载，第一次显示的问题
                if (render_queue_list.list) {
                    var data_top_7 = render_queue_list.list;
                    var html_str = item_tpl({
                        data: data_top_7,
                        img_max_w: self.img_max_w_7,
                        img_max_h: self.img_max_h_7
                    });
                    self.$data_top_7.html(html_str);
                    self.view_scroll_obj.scrollTo(0, 0);
                }
            } else {
                // $.each(render_queue, function(i, val) {
                //     val.index = i+11 ;
                // });
                // 
                if (render_queue_list.list) {
                    var render_queue = render_queue_list.list;
                    var html_str = item_tpl({
                        data: render_queue,
                        img_max_w: self.img_max_w_7,
                        img_max_h: self.img_max_h_7
                    });
                    // 判断调用重新加载还是插入方法
                    var method = xhr.reset ? "html" : "append";
                    self.$data_top_7[method](html_str);
                }
            }
            self.trigger("update_list", response, xhr);
            self.fetching = true;
        },
        render_after: function() {
            var self = this;
            //设置参数
            self.collection.set_rqs_params({
                rank_id: self.type,
                page: 1
            });
            //发送请求
            self.collection.get_list(1);
        },
        /**
         * 加载更多
         */
        get_more: function() {
            var self = this;
            var current_page = self.collection.get_current_page();
            //设置参数
            self.collection.set_rqs_params({
                rank_id: self.type,
                page: ++current_page
            });
            self.collection.get_list(++current_page);
        },
        /**
         * 安装滚动条
         * @private
         */
        // _setup_scroll: function()
        // {
        //     var self = this;
        //     var view_scroll_obj = Scroll(self.$container,
        //     {
        //         is_hide_dropdown: true ,
        //         lazyLoad : true // 后加载 
        //     });
        //     self.view_scroll_obj = view_scroll_obj;
        // },
        // 滚动条移动加载更多
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true,
                lazyLoad: true
            });
            view_scroll_obj.on("scrollMoveAfter", function() {
                var _self = this;
                //区分当前滚动条对象
                if (_self.maxScrollY - _self.y > 100) //滚动条移动距离加载
                {
                    //有下一页时才加载
                    if (self.collection.has_next_page && self.fetching) //fetching 必须在第一次页面渲染完成 才能继续加载
                    {
                        self.get_more();
                        self.fetching = false;
                    }
                }
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.refresh();
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _reset: function() {
            var self = this;
            self.collection.length && self.collection.each(self._add_one, self);
        },
        _add_one: function(model) {
            var self = this;
            self._render_queue.push(model.toJSON());
            self._render_queue = self._render_queue[0];
            return self;
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = current_view;
});

define("pai/wx-1.1.0/rank/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="location ">\r\n\r\n    <header class="nav-header rank-v2-header nav-header-special-pop">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title" data-role="title"></h3>\r\n\r\n\r\n\r\n        <div class="right-button-wrap fn-hide" data-role="icon_display">\r\n            <i class="icon i-min-40x40"></i>\r\n        </div>\r\n\r\n\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body"  >\r\n        <div>\r\n\r\n            <div class="rank-v2">\r\n                    \r\n                <div data-role="data_top_3">\r\n                    \r\n                </div>\r\n\r\n                <div class="p2th">\r\n                    <div class="item-wrap" data-role="data_top_7">\r\n                        \r\n\r\n                    </div>\r\n\r\n                    <div class="btn" data-role="btn-get-more">加载更多</div>\r\n                </div>\r\n\r\n             \r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n\r\n</main>';
    });
});

define("pai/wx-1.1.0/rank/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n\r\n    ";
            stack1 = helpers.each.call(depth0, depth0 && depth0.data, {
                hash: {},
                inverse: self.noop,
                fn: self.programWithDepth(2, program2, data, depth0),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n";
            return buffer;
        }
        function program2(depth0, data, depth1) {
            var buffer = "", stack1, helper;
            buffer += ' \r\n        <div class="item">\r\n\r\n            <div class="lbox">\r\n\r\n\r\n                <div class="num-wrap-box">\r\n                    <div class="num">';
            if (helper = helpers.rank) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.rank;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</div>\r\n                    <div class="allow-top">\r\n                    </div>\r\n                    <div class="allow-bottom">\r\n                    </div>\r\n                </div>\r\n\r\n                <i class="img image-img img-box fldi" data-lazyload="';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" user-id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="go_url" style="background-size:cover ;width:' + escapeExpression((stack1 = depth1 && depth1.img_max_w, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "px;height:" + escapeExpression((stack1 = depth1 && depth1.img_max_h, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + 'px;"></i>\r\n\r\n                <div class="txt-box fldi">\r\n                    <p class="p1">';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</p>\r\n                    <p class="p2">';
            if (helper = helpers.style) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.style;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</p>\r\n                </div> \r\n            </div>\r\n            <div class="rbox">\r\n                <div class="txt"><span class="cor1">';
            if (helper = helpers.num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span> <span class="cor2">';
            if (helper = helpers.unit) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.unit;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</span></div>\r\n            </div>\r\n        </div>\r\n    ";
            return buffer;
        }
        buffer += "\r\n";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n      ";
        return buffer;
    });
});

define("pai/wx-1.1.0/rank/tpl/top_3-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n<div class="p1th">\r\n    <div class="item-wrap" data-role="data_top_3">\r\n        ';
            stack1 = helpers.each.call(depth0, depth0 && depth0.data, {
                hash: {},
                inverse: self.noop,
                fn: self.programWithDepth(2, program2, data, depth0),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    </div>\r\n</div>\r\n";
            return buffer;
        }
        function program2(depth0, data, depth1) {
            var buffer = "", stack1, helper;
            buffer += ' \r\n            <div class="item">\r\n\r\n                <div class="img-box-wrap" style="width:' + escapeExpression((stack1 = depth1 && depth1.img_max_w, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "px;height:" + escapeExpression((stack1 = depth1 && depth1.img_max_h, 
            typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + 'px;">\r\n                    <div class="allow allow-';
            if (helper = helpers.index) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.index;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                        <i class="icon one-18x18  icon-top-';
            if (helper = helpers.index) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.index;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ' "></i>\r\n                    </div>\r\n\r\n                    <i class="img image-img imgbox loaded" user-id="';
            if (helper = helpers.user_id) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_id;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '" data-role="go_url"  style=" background: url(';
            if (helper = helpers.user_icon) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.user_icon;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + ');background-size:cover">\r\n                    </i>\r\n                    <div class="fade-box">\r\n                        ';
            if (helper = helpers.nickname) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.nickname;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="txt"><span class="cor1">';
            if (helper = helpers.num) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.num;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span> <span class="cor2">';
            if (helper = helpers.unit) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.unit;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '</span></div>\r\n                <div class="tags">';
            if (helper = helpers.style) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.style;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</div>\r\n            </div>\r\n        ";
            return buffer;
        }
        buffer += "\r\n\r\n";
        stack1 = helpers["if"].call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n\r\n\r\n      ";
        return buffer;
    });
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/rank/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "utility/backbone/1.1.2/backbone-debug", "matcha/cookie/1.0.0/cookie-debug", "pai/wx-1.1.0/rank/model-debug" ], function(require, exports, module) {
    //基础框架
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var cookie = require("matcha/cookie/1.0.0/cookie-debug");
    //当前页引用
    var model = require("pai/wx-1.1.0/rank/model-debug");
    module.exports = collection.extend({
        model: model,
        url: global_config.ajax_url.get_model_rank_list,
        setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, options) {
                if (options.reset) {
                    // 设置页数
                    self.set_current_page(1);
                }
                self._fetch_xhr = xhr;
                self.set_state("sending");
            }).on("success:fetch", function(response, options) {
                /// 更新当前页数
                if (!response.code && !options.reset) {
                    var current_page = self.get_current_page();
                    self.set_current_page(++current_page);
                }
                self.has_next_page = response.result_data.has_next_page;
            }).on("complete:fetch", function(xhr, status) {
                self.set_state("complete");
                delete self._fetch_xhr;
            });
        },
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function(options) {
            var self = this;
            self.setup_events();
            self.set_attrs(options);
            self.tyle = options.type;
        },
        get_attrs: function() {
            var self = this;
            return self.attrs;
        },
        set_attrs: function(data) {
            var self = this;
            self.attrs = $.extend({}, self.attrs, data);
        },
        /**
         * 获取状态
         */
        get_state: function() {
            var self = this;
            return self._state || false;
        },
        /**
         * 设置状态
         * @param state
         */
        set_state: function(state) {
            var self = this;
            self._state = state;
        },
        /**
         * 获取当前页数
         */
        get_current_page: function() {
            var self = this;
            return this._curren_page || 1;
        },
        /**
         * 设置当前页数
         * @param page
         */
        set_current_page: function(page) {
            var self = this;
            this._curren_page = page;
        },
        /**
         * 获取请求参数
         */
        get_rqs_params: function() {
            var self = this;
            return self._rqs_params || {};
        },
        /**
         * 设置请求参数
         * @param data
         */
        set_rqs_params: function(data) {
            var self = this;
            if (cookie.get("yue_location_id")) {
                data.location_id = cookie.get("yue_location_id");
            }
            self._rqs_params = $.extend({}, self._rqs_params, data);
        },
        //获取数据请求
        get_list: function(page) {
            var self = this;
            var self = this;
            if (self.get_state() == "sending") {
                // 发送中状态不做重复请求
                return;
            }
            if (page < 1) {
                // 非法页数
                throw new Error("page is invalid");
            }
            self.fetch({
                url: self.url,
                remove: page == 1,
                reset: page == 1,
                data: self.get_rqs_params(),
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/rank/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    //基础框架
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        // idAttribute : 'location_id',
        "default": {},
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        // 初始化，传递参数
        initialize: function(options) {
            var self = this;
            self.setup_events();
        }
    });
});

/**
 * 首页 - 城市选择 基础页面框架
 * 汤圆 2014.8.18
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/model_date/agreement/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/model_date/agreement/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var agreement_view = require("pai/wx-1.1.0/model_date/agreement/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "拍摄协议",
            route: {
                "model_date/agreement": "agreement"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                self.agreement_view_obj = new agreement_view({
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/10/27.
 *
 * 活动状态详情
 */
define("pai/wx-1.1.0/mine/info/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/info/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/mine/info/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var info_view = require("pai/wx-1.1.0/mine/info/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var info_model = require("pai/wx-1.1.0/mine/info/model-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "外拍活动",
            route: {
                "mine/info/:type/:enroll_id": "mine/info"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new info_model({});
                var view = new info_view({
                    model: model,
                    parentNode: self.$el,
                    params_arr: route_params_arr
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/10/27.
 *
 * 活动状态详情view
 */
define("pai/wx-1.1.0/mine/info/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var info_tpl = require("pai/wx-1.1.0/mine/info/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var insert_tpl = require("pai/wx-1.1.0/mine/info/tpl/insert-debug.handlebars");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var qr_tpl = require("pai/wx-1.1.0/act/security/tpl/big_qr_code-debug.handlebars");
    var new_iscroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var info_view = View.extend({
        attrs: {
            template: info_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="title"]': function(ev) {
                var $cur_btn = $(ev.currentTarget);
                var event_id = $cur_btn.attr("data-event_id");
                if (event_id != 0) {
                    //从活动详情页点击 带参数 隐藏“报名”按钮 nolest 2015-1-30
                    page_control.navigate_to_page("act/detail/" + event_id, {
                        form_info_title: true
                    });
                }
            },
            'tap [data-role="finish-tap-right"]': function(ev) {
                //活动结束
                var self = this;
                if (confirm("是否结束活动")) {
                    self.model.set_event_end_act(self.event_id);
                }
            },
            'tap [data-role="cancel-tap-right"]': function() {
                //活动取消
                var self = this;
                if (confirm("是否取消活动")) {
                    self.model.set_event_cancel_act(self.event_id);
                }
            },
            'tap [data-role="quit-tap-right"]': function() {
                //取消参加
                var self = this;
                if (confirm("是否取消报名")) {
                    self.model.cancel_act(self.enroll_id);
                }
            },
            'tap [data-role="act-go-pay"]': function(ev) {
                //去支付
                var self = this;
                page_control.navigate_to_page("act/payment/" + self.event_id + "/" + self.enroll_id);
            },
            'tap [data-role="act-show-qr"]': function(ev) {
                var self = this;
                //出示二维码
                m_alert.show("加载二维码中...", "loading");
                utility.ajax_request({
                    url: global_config.ajax_url.get_act_ticket_detail,
                    data: {
                        event_id: self.event_id,
                        enroll_id: self.enroll_id
                    },
                    success: function(data) {
                        var qr_arr = data.result_data.data;
                        if (qr_arr.length == 0) {
                            m_alert.show("二维码不存在", "error");
                            return;
                        }
                        m_alert.hide({
                            delay: -1
                        });
                        // 放大二维码数据整合
                        var pic_w_h = Math.ceil(utility.get_view_port_width() - 90);
                        //滚动外框宽高
                        var out_height = pic_w_h + 35;
                        for (var i = 0; i < qr_arr.length; i++) {
                            qr_arr[i] = {
                                code: qr_arr[i].code,
                                qr_code: qr_arr[i].qr_code,
                                pic_w_h: pic_w_h,
                                out_height: out_height
                            };
                        }
                        // 数据结构
                        var data = {
                            qr_code_arr: qr_arr,
                            pic_w_h: pic_w_h,
                            out_height: out_height
                        };
                        var html_str = qr_tpl(data);
                        var interval_num;
                        // 放大二维码弹出层
                        var dialog = new Dialog({
                            content: html_str
                        }).on("after:show", function() {
                            interval_num = setInterval(function() {
                                utility.ajax_request({
                                    url: global_config.ajax_url.get_scan_code,
                                    data: {
                                        code: qr_arr[0].code
                                    },
                                    success: function(data) {
                                        if (data.result_data.data == 1) {
                                            clearInterval(interval_num);
                                            dialog.hide();
                                            self._refresh();
                                            console.log("已扫");
                                        } else if (data.result_data.data == 0) {
                                            console.log("未扫");
                                        }
                                    },
                                    error: function(data) {
                                        console.log("网络超时");
                                    }
                                });
                            }, 1500);
                        }).on("after:hide", function() {
                            clearInterval(interval_num);
                        }).show();
                        var pic_view_scroll_obj = new_iscroll(dialog.$("[data-role=qr]"), {
                            lazyLoad: true
                        });
                        pic_view_scroll_obj.refresh();
                    },
                    error: function() {
                        m_alert.show("网络异常", "error");
                    }
                });
            },
            'tap [data-role="act-go-commit"]': function(ev) {
                //去评价
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                page_control.navigate_to_page("comment/event/" + self.event_id + "/0", {
                    table_id: self.table_id
                });
            },
            'tap [data-role="act-go-scan"]': function(ev) {
                //扫描
                if (App.isPaiApp) {
                    App.qrcodescan();
                }
            }
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            self.model.on("success:fetch", function(response, options) {
                console.log(response.result_data.data);
                self._show_parts(response.result_data.data);
            }).on("error:fetch", function(response, options) {
                m_alert.show("网络异常", "error", {
                    delay: 800
                });
            }).on("success:pub_fetch", function(response, options) {
                console.log(response.result_data.data);
                self._show_parts(response.result_data.data);
            }).on("error:pub_fetch", function(response, options) {
                m_alert.show("网络异常", "error", {
                    delay: 800
                });
            }).on("before:set_event_end_act:fetch", function(response, options) {
                m_alert.show("加载中...", "loading", {
                    delay: 800
                });
            }).on("success:set_event_end_act:fetch", function(response, options) {
                var responses = response.result_data;
                var msg = responses.msg;
                if (responses.code > 0) {
                    m_alert.show(msg, "right", {
                        delay: 1e3
                    });
                    self._refresh();
                } else {
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:set_event_end_act:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:set_event_end_act:fetch", function(response, options) {}).on("before:set_event_cancel_act:fetch", function(response, options) {
                m_alert.show("加载中...", "loading", {
                    delay: 800
                });
            }).on("success:set_event_cancel_act:fetch", function(response, options) {
                var responses = response.result_data;
                var msg = responses.msg;
                if (responses.code > 0) {
                    m_alert.show(msg, "right", {
                        delay: 1e3
                    });
                    self._refresh();
                } else {
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:set_event_cancel_act:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:set_event_cancel_act:fetch", function(response, options) {}).on("before:cancel_act:fetch", function(response, options) {
                m_alert.show("发送中", "loading", {
                    delay: 800
                });
            }).on("success:cancel_act:fetch", function(response, options) {
                var msg = response.result_data.msg;
                if (response.result_data.code == 1) {
                    console.log("in");
                    m_alert.show(msg, "right", {
                        delay: 2e3
                    });
                    setTimeout(function() {
                        page_control.back();
                    }, 500);
                } else {
                    console.log("in_err");
                    m_alert.show(msg, "error", {
                        delay: 1e3
                    });
                }
            }).on("error:cancel_act:fetch", function(response, options) {
                m_alert.show("网络出错", "right", {
                    delay: 1e3
                });
            }).on("complete:cancel_act:fetch", function(response, options) {});
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container);
            self.view_scroll_obj = view_scroll_obj;
        },
        _show_parts: function(data) {
            var self = this;
            if (utility.user.get("user_id") != data.event_organizers) {
                console.log("参与者");
                //参与者
                data = $.extend(true, {}, data, {
                    joiner: true
                });
            } else {
                console.log("组织者");
                //组织者
                data = $.extend(true, {}, data, {
                    organizers: true
                });
            }
            self.event_id = data.event_id;
            self.enroll_id = data.enroll_id;
            self.table_id = data.table_id;
            // modify by hudw 2015.2.26
            // 转换图片size
            data.cover_image && (data.cover_image = utility.matching_img_size(data.cover_image, 145));
            var html = insert_tpl({
                data: data
            });
            if (data.event_finish_button) {
                self.$('[data-role="finish-tap-right"]').removeClass("fn-hide");
            }
            if (data.event_cancel_button) {
                self.$('[data-role="cancel-tap-right"]').removeClass("fn-hide");
            }
            if (data.enroll_cancel_button) {
                self.$('[data-role="quit-tap-right"]').removeClass("fn-hide");
            }
            self.$insert_container.html(html);
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="info-container"]');
            self.$insert_container = self.$('[data-role="insert-container"]');
            var arr = self.get("params_arr");
            if (arr[0] == "event") {
                //点击订单列表 我发布的
                m_alert.show("加载中", "loading", {
                    delay: 800
                });
                self.model.get_pub_info(arr[1]);
            } else if (arr[0] == "enroll") {
                //点击订单列表 待付款、已付款
                m_alert.show("加载中", "loading", {
                    delay: 800
                });
                self.model.get_info(arr[1]);
            }
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        _refresh: function() {
            var self = this;
            var arr = self.get("params_arr");
            if (arr[0] == "event") {
                //点击订单列表 我发布的
                m_alert.show("加载中", "loading", {
                    delay: 800
                });
                self.model.get_pub_info(arr[1]);
            } else if (arr[0] == "enroll") {
                //点击订单列表 待付款、已付款
                m_alert.show("加载中", "loading", {
                    delay: 800
                });
                self.model.get_info(arr[1]);
            }
            self.$("[data-tap-tap]").addClass("fn-hide");
        }
    });
    module.exports = info_view;
});

define("pai/wx-1.1.0/mine/info/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="event-info-page-main wryh">\r\n    <header class="nav-header event-info-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">活动详情</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n        <div class="right-tap fn-hide" data-role="finish-tap-right" data-tap-tap>完成活动</div>\r\n        <div class="right-tap fn-hide" data-role="cancel-tap-right" data-tap-tap>取消活动</div>\r\n        <div class="right-tap fn-hide" data-role="quit-tap-right" data-tap-tap>删除订单</div>\r\n    </header>\r\n    <div class="event-info-page-container" data-role="info-container">\r\n        <div class="warp">\r\n            <div class="refresh-container"></div>\r\n            <div class="event-info-page" data-role="insert-container">\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/mine/info/tpl/insert-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="title" data-role="title" data-event_id="' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '">\r\n        <div class="title-in">\r\n            <div class="title-pic-container">\r\n                <div class="title-pic" style="background:url(' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.cover_image), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + ');background-size:cover;background-position:50%"></div>\r\n            </div>\r\n            <div class="title-describe">\r\n                <p class="describe_title">\r\n                    ' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.event_title), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '\r\n                </p>\r\n                <p class="describe_price">\r\n                    <span>￥</span>\r\n                    <span data-role="price">\r\n                        ' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '\r\n                    </span>\r\n                    <span class="bla">/人</span>\r\n                </p>\r\n            </div>\r\n            <div class="an-arrow">\r\n                <i class="icon icon-r-16x26"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.organizers), {
                hash: {},
                inverse: self.noop,
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.joiner), {
                hash: {},
                inverse: self.noop,
                fn: self.program(13, program13, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n\r\n\r\n\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.fk_n), {
                hash: {},
                inverse: self.noop,
                fn: self.program(32, program32, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.sm_n), {
                hash: {},
                inverse: self.noop,
                fn: self.program(34, program34, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.qd), {
                hash: {},
                inverse: self.noop,
                fn: self.program(36, program36, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pj_n), {
                hash: {},
                inverse: self.noop,
                fn: self.program(38, program38, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pj), {
                hash: {},
                inverse: self.noop,
                fn: self.program(40, program40, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.qx), {
                hash: {},
                inverse: self.noop,
                fn: self.program(42, program42, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pub_qd_n), {
                hash: {},
                inverse: self.noop,
                fn: self.program(44, program44, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pub_qd), {
                hash: {},
                inverse: self.noop,
                fn: self.program(44, program44, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pub_wc), {
                hash: {},
                inverse: self.noop,
                fn: self.program(46, program46, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pub_qx), {
                hash: {},
                inverse: self.noop,
                fn: self.program(48, program48, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n";
            return buffer;
        }
        function program2(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.event_scan_button), {
                hash: {},
                inverse: self.noop,
                fn: self.program(3, program3, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n            <div class="block">\r\n                ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.scan_detail), {
                hash: {},
                inverse: self.noop,
                fn: self.program(5, program5, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n                <div class="describe-info">\r\n                    ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.add_time), {
                hash: {},
                inverse: self.noop,
                fn: self.program(7, program7, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.complete_time), {
                hash: {},
                inverse: self.noop,
                fn: self.program(9, program9, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                    ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.cancel_time), {
                hash: {},
                inverse: self.noop,
                fn: self.program(11, program11, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                </div>\r\n            </div>\r\n    ";
            return buffer;
        }
        function program3(depth0, data) {
            return '\r\n            <div class="button" data-role="act-go-scan">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                    <span class="ui-button-content"><i class="icon icon-btn-icon-sm"></i> 扫描签到</span>\r\n                </button>\r\n            </div>\r\n        ';
        }
        function program5(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                <div class="describe">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_detail), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</div>\r\n                ";
            return buffer;
        }
        function program7(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div class="describe-info-line"><span class="notice">发布时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.add_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                    ";
            return buffer;
        }
        function program9(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div class="describe-info-line"><span class="notice">完成时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.complete_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                    ";
            return buffer;
        }
        function program11(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                        <div class="describe-info-line"><span class="notice">取消时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.cancel_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                    ";
            return buffer;
        }
        function program13(depth0, data) {
            var buffer = "", stack1;
            buffer += "\r\n        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_pay_button), {
                hash: {},
                inverse: self.noop,
                fn: self.program(14, program14, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_code_button), {
                hash: {},
                inverse: self.noop,
                fn: self.program(16, program16, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n        ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_comment_button), {
                hash: {},
                inverse: self.noop,
                fn: self.program(18, program18, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n        <div class="block">\r\n            ';
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.bar_text), {
                hash: {},
                inverse: self.noop,
                fn: self.program(20, program20, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '\r\n            <div class="describe-info">\r\n                <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.order_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.pay_time), {
                hash: {},
                inverse: self.noop,
                fn: self.program(22, program22, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.scan_time), {
                hash: {},
                inverse: self.noop,
                fn: self.program(24, program24, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.phone), {
                hash: {},
                inverse: self.noop,
                fn: self.program(26, program26, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), {
                hash: {},
                inverse: self.noop,
                fn: self.program(28, program28, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n                ";
            stack1 = helpers["if"].call(depth0, (stack1 = depth0 && depth0.data, stack1 == null || stack1 === false ? stack1 : stack1.total_budget), {
                hash: {},
                inverse: self.noop,
                fn: self.program(30, program30, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += "\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n    ";
            return buffer;
        }
        function program14(depth0, data) {
            return '\r\n            <div class="button" data-role="act-go-pay">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                    <span class="ui-button-content"><i class="icon icon-btn-icon-fk"></i> 去支付</span>\r\n                </button>\r\n            </div>\r\n        ';
        }
        function program16(depth0, data) {
            return '\r\n            <div class="button" data-role="act-show-qr">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                    <span class="ui-button-content"><i class="icon icon-er-wei-ma-w"></i> 出示活动券二维码</span>\r\n                </button>\r\n            </div>\r\n        ';
        }
        function program18(depth0, data) {
            return '\r\n            <div class="button" data-role="act-go-commit">\r\n                <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                    <span class="ui-button-content"><i class="icon icon-btn-icon-pj"></i> 评价活动</span>\r\n                </button>\r\n            </div>\r\n        ';
        }
        function program20(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                <div class="describe">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.bar_text), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</div>\r\n            ";
            return buffer;
        }
        function program22(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <div class="describe-info-line"><span class="notice">付款时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.pay_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                ";
            return buffer;
        }
        function program24(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <div class="describe-info-line"><span class="notice">签到时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                ";
            return buffer;
        }
        function program26(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                ";
            return buffer;
        }
        function program28(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                ";
            return buffer;
        }
        function program30(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n                    <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n                ";
            return buffer;
        }
        function program32(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n        <div class="button fn-hide">\r\n            <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                <span class="ui-button-content"><i class="icon icon-btn-icon-fk"></i> 去支付</span>\r\n            </button>\r\n        </div>\r\n    <div class="block">\r\n        <div class="describe">待付款</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        function program34(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n        <div class="button fn-hide">\r\n            <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                <span class="ui-button-content"><i class="icon icon-er-wei-ma-w"></i> 出示活动券二维码</span>\r\n            </button>\r\n        </div>\r\n        <div class="block">\r\n            <div class="describe">已付款，准备签到</div>\r\n            <div class="describe-info">\r\n                <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line"><span class="notice">付款时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.pay_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n            </div>\r\n        </div>\r\n    ";
            return buffer;
        }
        function program36(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="block">\r\n        <div class="describe">已现场签到</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">付款时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.pay_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">签到时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        function program38(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n        <div class="button fn-hide">\r\n            <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n                <span class="ui-button-content"><i class="icon icon-btn-icon-pj"></i> 评价活动</span>\r\n            </button>\r\n        </div>\r\n    <div class="block">\r\n        <div class="describe">活动已完成</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">付款时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.pay_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">签到时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        function program40(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="block">\r\n        <div class="describe">已评价</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">付款时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.pay_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">签到时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        function program42(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n        <div class="block">\r\n            <div class="describe">已取消</div>\r\n            <div class="describe-info">\r\n                <div class="describe-info-line"><span class="notice">单号：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_id), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line tel"><span class="notice">手机号码：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.phone), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line"><span class="notice">人数：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.enroll_num), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n                <div class="describe-info-line"><span class="notice">总价：</span><span class="notice-inside">￥' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.total_budget), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n            </div>\r\n        </div>\r\n    ";
            return buffer;
        }
        function program44(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="button fn-hide">\r\n        <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block  ui-button-size-radius-large exp">\r\n            <span class="ui-button-content"><i class="icon icon-btn-icon-sm"></i> 扫描签到</span>\r\n        </button>\r\n    </div>\r\n    <div class="block">\r\n        <div class="describe">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_detail), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">发布时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.add_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        function program46(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="block">\r\n        <div class="describe">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_detail), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">发布时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.add_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">完成时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.complete_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        function program48(depth0, data) {
            var buffer = "", stack1;
            buffer += '\r\n    <div class="block">\r\n        <div class="describe">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.scan_detail), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</div>\r\n        <div class="describe-info">\r\n            <div class="describe-info-line"><span class="notice">发布时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.add_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + '</span></div>\r\n            <div class="describe-info-line"><span class="notice">取消时间：</span><span class="notice-inside">' + escapeExpression((stack1 = (stack1 = depth0 && depth0.data, 
            stack1 == null || stack1 === false ? stack1 : stack1.cancel_time), typeof stack1 === functionType ? stack1.apply(depth0) : stack1)) + "</span></div>\r\n        </div>\r\n    </div>\r\n    ";
            return buffer;
        }
        stack1 = helpers["if"].call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

/**
 * Created by nolest on 2014/10/27.
 *
 * 活动状态详情model
 */
define("pai/wx-1.1.0/mine/info/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/utility-debug", "$-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    module.exports = Backbone.Model.extend({
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {},
        get_info: function(enroll_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.get_enroll_detail_info,
                data: {
                    enroll_id: enroll_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        },
        get_pub_info: function(event_id) {
            var self = this;
            self.fetch({
                url: global_config.ajax_url.act_info,
                data: {
                    event_id: event_id,
                    is_from_my_act_list: 1
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:pub_fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:pub_fetch", response, options);
                },
                error: function(model, xhr, options) {
                    self.trigger("error:pub_fetch", model, xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:pub_fetch", xhr, status);
                }
            });
            return self;
        },
        set_event_end_act: function(event_id) {
            //组织者活动完成
            var self = this;
            self.fetch({
                url: global_config.ajax_url.set_event_end_act,
                data: {
                    event_id: event_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:set_event_end_act:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:set_event_end_act:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:set_event_end_act:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:set_event_end_act:fetch", xhr, status);
                }
            });
            return self;
        },
        //
        set_event_cancel_act: function(event_id) {
            //组织者活动完成
            var self = this;
            self.fetch({
                url: global_config.ajax_url.set_event_cancel_act,
                data: {
                    event_id: event_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:set_event_cancel_act:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:set_event_cancel_act:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:set_event_cancel_act:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:set_event_cancel_act:fetch", xhr, status);
                }
            });
            return self;
        },
        cancel_act: function(enroll_id) {
            //参与者取消参加
            var self = this;
            self.fetch({
                url: global_config.ajax_url.del_enroll_act,
                data: {
                    enroll_id: enroll_id
                },
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:cancel_act:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:cancel_act:fetch", response, options);
                },
                error: function(response, options) {
                    self.trigger("error:cancel_act:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:cancel_act:fetch", xhr, status);
                }
            });
            return self;
        }
    });
});

/**
 * 专题最终页
 *
 * hdw 2014.10.27
 */
define("pai/wx-1.1.0/topic/info/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/topic/info/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/topic/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var topic_view = require("pai/wx-1.1.0/topic/info/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var model = require("pai/wx-1.1.0/topic/model-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "专题列表",
            route: {
                "topic/:topic_id(/:is_preview)": "topic/:topic_id"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var topic_id = route_params_arr[0];
                var is_preview = route_params_arr[1] ? true : false;
                if (topic_id) {
                    var model_obj = new model();
                } else {
                    var model_obj = route_params_obj.model;
                }
                var view = new topic_view({
                    model: model_obj,
                    parentNode: self.$el,
                    topic_id: topic_id,
                    is_preview: is_preview
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 主题详情视图
 *
 * hdw 2014.10.27
 */
define("pai/wx-1.1.0/topic/info/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/WX_JSSDK-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var info_tpl = require("pai/wx-1.1.0/topic/tpl/info-debug.handlebars");
    var main_info_tpl = require("pai/wx-1.1.0/topic/tpl/main_info-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var WeiXinSDK = require("pai/wx-1.1.0/common/WX_JSSDK-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var download_tips = require("pai/wx-1.1.0/ui/download_tips/download_tips-debug.handlebars");
    var topic_list_view = View.extend({
        attrs: {
            template: main_info_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-big-img="big-img"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                if (!$cur_btn.attr("data-url")) {
                    // 当前图片
                    var cur_alumn_img = $cur_btn.attr("src");
                    var $total_alumn_img = self.$('[data-big-img="big-img"]');
                    var total_weixin_alumn_arr = [];
                    $total_alumn_img.each(function(i, obj) {
                        total_weixin_alumn_arr.push($(obj).attr("src"));
                    });
                    console.log(cur_alumn_img, total_weixin_alumn_arr);
                    if (WeixinApi.isWexXin()) {
                        WeixinApi.imagePreview(cur_alumn_img, total_weixin_alumn_arr);
                        return;
                    }
                }
            },
            //导航跳转
            'tap [data-role="nav-page"]': function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                var url_style = $cur_btn.attr("data-url-style");
                var data_url = $cur_btn.attr("data-url");
                var no_jump = $cur_btn.attr("data-no-jump");
                if (utility.is_other_browser_or_not_weixin_yueyue()) {
                    return;
                }
                if (no_jump) {
                    if (!utility.user.get("role") == "cameraman") {}
                }
                switch (url_style) {
                  case "inside":
                    page_control.navigate_to_page(data_url);
                    break;

                  case "outside":
                    window.location.href = data_url;
                    break;

                  case "ohter":
                    //
                    break;
                }
            },
            'tap [data-role="other_browser_tips"]': function() {
                var self = this;
                self._run_jump_app();
            }
        },
        _run_jump_app: function() {
            var self = this;
            var no_wifi_url = encodeURIComponent("http://yp.yueus.com/mobile/app?from_app=1#topic/" + self.model.get("id"));
            var wifi_url = encodeURIComponent("http://yp-wifi.yueus.com/mobile/app?from_app=1#topic/" + self.model.get("id"));
            utility.judge_go_to_app({
                url: "yueyue://goto?type=inner_web&url=" + no_wifi_url + "&wifi_url=" + wifi_url,
                before_send: function() {
                    m_alert.show("正在进行跳转到约yue App...", "loading", {
                        delay: 3e3
                    });
                },
                has_app_callback: function() {},
                has_not_app_callback: function() {
                    m_alert.hide();
                    self.dialog_tips.show();
                }
            });
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.model.on("before:info:fetch", function(response) {}).on("success:info:fetch", function(response) {
                self._render_topic_info();
            }).on("error:info:fetch", function(response) {});
            self.on("update_list", function() {
                if (!self.$scroll_view_obj) {
                    self._setup_scroll();
                    self.$scroll_view_obj.scrollTo(0, 0);
                    self.$scroll_view_obj.refresh();
                    return;
                }
                self.$scroll_view_obj.refresh();
            });
        },
        _set_WX_share: function(data) {
            var self = this;
            var loc = window.location;
            if (WeiXinSDK.isWeiXin() && global_config.WeiXin_Version >= "6.0.2") //(global_config.WeiXin_Version.indexOf('6.0.2') != -1|| global_config.WeiXin_Version.indexOf('6.1') != -1)
            {
                self.WeiXin_data = {
                    title: data.share_text.title,
                    //"模特邀约第一移动平台", // 分享标题
                    desc: data.share_text.content,
                    //"【" + data.title + "】火热报名中 | 约yue", // 分享描述
                    link: data.share_text.url + "?_from_source=normal",
                    // 分享链接
                    imgUrl: data.share_text.img,
                    //'http://yp.yueus.com/m/images/weixi_yueyue_icon.png?' + new Date().getTime(), // 分享图标
                    type: "link",
                    // 分享类型,music、video或link，不填默认为link
                    dataUrl: "",
                    // 如果type是music或video，则要提供数据链接，默认为空
                    success: function() {
                        // 用户确认分享后执行的回调函数
                        //alert("分分分成功")
                        utility.stat_action({
                            tj_point: "touch",
                            tj_touch_type: "share",
                            tj_extend_params: {
                                hash: loc.hash
                            }
                        });
                    },
                    cancel: function() {}
                };
                self.WeiXin_data_Timeline = {
                    title: data.share_text.title,
                    //"模特邀约第一移动平台",
                    desc: data.share_text.content,
                    //"【" + data.title + "】火热报名中 | 约yue",
                    link: data.share_text.url + "?_from_source=timeline",
                    //loc.origin + loc.pathname + loc.search + "&for_share=timeline" + loc.hash,
                    imgUrl: data.share_text.img,
                    //'http://yp.yueus.com/m/images/weixi_yueyue_icon.png?' + new Date().getTime(),
                    type: "link",
                    // 分享类型,music、video或link，不填默认为link
                    dataUrl: "",
                    // 如果type是music或video，则要提供数据链接，默认为空
                    success: function() {
                        // 用户确认分享后执行的回调函数
                        //alert("分分分成功")
                        utility.stat_action({
                            tj_point: "touch",
                            tj_touch_type: "share",
                            tj_extend_params: {
                                hash: loc.hash
                            }
                        });
                    },
                    cancel: function() {}
                };
                utility.wei_xin.set_share_new(loc.hash, self.WeiXin_data, self.WeiXin_data_Timeline);
                WeiXinSDK.ready(function() {
                    WeiXinSDK.ShareToFriend(self.WeiXin_data);
                    WeiXinSDK.ShareTimeLine(self.WeiXin_data_Timeline);
                    WeiXinSDK.ShareQQ(self.WeiXin_data);
                });
            } else {
                if (WeixinApi.isWexXin()) {
                    WeixinApi.ready(function(Api) {
                        var wxData = {
                            appId: "wx25fbf6e62a52d11e",
                            imgUrl: data.share_text.img,
                            //'http://yp.yueus.com/m/images/weixi_yueyue_icon.png?' + new Date().getTime(),
                            link: data.share_text.url + "?_from_source=normal",
                            //loc.href,
                            desc: data.share_text.content,
                            //"【" + data.title + "】火热报名中 | 约yue",
                            title: data.share_text.title
                        };
                        var wx_Data_Timeline = {
                            appId: "wx25fbf6e62a52d11e",
                            imgUrl: data.share_text.img,
                            //'http://yp.yueus.com/m/images/weixi_yueyue_icon.png?' + new Date().getTime(),
                            link: data.share_text.url + "?_from_source=timeline",
                            desc: data.share_text.content,
                            //"【" + data.title + "】火热报名中 | 约yue",
                            title: data.share_text.title
                        };
                        // 分享的回调
                        var wxCallbacks = {
                            // 收藏操作不执行回调，默认是开启(true)的
                            favorite: false,
                            // 分享操作开始之前
                            ready: function() {},
                            // 分享被用户自动取消
                            cancel: function(resp) {},
                            // 分享失败了
                            fail: function(resp) {},
                            // 分享成功
                            confirm: function(resp) {
                                // 分享成功了，我们是不是可以做一些分享统计呢？
                                utility.stat_action({
                                    tj_point: "touch",
                                    tj_touch_type: "share",
                                    tj_extend_params: {
                                        hash: loc.hash
                                    }
                                });
                            },
                            // 整个分享过程结束
                            all: function(resp, shareTo) {}
                        };
                        utility.wei_xin.set_share(loc.hash, wxData, wx_Data_Timeline, wxCallbacks);
                        // 安卓好友
                        Api.shareToFriend(wxData, wxCallbacks);
                        // 安卓朋友圈
                        Api.shareToTimeline(wx_Data_Timeline, wxCallbacks);
                        // 腾讯微博
                        //WeixinApi.shareToWeibo(wxData, wxCallbacks);
                        // iOS好友/朋友圈
                        Api.generalShare(wxData, wxCallbacks);
                    });
                }
            }
        },
        _render_topic_info: function() {
            var self = this;
            var data = self.model.toJSON();
            self.$title.html(data.title);
            var html_str = info_tpl(data);
            // 根据reset判断是否分页
            self.$info["html"](html_str);
            if (WeixinApi.isWexXin() || WeiXinSDK.isWeiXin()) {
                self._set_WX_share(data);
            }
            self.$info.find("img").each(function(i, obj) {
                $(obj).attr("data-big-img", "big-img");
            });
            self.trigger("update_list");
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.$scroll_view_obj = view_scroll_obj;
        },
        setup_dialog_tips: function() {
            var self = this;
            var str = '<div style="padding: 0 5px;">网页版暂不支持该功能，请使用约yue APP获得更佳体验</div>';
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                str = "还没安装约yue APP?";
            }
            self.dialog_tips = new dialog({
                content: '<p class="wx_card_notice">' + str + '</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="wx_card_tips_btn"><span class="ui-button-content">立即下载</span></button>'
            }).on("tap:button:wx_card_tips_btn", function() {
                this.hide();
                window.location.href = "http://app.yueus.com/";
            });
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            //滚动容器
            self.$container = self.$('[data-role="container"]');
            self.$info = self.$('[data-role="info"]');
            self.$title = self.$('[data-role="title"]');
            //安装事件
            self._setup_events();
            self.refresh();
            self.setup_dialog_tips();
            if (utility.is_other_browser_or_not_weixin_yueyue()) {
                self.$container.height(window.innerHeight - 45);
                self.$container.after(download_tips());
                self.$('[data-role="page-back"]').addClass("fn-invisible");
                self.$(".right-button-wrap").addClass("fn-invisible");
                self.$('[data-role="other_browser_tips"]').removeClass("fn-hide");
            }
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        refresh: function() {
            var self = this;
            self.model.get_info(self.get("topic_id"));
        }
    });
    module.exports = topic_list_view;
});

define("pai/wx-1.1.0/topic/tpl/info-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function";
        buffer += '<section class="topic-info-container">\r\n    ';
        if (helper = helpers.content) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.content;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n</section>";
        return buffer;
    });
});

define("pai/wx-1.1.0/topic/tpl/main_info-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<main role="main" class="secondary">\r\n    <header class="nav-header comment-page-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title txt-long-cut" data-role="title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n        <div class="right-button-wrap">\r\n        </div>\r\n    </header>\r\n    \r\n    <div data-role="container">\r\n        <div class="topic-end-page" data-role="info">\r\n\r\n        </div>\r\n    </div>\r\n</main>\r\n';
        return buffer;
    });
});

/**
 * 举报页
 * hdw 2014.10.28
 */
define("pai/wx-1.1.0/report/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/report/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/report/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var report_view = require("pai/wx-1.1.0/report/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var report_model = require("pai/wx-1.1.0/report/model-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "约拍邀请",
            route: {
                "report/:report_id": "report"
            },
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var model = new report_model();
                var view = new report_view({
                    report_id: route_params_arr[0],
                    model: model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by 汤圆 2014.11.19
 */
define("pai/wx-1.1.0/report/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var refuse_tpl = require("pai/wx-1.1.0/report/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var choosen_group_view = require("pai/wx-1.1.0/widget/choosen_group/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var item_tpl = require("pai/wx-1.1.0/report/tpl/item-debug.handlebars");
    var receive_view = View.extend({
        attrs: {
            template: refuse_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            //手机手势返回        
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-role=item]": function(ev) {
                var self = this;
                var $cur_btn = $(ev.currentTarget);
                $cur_btn.addClass("cur").siblings().removeClass("cur");
                self.sec_data_txt = $cur_btn.find(".txt").html();
            },
            'tap [data-role="btn"]': function(ev) {
                var self = this;
                var detail = self.$('[data-role="cancel_remark"]').val().trim();
                if (!utility.login_id) {
                    m_alert.show("尚未登录", "error", {
                        delay: 1e3
                    });
                    page_control.navigate_to_page("account/login");
                    return;
                }
                if (!self.sec_data_txt && detail == "") {
                    m_alert.show("请完善投诉信息", "error");
                    return;
                }
                var send_data_txt = encodeURIComponent(self.sec_data_txt) + "\n" + encodeURIComponent(detail);
                // 收集数据 
                var data = {
                    data: send_data_txt,
                    by_informer: self.get("report_id")
                };
                self.model.send_report(data);
            }
        },
        _setup_events: function() {
            var self = this;
            self.model.on("before:fetch", function(response, options) {
                m_alert.show("加载中...", "loading", {
                    delay: 1e3
                });
            }).on("success:fetch", function(response, options) {
                var data = response.result_data;
                if (data.code == 1) {
                    m_alert.show("举报成功！", "right", {
                        delay: 1e3
                    });
                    page_control.back();
                } else {
                    m_alert.show("举报失败，请返回重试!", "loading", {
                        delay: 1e3
                    });
                }
            }).on("error:fetch", function() {
                m_alert.show("网络不给力,请返回重试！", "error");
            }).on("complete:fetch", function(response, options) {});
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
            self.view_scroll_obj.refresh();
        },
        //渲染模板
        render_item: function() {
            var self = this;
            var list = [ {
                text: "垃圾营销",
                "data-id": "item_0"
            }, {
                text: "淫秽色情",
                "data-id": "item_1"
            }, {
                text: "不实内容",
                "data-id": "item_2"
            }, {
                text: "敏感信息",
                "data-id": "item_3"
            }, {
                text: "虚假中奖",
                "data-id": "item_4"
            }, {
                text: "抄袭内容",
                "data-id": "item_5"
            } ];
            self.item_list = item_tpl({
                data: list
            });
            self.$item_list.html(self.item_list);
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="yuepai-refuse"]');
            self.$choosen_group = self.$('[data-role="choosen_group"]');
            self.$item_list = self.$('[data-role="item-list"]');
            self._setup_events();
            self._setup_scroll();
            self.render_item();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 24;
        }
    });
    module.exports = receive_view;
});

define("pai/wx-1.1.0/report/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="commit wryh">\r\n\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">举报</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n        <div class="yuepai-refuse-v2" data-role="yuepai-refuse">\r\n        <div>\r\n\r\n            <div class="box1">请选择举报的原因</div>\r\n            <ul class="list" data-role="item-list">\r\n\r\n            </ul>   \r\n\r\n            <div class="ui-textarea">\r\n            <div class="ui-textarea-wrap">\r\n                <textarea name=" " id=" " data-role="cancel_remark" class="textarea " placeholder="补充说明"></textarea>\r\n            </div>\r\n            </div>   \r\n\r\n            <div class="btn">\r\n                <button class="ui-button ui-button-primary ui-button-size-large ui-button-block" data-role="btn">\r\n                    <span class="ui-button-content">提交</span>\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n        </div>\r\n</main>';
    });
});

define("pai/wx-1.1.0/report/tpl/item-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, functionType = "function", escapeExpression = this.escapeExpression, self = this;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += ' \r\n<li class="" data-id=\'';
            if (helper = helpers["data-id"]) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0["data-id"];
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '\' data-role="item"><i class="icon icon-right-m"></i><span class="txt">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</span></li>\r\n";
            return buffer;
        }
        buffer += "\r\n";
        stack1 = helpers.each.call(depth0, depth0 && depth0.data, {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        });
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n";
        return buffer;
    });
});

/**
 * 绑定支付宝
 * 汤圆 2014.11.20       
 */
define("pai/wx-1.1.0/report/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.report_model,
        "default": {},
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        },
        //检查是否绑定
        send_report: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(model, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(model, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 首页 - 城市选择 基础页面框架
 * 汤圆 2014.8.18
 * @param  {[type]} require 
 * @param  {[type]} exports 
 * @param  {[type]} module  
 * @return {[type]}         
 */
define("pai/wx-1.1.0/account/fans_follows/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/fans_follows/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/account/fans_follows/collection-debug", "pai/wx-1.1.0/account/fans_follows/model-debug", "pai/wx-1.1.0/common/collection-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var fans_view = require("pai/wx-1.1.0/account/fans_follows/view-debug");
    var fans_collection = require("pai/wx-1.1.0/account/fans_follows/collection-debug");
    page_control.add_page([ function() {
        return {
            title: "粉丝",
            route: {
                "account/fans_follows/:user_id/:type": "account/fans_follows"
            },
            dom_not_cache: false,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var user_id = route_params_arr[0];
                var type = route_params_arr[1];
                var collection = new fans_collection({
                    user_id: user_id,
                    type: type.toString()
                });
                //标题处理
                if (type == "follow") {
                    self.header_title = "关注";
                } else {
                    self.header_title = "粉丝";
                }
                var fans_view_obj = new fans_view({
                    templateModel: {
                        header_title: self.header_title
                    },
                    collection: collection,
                    parentNode: self.$el,
                    type: type.toString()
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 首页 - 粉丝列表
 * 汤圆 2014.9.19
 */
define("pai/wx-1.1.0/account/fans_follows/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/pull_down/view-debug", "pai/wx-1.1.0/widget/load_more/view-debug", "pai/wx-1.1.0/widget/model_pic/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var fans = require("pai/wx-1.1.0/account/fans_follows/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/new_iscroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var pull_down = require("pai/wx-1.1.0/widget/pull_down/view-debug");
    var load_more = require("pai/wx-1.1.0/widget/load_more/view-debug");
    var grid = require("pai/wx-1.1.0/widget/model_pic/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var fans_view = View.extend({
        attrs: {
            template: fans
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            "tap [data-role=load-more-container]": function(ev) {
                var self = this;
                self.get_more();
            },
            'touch [data-role="content-body"]': function() {
                var self = this;
                if (!self.select_drop_obj.is_drop()) {
                    return;
                }
                self.select_drop_obj.pull_up();
            },
            'tap [data-role="select-more"]': function() {
                var self = this;
                if (self.select_drop_obj.is_drop()) {
                    self.select_drop_obj.pull_up();
                } else {
                    self.select_drop_obj.drop_down();
                }
            },
            "tap [data-role=load-more-container]": function(ev) {
                var self = this;
                self.get_more();
            },
            "tap [data-role=grid-pic-container]": function(ev) {
                var $current_target = $(ev.currentTarget);
                var user_id = utility.int($current_target.attr("data-user-id"));
                var user_data_role = $current_target.attr("data-user-role");
                switch (user_data_role) {
                  case "cameraman":
                    page_control.navigate_to_page("zone/" + user_id + "/cameraman");
                    break;

                  case "model":
                    page_control.navigate_to_page("model_card/" + user_id);
                    break;
                }
            }
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.collection.on("reset", self._reset, self).on("add", self._add_one, self).on("before:fetch", function(xhr, options) {
                if (options.reset) {
                    m_alert.show("加载中...", "loading");
                }
            }).on("success:fetch", function(response, xhr) {
                m_alert.hide();
                self._render_model_pics_list(response, xhr);
            }).on("complete:fetch", function(xhr, status) {});
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                var _self = this;
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                    return;
                }
                if (xhr.reset) {
                    self.view_scroll_obj.scrollTo(0, 0);
                    self.view_scroll_obj.resetLazyLoad();
                }
                self.$container.removeClass("fn-hide");
                self.view_scroll_obj.refresh();
            }).once("render", self._render_after, self);
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            // 下拉
            self._top_offset = 45;
            var view_scroll_obj = Scroll(self.$container, {
                topOffset: self._top_offset,
                lazyLoad: true
            });
            // 下拉刷新标记
            self.pull_refresh = false;
            view_scroll_obj.on("refresh", function() {
                // 区分当前对象，_self为滚动条对象
                var _self = this;
                if (self.pull_refresh) {
                    self.pull_refresh = false;
                    console.log("下拉刷新");
                    self.pull_down_obj.set_pull_down_style("loaded");
                }
            });
            view_scroll_obj.on("scrollMoveAfter", function() {
                // 区分当前对象，_self为滚动条对象
                var _self = this;
                var scroll_y = _self.y;
                if (scroll_y > 5 && !self.pull_refresh) {
                    //释放刷新
                    _self.minScrollY = 0;
                    self.pull_refresh = true;
                    self.pull_down_obj.set_pull_down_style("release");
                    console.log("释放刷新");
                }
            });
            view_scroll_obj.on("scrollEndAfter", function() {
                // 区分当前对象，_self为滚动条对象
                var _self = this;
                var scroll_y = _self.y;
                if (self.pull_refresh) {
                    // 加载中...
                    console.log("加载中");
                    self.pull_down_obj.set_pull_down_style("loading");
                    self.refresh();
                }
                if (self.$load_more_container) {
                    self._scroll_check();
                }
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装下拉刷新
         * @private
         */
        _setup_pull_down: function() {
            var self = this;
            self.pull_down_obj = new pull_down({
                // 元素插入位置
                parentNode: self.$pull_down_container,
                templateModel: {
                    top: -45
                }
            }).render();
        },
        /**
         * 安装加载更多按钮
         * @private
         */
        _setup_load_more: function() {
            var self = this;
            self.load_more_btn = new load_more({
                parentNode: self.$load_more_container
            }).render();
        },
        _reset: function() {
            var self = this;
            self.collection.length && self.collection.each(self._add_one, self);
        },
        _add_one: function(model) {
            var self = this;
            self._render_queue.push(model.toJSON());
            return self;
        },
        /**
         * 渲染图片列表
         * @param response
         * @param options
         * @private
         */
        _render_model_pics_list: function(response, xhr) {
            var self = this;
            var render_queue = self._render_queue;
            // 没有数据的时候，直接return
            if (render_queue.length == 0) {
                self.$("[data-role=pull-down]").addClass("fn-hide");
                self.abnormal_view = new abnormal({
                    templateModel: {
                        content_height: utility.get_view_port_height("all") - 45
                    },
                    parentNode: self.$grid_list_container
                }).render();
                //m_alert.show('暂时没有数据！','error',{delay:2000});
                //self.$container.addClass('fn-hide');
                return;
            }
            // 判断是否有下一页
            if (self.collection.has_next_page) {
                self.load_more_btn.show();
            } else {
                self.load_more_btn.hide();
            }
            // user id 转换
            if (self.get("type") == "follow") {
                // self.$header_title.html('关注');
                $.each(render_queue, function(i, obj) {
                    obj.user_id = obj.be_follow_user_id;
                });
            } else {
                // self.$header_title.html('粉丝');
                $.each(render_queue, function(i, obj) {
                    obj.user_id = obj.follow_user_id;
                });
            }
            var art_imgs = [];
            var pic_arr = render_queue;
            for (var i = 0; i < pic_arr.length; i++) {
                var type;
                if ((i + 2) % 3 == 0) {
                    type = "middle";
                } else {
                    type = "one";
                }
                pic_arr[i].type = type;
                art_imgs.push(pic_arr[i]);
            }
            var grid_list_view = new grid({
                // 模板参数对象
                templateModel: {
                    tpl_data: art_imgs,
                    tpl_type: "one"
                }
            }).render();
            // 判断调用重新加载还是插入方法
            var method = xhr.reset ? "html" : "append";
            self.$grid_list_container[method](grid_list_view.list());
            self.trigger("update_list", response, xhr);
            // 情况队列
            self._render_queue = [];
        },
        _scroll_check: function() {
            var self = this;
            if (!self.$load_more_container || !self._visible || !self.collection.has_next_page) {
                return;
            }
            var pos = self.$load_more_container.position();
            if (pos.top < self._viewportHeight) {
                self.get_more();
            }
        },
        _render_city: function(response, xhr) {
            var self = this;
            self.trigger("update_list", response, xhr);
        },
        _render_after: function() {
            var self = this;
            self.collection.get_list(1);
            self._viewportHeight = utility.get_view_port_height("nav");
        },
        /**
         * 加载更多
         */
        get_more: function() {
            var self = this;
            var current_page = self.collection.get_current_page();
            self.collection.get_list(++current_page);
        },
        change_title: function() {
            var self = this;
            if (self.get("type") == "follow") {
                self.$header_title.html("关注");
            } else {
                self.$header_title.html("粉丝");
            }
        },
        /**
         * 重新加载数据
         */
        refresh: function() {
            var self = this;
            self.collection.get_list(1);
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 渲染队列
            self._render_queue = [];
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$grid_list_container = self.$("[data-role=grid-list-container]");
            // 方图容器
            self.$pull_down_container = self.$("[data-role=pull-down-wrapper]");
            // 下拉刷新容器
            self.$load_more_container = self.$("[data-role=load-more-container]");
            // 加载更多容器
            self.$header_title = self.$("[data-role=header-title]");
            // 加载更多容器
            // 渲染队列
            self._render_queue = [];
            // 安装事件
            self._setup_events();
            // 安装下拉刷新
            self._setup_pull_down();
            // 安装加载更多
            self._setup_load_more();
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = fans_view;
});

define("pai/wx-1.1.0/account/fans_follows/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<main role="main" class="location">\r\n    \r\n   <!-- <header class="page-header wryh">\r\n        <div class="page-back" data-role="page-back"><i class="icon icon-back-40x40"></i></div>\r\n        <span class="title" data-role="header-title">粉丝</span>\r\n    </header> -->\r\n\r\n    <header class="nav-header fans-follows-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title" data-role="header-title">';
        if (helper = helpers.header_title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.header_title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n\r\n\r\n\r\n    <div data-role="container" class="content-body"  style="" >\r\n        <div>\r\n\r\n            \r\n                <div data-role="container-img-list" class="grid-pic-content" style="margin-top:45px">\r\n                    \r\n                    <div data-role="pull-down-wrapper" >\r\n\r\n                    </div>\r\n\r\n                    <div class="grid-list grid-pic-content" data-role="grid-list-container" >\r\n                        \r\n                    </div>\r\n\r\n                    <div data-role="load-more-container">\r\n                        \r\n                    </div>\r\n\r\n                    <div class="space-bottom"></div>\r\n\r\n                </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n</main>';
        return buffer;
    });
});

define("pai/wx-1.1.0/account/fans_follows/collection-debug", [ "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/account/fans_follows/model-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/common/collection-debug", "$-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var model = require("pai/wx-1.1.0/account/fans_follows/model-debug");
    var collection = require("pai/wx-1.1.0/common/collection-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    module.exports = collection.extend({
        model: model,
        url: global_config.ajax_url.fans_or_follow,
        has_next_page: false,
        /**
         * 事件安装
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, options) {
                if (options.reset) {
                    // 设置页数
                    self.set_current_page(1);
                }
                self._fetch_xhr = xhr;
                self.set_state("sending");
            }).on("success:fetch", function(response, options) {
                /// 更新当前页数
                if (!response.code && !options.reset) {
                    var current_page = self.get_current_page();
                    self.set_current_page(++current_page);
                }
                self.has_next_page = response.result_data.has_next_page;
            }).on("complete:fetch", function(xhr, status) {
                self.set_state("complete");
                delete self._fetch_xhr;
            });
        },
        parse: function(response) {
            if (response.result_data.list) {
                return response.result_data.list;
            }
            return response;
        },
        initialize: function(options) {
            options = options || {};
            var self = this;
            self._setup_events();
            self.set_attrs(options);
            type = options.type;
            user_id = options.user_id;
        },
        get_attrs: function() {
            var self = this;
            return self.attrs;
        },
        set_attrs: function(data) {
            var self = this;
            self.attrs = $.extend({}, self.attrs, data);
        },
        /**
         * 获取状态
         */
        get_state: function() {
            var self = this;
            return self._state || false;
        },
        /**
         * 设置状态
         * @param state
         */
        set_state: function(state) {
            var self = this;
            self._state = state;
        },
        /**
         * 获取当前页数
         */
        get_current_page: function() {
            var self = this;
            return this._curren_page || 1;
        },
        /**
         * 设置当前页数
         * @param page
         */
        set_current_page: function(page) {
            var self = this;
            this._curren_page = page;
        },
        /**
         * 获取请求参数
         */
        get_rqs_params: function() {
            var self = this;
            return self._rqs_params || {};
        },
        /**
         * 设置请求参数
         * @param data
         */
        set_rqs_params: function(data) {
            var self = this;
            self._rqs_params = $.extend({}, self._rqs_params, data);
        },
        get_list: function(page) {
            var self = this;
            if (self.get_state() == "sending") {
                // 发送中状态不做重复请求
                return;
            }
            if (page < 1) {
                // 非法页数
                throw new Error("page is invalid");
            }
            self.set_rqs_params({
                type: type,
                page: page,
                user_id: user_id
            });
            self.fetch({
                url: self.url,
                remove: page == 1,
                reset: page == 1,
                data: self.get_rqs_params(),
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    var data_len = response.result_data.list.length;
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
            return self;
        }
    });
});

/**
 * 城市选择 模型
 * 汤圆 2014.8.19
 */
define("pai/wx-1.1.0/account/fans_follows/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        idAttribute: "user_id",
        "default": {
            user_id: "",
            city: 0,
            chest: 0,
            cup: "",
            waist: 0,
            hip: 0,
            height: 0,
            weight: 0,
            intro: "",
            honor: "",
            user_level: "",
            cameraman_require: 0,
            set_top: 0,
            add_time: 0,
            update_time: 0,
            pv: 0,
            user_icon_165: "",
            user_icon_468: ""
        },
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        initialize: function() {
            var self = this;
            self._setup_events();
        }
    });
});

/**
 * hudw 2014.11.05
 * 注册页面
 */
define("pai/wx-1.1.0/account/register/reg/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/account/register/reg/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/common/I_WX-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var ua = require("pai/wx-1.1.0/frame/ua-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var reg_view = require("pai/wx-1.1.0/account/register/reg/view-debug");
    //var guide = require('../../../ui/guide/view');
    //var first_guide_tpl = require('../../../ui/guide/tpl/guide_camera.handlebars');
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "注册",
            route: {
                "account/register/reg(/:is_can_back)": "account/register/reg"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                self.on("success:login:fetch", function(response) {
                    window.location.href = response.result_data.auth_url;
                }).on("error:login:fetch", function() {
                    m_alert.show("请求失败，请重试", "error");
                });
                console.log(utility.wei_xin.url_head + $(self.el.nextSibling).attr("data-page-url"));
                var url = utility.wei_xin.url_head + $(self.el).attr("data-page-url");
                var url2 = utility.wei_xin.url_head + $(self.el.nextSibling).attr("data-page-url");
                if (/login/.test(url2) || /reg/.test(url2)) {
                    url2 = utility.wei_xin.url_head + "mine";
                }
                if (!url2) {
                    url2 = url;
                }
                // 用于强制跳转的
                if (window._force_jump_link) {
                    url2 = window._force_jump_link;
                }
                console.log("url:" + url);
                console.log("url2:" + url2);
                if (WeixinApi.isWexXin() && (!utility.wei_xin.is_authority() || utility.wei_xin.weixin_authority_scope() != "snsapi_userinfo")) {
                    m_alert.show("请求授权中", "loading");
                    utility.ajax_request({
                        url: global_config.ajax_url.auth_act,
                        type: "POST",
                        data: {
                            url: url,
                            url2: url2,
                            op: "snsapi_userinfo"
                        },
                        cache: false,
                        beforeSend: function(xhr, options) {
                            self.trigger("before:login:fetch", xhr, options);
                        },
                        success: function(response, options) {
                            self.trigger("success:login:fetch", response, options);
                        },
                        error: function(xhr, options) {
                            self.trigger("error:login:fetch", xhr, options);
                        },
                        complete: function(xhr, status) {
                            self.trigger("complete:login:fetch", xhr, status);
                        }
                    });
                    return;
                }
                var is_can_back = utility.int(route_params_arr[0]);
                // ios系统增加 手机号码输入
                var is_iphone = ua.isIDevice ? 1 : 0;
                var reg_view_obj = new reg_view({
                    templateModel: {
                        is_iphone: is_iphone
                    },
                    model: utility.user,
                    parentNode: self.$el,
                    is_can_back: is_can_back
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/9/18.
 */
define("pai/wx-1.1.0/account/register/reg/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug", "pai/wx-1.1.0/ui/dialog/index-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var reg_tpl = require("pai/wx-1.1.0/account/register/reg/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var dialog = require("pai/wx-1.1.0/ui/dialog/index-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var login_phone_view = View.extend({
        attrs: {
            template: reg_tpl
        },
        events: {
            swiperight: function() {
                var self = this;
                if (self.get("is_can_back")) {
                    return;
                }
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="get_code"]': function() {
                var self = this;
                //不为数字 || 空 || 字符串中有空格时返回
                if (!parseInt(self.enter_phone.val()) || self.enter_phone.val().trim() == "" || self.enter_phone.val().trim().indexOf(" ") != -1) {
                    m_alert.show("手机号不对哦！", "error");
                    return;
                }
                if (self.counting) {
                    return;
                }
                self._count_down(60);
                self.get_verify_code({
                    phone: self.enter_phone.val(),
                    type: "bind_sent_verify_code"
                });
            },
            'tap [data-role="btn_login"]': function() {
                var self = this;
                //手机格式
                if (self.enter_phone.val().trim() == "" || self.enter_phone.val().trim().indexOf(" ") != -1) {
                    m_alert.show("手机号不对哦！", "error");
                    return;
                }
                //验证码格式
                if (self.enter_code.val().trim() == "" || self.enter_code.val().trim().indexOf(" ") != -1) {
                    m_alert.show("验证码格式不对哦！", "error");
                    return;
                }
                m_alert.show("提交中...", "loading");
                var action_type = "verify_phone";
                self.get_verify_code({
                    phone: self.enter_phone.val(),
                    verify_code: self.enter_code.val(),
                    type: action_type
                });
            },
            'tap [data-role="reg-look-look"]': function() {
                page_control.navigate_to_page(global_config.default_index_route);
            },
            'tap [data-role="old-login"]': function() {
                page_control.navigate_to_page("account/login/1");
            }
        },
        _count_down: function(sec) {
            var self = this;
            self.counting = true;
            self.count_btn.html(sec);
            self.count_Interval = setInterval(function() {
                sec--;
                if (sec == 0) {
                    self._stop_count_down();
                } else {
                    self.count_btn.html(sec);
                }
            }, 1e3);
        },
        _stop_count_down: function() {
            var self = this;
            clearInterval(self.count_Interval);
            self.count_btn.html("重新获取");
            self.counting = false;
        },
        _setup_events: function() {
            var self = this;
            self.$('[data-role="enter_phone"]')[0].oninput = function() {
                if (self.enter_phone.val() != "") {
                    self.$btn.removeClass("ui-button-dark");
                    self.$btn.addClass("ui-button-primary").removeAttr("disabled");
                } else {
                    self.$btn.addClass("ui-button-dark").attr("disabled", "disabled");
                    self.$btn.removeClass("ui-button-primary");
                }
            };
            //ui-button-primary
            self.on("render", function() {
                setTimeout(function() {
                    self._show_dialog();
                }, 200);
                self._setup_scroll();
            });
            self.on("success:fetch_verify_phone", function(response, options) {
                var response = response.result_data;
                var msg = response.msg;
                var code = response.code;
                if (code == 1) {
                    m_alert.show(msg, "right");
                    self._stop_count_down();
                    page_control.navigate_to_page("account/register/login_pw", {
                        phone: self.enter_phone.val(),
                        verify_code: self.enter_code.val(),
                        is_from_reg: true
                    });
                } else {
                    m_alert.show(msg, "error");
                }
            }).on("success:fetch_bind_sent_verify_code", function(response, options) {
                var response = response.result_data;
                var msg = response.msg;
                var code = response.code;
                self.has_reg = false;
                if (code == 1) {
                    m_alert.show(msg, "right");
                } else if (code == 2) {
                    m_alert.show(msg, "right", {
                        delay: 2e3
                    });
                    self._stop_count_down();
                    self.has_reg = true;
                    setTimeout(function() {
                        self.dialog_obj.show();
                    }, 2e3);
                } else {
                    m_alert.show(msg, "error");
                    // modify hudw 2014.11.8
                    self._stop_count_down();
                }
            }).on("error:fetch_code", function(response, options) {
                m_alert.show("网络异常", "error");
                self._stop_count_down();
            });
            // 提示层按钮安装
            self.dialog_obj.on("tap:button:save", function() {
                this.hide();
                page_control.navigate_to_page("account/login/has_reg_user_id_" + self.enter_phone.val());
            }).on("tap:button:close", function() {
                this.hide();
            });
        },
        _show_dialog: function() {
            var self = this;
            self.dialog_reg = new dialog({
                content: '<p class="wx_card_notice">您还没有注册</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn"  data-role="button" data-name="reg-cam"><span class="ui-button-content">注册摄影师</span></button><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_white"  data-role="button" data-name="reg-model"><span class="ui-button-content">注册模特</span></button><p class="wx_card_gray">注册太麻烦，想要直接约？</p><p class="wx_card_gray wx_card_gray_mgb">拨打4000-82-9003，我们帮你！</p>',
                mask_is_close_btn: false
            }).show();
            self.dialog_reg.on("tap:button:reg-cam", function() {
                this.hide();
            }).on("tap:button:reg-model", function() {
                this.hide();
                self.dialog_reg_model = new dialog({
                    content: '<p class="wx_card_notice wx_long_notice">微信版约约是摄影师专用平台，一经注册，账号将默认为摄影师。模特请下载APP，或关注微信服务号(yueusmt)，开启时间变现的旅程。</p><button class="ui-button ui-button-primary ui-button-size-middle ui-button-block wx_card_login_btn wx_card_gray_mgb"  data-role="button" data-name="download"><span class="ui-button-content">下载约yue APP</span></button>',
                    mask_is_close_btn: false
                }).show();
                self.dialog_reg_model.on("tap:button:download", function() {
                    window.location.href = "http://app.yueus.com/";
                });
            });
        },
        _setup_dialog: function() {
            var self = this;
            // 已注册过的提示层安装 hudw 2014.11.21
            self.dialog_obj = new dialog({
                content: "<p>这个号码已经注册过了</p><br/>你可以选择",
                buttons: [ {
                    name: "save",
                    text: "登录"
                }, {
                    name: "close",
                    text: "返回"
                } ]
            });
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            self.counting = false;
            self.count_btn = self.$('[data-role="get_code"]');
            self.enter_phone = self.$('[data-role="enter_phone"]');
            self.enter_code = self.$('[data-role="verify_code"]');
            self.$btn = self.$('[data-role="btn_login"]');
            self._setup_dialog();
            self._setup_events();
            //self._show_dialog();
            if (self.get("is_can_back")) {
                self.$('[data-role="page-back"]').addClass("fn-invisible");
            }
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        get_verify_code: function(data) {
            var self = this;
            utility.ajax_request({
                data: data,
                url: global_config.ajax_url.reg,
                success: function(response) {
                    switch (data.type) {
                      case "bind_sent_verify_code":
                        self.trigger("success:fetch_bind_sent_verify_code", response);
                        break;

                      case "verify_phone":
                        self.trigger("success:fetch_verify_phone", response);
                        break;
                    }
                },
                error: function() {
                    self.trigger("error:fetch_code");
                }
            });
        }
    });
    module.exports = login_phone_view;
});

define("pai/wx-1.1.0/account/register/reg/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main">\r\n    <header class="nav-header reg-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title">注册</h3>\r\n        <div class="right-button-wrap">\r\n\r\n        </div>\r\n        <div class="reg-look-look" data-role="reg-look-look">随便看看</div>\r\n    </header>\r\n    <div class="phone_and_pw_change_container" data-role="container">\r\n        <div class="warp-box">\r\n                <div class="verification-mobile" data-role="verification-mobile-container">\r\n                    <!-- <ul class="list">\r\n                        <li>\r\n                            <span class="btn-get" data-role="get_code">获取验证码</span>\r\n                            <input type="text" name=" " id=" " class="input-text exp"  placeholder="手机号" data-role="enter_phone">\r\n                        </li>\r\n                        <li>\r\n                            <input type="text" name=" " id=" " class="input-text"  placeholder="验证码" data-role="verify_code">\r\n                        </li>\r\n                    </ul> -->\r\n\r\n                    <div class="ui-input-mod">\r\n                        <div class="item">\r\n                            <input type="tel" class="ui-input  ui-input-size-large ui-input-block ui-input-border-bottom-none ui-input-top-left ui-input-top-right" placeholder="手机号" data-role="enter_phone">\r\n                            <div class="pop-tips">\r\n                                <button class="ui-button ui-button-primary ui-button-size-min " data-role="get_code">\r\n                                    <span class="ui-button-content">获取验证码</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div class="item"><input type="tel" class="ui-input  ui-input-size-large ui-input-block ui-input-bottom-left ui-input-bottom-right" placeholder="验证码" data-role="verify_code"></div>\r\n                    </div>\r\n               \r\n\r\n                    <div class="btn">\r\n                        <button data-role="btn_login" class="ui-button ui-button-dark ui-button-size-large ui-button-block" disabled="disabled">\r\n                            <span class="ui-button-content">手机号一键注册</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class="go-style" style="margin-top: 10px;">\r\n                        <div class="lbox" data-role="old-login" >\r\n                            <button class="ui-button  ui-button-size-middle  ui-button-block ui-button-nocolor" style="padding:0">\r\n                                <span class="ui-button-content">老用户登录</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div style="font-size: 12px;text-align: center;color: #666666;">注册遇问题，拨打4000-82-9003，我们帮你！</div>\r\n\r\n<!-- \r\n                    <div class="go-style" style="margin-top: 30px; text-align:center;color:#ff4978">\r\n                            广州摩幻时信息技术有限公司\r\n                    </div> -->\r\n\r\n                    <p class="p1 fn-hide">您将收到一条验证短信，绑定成功后，您可以使用手机号登录。我们不会泄露您的隐私。</p>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * 基础页面框架
 * 汤圆  
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/model_date/v2_validation/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/model_date/v2_validation/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_WX-debug", "pai/wx-1.1.0/model_date/v2_validation/model-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    //当前页引用
    var current_page_view = require("pai/wx-1.1.0/model_date/v2_validation/view-debug");
    var model = require("pai/wx-1.1.0/model_date/v2_validation/model-debug");
    //var current_page_collection = require('./collection');
    page_control.add_page([ function() {
        return {
            title: "认证说明",
            route: {
                "model_date/v2_validation": "model_date/v2_validation"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                // 传递参数
                // var param_a = route_params_arr[0];
                self.model = new model({});
                self.view = new current_page_view({
                    model: self.model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/model_date/v2_validation/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/I_WX-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    // var Scroll = require('../../common/new_iscroll');
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var WeixinApi = require("pai/wx-1.1.0/common/I_WX-debug");
    //当前页引用
    var current_main_template = require("pai/wx-1.1.0/model_date/v2_validation/tpl/main-debug.handlebars");
    var current_view = View.extend({
        attrs: {
            template: current_main_template
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                page_control.back();
            },
            "tap [data-role=btn_close]": function(ev) {
                var self = this;
                if (WeixinApi.isWexXin()) {
                    WeixinApi.closeWindow();
                } else {
                    console.log("no weixin");
                }
            }
        },
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {
            var self = this;
            // console.log( self.model.toJSON() );
            // console.log( self.model.get("param_a") );
            self.model.on("before:fetch", function(response, xhr) {
                m_alert.show("加载中...", "loading");
            }).on("success:fetch", function(response, xhr) {
                self.render_html(response, xhr);
            }).on("error:fetch", function(response, xhr) {
                m_alert.show("网络异常", "error", {
                    delay: 1e3
                });
            }).on("complete:fetch", function(xhr, status) {});
            //当前view 操作
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                }
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            });
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 渲染队列
            self._render_queue = [];
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            // 安装事件
            self.setup_events();
            // 安装滚动条
            self._setup_scroll();
        },
        /**
         * 渲染模板
         * @param response
         * @param options
         * @private
         */
        render_html: function(response, xhr) {
            var self = this;
            var render_queue = self._render_queue;
            self.trigger("update_list", response, xhr);
        },
        render_after: function() {
            var self = this;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _reset: function() {
            var self = this;
        },
        _add_one: function(model) {
            var self = this;
            // self._render_queue.push(model.toJSON());
            return self;
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            self.trigger("update_list");
            return self;
        }
    });
    module.exports = current_view;
});

define("pai/wx-1.1.0/model_date/v2_validation/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="secondary ">\r\n\r\n    <header class="nav-header city-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a> <i class="icon icon-back"></i>\r\n            </a>\r\n        </div>\r\n        <h3 class="title">认证说明</h3>\r\n        <div class="right-button-wrap">\r\n            <a> <i class="icon icon-cog"></i>\r\n            </a>\r\n        </div>\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body"  >\r\n        <div>\r\n\r\n            <div class="v2-validation-page">\r\n                <div class="p1th">\r\n                    请选择“约约”菜单中的<span class="cor"> “v2实名认证”</span> <br>\r\n                    按指示进行操作\r\n                </div>\r\n\r\n                <div class="p2th">\r\n                    <img src="images/pai/v2-validation.png?123">\r\n                </div>\r\n\r\n\r\n                <div class="p3th">\r\n                    <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block"  data-role="btn_close">\r\n                            <span class="ui-button-content">返回公众号操作</span>\r\n                    </button>\r\n                </div>\r\n              \r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n\r\n</main>';
    });
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/model_date/v2_validation/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    //基础框架
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        // idAttribute : 'location_id',
        url: global_config.ajax_url.zone_info,
        "default": {},
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        // 初始化，传递参数
        initialize: function(options) {
            var self = this;
            self.setup_events();
        },
        //获取数据请求
        get_list: function() {
            var self = this;
            self.fetch({
                url: self.url,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolest on 2014/11/21.
 *
 * 取消理由
 */
define("pai/wx-1.1.0/mine/date_cancel_reason/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/date_cancel_reason/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var cancel_view = require("pai/wx-1.1.0/mine/date_cancel_reason/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "取消理由",
            route: {
                "mine/date_cancel_reason/:date_id(/:type)": "mine/date_cancel_reason"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var from_app = utility.get_url_params(window.location.search, "from_app");
                var cancel_view_obj = new cancel_view({
                    from_app: utility.int(from_app),
                    cancel_wait: route_params_arr[1],
                    date_id: route_params_arr[0],
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2014/11/21.
 *
 * 取消理由view
 */
define("pai/wx-1.1.0/mine/date_cancel_reason/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/widget/abnormal/view-debug", "pai/wx-1.1.0/widget/choosen_group/view-debug", "pai/wx-1.1.0/common/I_APP-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var cancel_tpl = require("pai/wx-1.1.0/mine/date_cancel_reason/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var abnormal = require("pai/wx-1.1.0/widget/abnormal/view-debug");
    var choosen_group_view = require("pai/wx-1.1.0/widget/choosen_group/view-debug");
    var App = require("pai/wx-1.1.0/common/I_APP-debug");
    var cancel_view = View.extend({
        attrs: {
            template: cancel_tpl
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                page_control.back();
            },
            'tap [data-role="submit_btn"]': function(ev) {
                var self = this;
                self._send_data();
            }
        },
        _send_data: function() {
            var self = this;
            var btns = self.btn_group.get_value();
            var explain = self.$('[data-role="explain_text"]').val();
            var data = {
                date_id: self.get("date_id"),
                reason: btns[0].text,
                remark: explain
            };
            if (self.get("cancel_wait") == "cancel_wait") {
                data = $.extend(true, {}, data, {
                    type: "refund"
                });
            }
            utility.ajax_request({
                url: global_config.ajax_url.submit_date_cancel_application,
                type: "POST",
                data: data,
                cache: true,
                beforeSend: function(xhr, options) {
                    self.trigger("before:cancel_reason", xhr, options);
                },
                success: function(response, options) {
                    self.trigger("success:cancel_reason", response, options);
                },
                error: function(xhr, options) {
                    self.trigger("error:cancel_reason", xhr, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:cancel_reason", xhr, status);
                }
            });
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
            self.on("success:cancel_reason", function(response, options) {
                var msg = response.result_data.msg;
                var code = response.result_data.data;
                if (code == 1) {
                    m_alert.show(msg, "right");
                    console.log(self.from_app);
                    if (self.from_app) {
                        App.app_back();
                    } else {
                        page_control.navigate_to_page("mine/consider_details_camera/" + self.get("date_id") + "/form_cancel");
                    }
                } else {
                    m_alert.show(msg, "error");
                }
            }).on("error:cancel_reason", function(response, options) {
                m_alert.show("提交失败，请重试", "error");
            }).on("complete:cancel_reason", function(response, options) {});
        },
        _setup_btn: function() {
            var self = this;
            var list = [ {
                selected: true,
                text: "时间原因"
            }, {
                selected: false,
                text: "身体原因"
            }, {
                selected: false,
                text: "合作原因"
            }, {
                selected: false,
                text: "天气原因"
            } ];
            self.btn_group = new choosen_group_view({
                templateModel: {
                    list: list
                },
                btn_per_line: 2,
                //每行按钮个数
                line_margin: "0px 0px 15px 0px",
                //每行margin
                btn_width: "143px",
                //按钮宽度
                parentNode: self.$btn_container,
                is_multiply: false
            }).render();
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.$container.height(self.reset_viewport_height());
            self.view_scroll_obj = view_scroll_obj;
        },
        setup: function() {
            var self = this;
            self.from_app = self.get("from_app");
            self.$container = self.$('[data-role="container"]');
            self.$btn_container = self.$('[data-role="reason-type"]');
            self._setup_btn();
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        reset_viewport_height: function() {
            return utility.get_view_port_height("nav") - 41;
        }
    });
    module.exports = cancel_view;
});

define("pai/wx-1.1.0/mine/date_cancel_reason/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="cancel-reason ">\r\n    <header class="nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title">取消理由</h3>\r\n        <div class="right-button-wrap"></div>\r\n    </header>\r\n\r\n    <div class="content-body">\r\n        <div class="container"  data-role="container">\r\n            <div class="warp-box">\r\n                <div>请选择取消的理由：</div>\r\n                <div class="reason-type" data-role="reason-type"></div>\r\n                <div class="explain">\r\n                    <div class="ui-textarea">\r\n                        <div class="ui-textarea-wrap">\r\n                            <textarea data-role="explain_text" name=" " id=" " class="textarea ui-input-top-left ui-input-top-right ui-input-bottom-left ui-input-bottom-right" placeholder="补充说明"></textarea>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="btn" data-role="btn_container">\r\n                    <button class="ui-button ui-button-primary ui-button-size-large ui-button-block" data-role="submit_btn">\r\n                        <span class="ui-button-content">提交</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>';
    });
});

/**
 * 专题 列表基础框架
 * hudw 2014.8.4
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/topic/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/topic/list/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/topic/collection-debug", "pai/wx-1.1.0/topic/model-debug", "pai/wx-1.1.0/common/collection-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var topic_view = require("pai/wx-1.1.0/topic/list/view-debug");
    var topic_collection = require("pai/wx-1.1.0/topic/collection-debug");
    var topic_html_tpl = "";
    page_control.add_page([ function() {
        return {
            title: "专题列表",
            route: {
                topic_list: "topic_list"
            },
            transition_type: "slide",
            dom_not_cache: true,
            ignore_exist: true,
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                self.topic_collection_obj = new topic_collection();
                var topic_view_obj = new topic_view({
                    parentNode: self.$el,
                    collection: self.topic_collection_obj
                }).render();
                topic_view_obj.refresh();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_show: function() {
                var self = this;
            },
            page_before_hide: function() {
                var self = this;
            },
            page_hide: function() {
                var self = this;
            }
        };
    } ]);
});

/**
 * 基础页面框架
 * 汤圆  
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/account/login_tips/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/account/login_tips/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/account/login_tips/model-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    //当前页引用
    var current_page_view = require("pai/wx-1.1.0/account/login_tips/view-debug");
    var model = require("pai/wx-1.1.0/account/login_tips/model-debug");
    //var current_page_collection = require('./collection');
    page_control.add_page([ function() {
        return {
            title: "登陆提示",
            route: {
                "account/login_tips": "account/login_tips"
            },
            dom_not_cache: false,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                // 传递参数
                // var param_a = route_params_arr[0];
                self.model = new model({
                    param_a: "test"
                });
                self.view = new current_page_view({
                    model: self.model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/account/login_tips/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var system = require("pai/wx-1.1.0/common/system-debug");
    //当前页引用
    var current_main_template = require("pai/wx-1.1.0/account/login_tips/tpl/main-debug.handlebars");
    var current_view = View.extend({
        attrs: {
            template: current_main_template
        },
        events: {
            swiperight: function() {
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                var self = this;
                page_control.back();
            },
            "tap [data-role=btn-role-camera]": function(ev) {
                var self = this;
                page_control.back();
            },
            "tap [data-role=btn-role-down-app]": function(ev) {
                var self = this;
                window.location.href = "http://app.yueus.com/";
            }
        },
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {
            var self = this;
            // console.log( self.model.toJSON() );
            // console.log( self.model.get("param_a") );
            self.model.on("before:fetch", function(response, xhr) {
                m_alert.show("加载中...", "loading");
            }).on("success:fetch", function(response, xhr) {
                self.render_html(response, xhr);
            }).on("error:fetch", function(response, xhr) {
                m_alert.show("网络异常", "error", {
                    delay: 1e3
                });
            }).on("complete:fetch", function(xhr, status) {});
            //当前view 操作
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                }
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            });
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 渲染队列
            self._render_queue = [];
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            // 安装事件
            self.setup_events();
            // 安装滚动条
            self._setup_scroll();
        },
        /**
         * 渲染模板
         * @param response
         * @param options
         * @private
         */
        render_html: function(response, xhr) {
            var self = this;
            var render_queue = self._render_queue;
            self.trigger("update_list", response, xhr);
        },
        render_after: function() {
            var self = this;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _reset: function() {
            var self = this;
        },
        _add_one: function(model) {
            var self = this;
            // self._render_queue.push(model.toJSON());
            return self;
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            self.trigger("update_list");
            return self;
        }
    });
    module.exports = current_view;
});

define("pai/wx-1.1.0/account/login_tips/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="location ">\r\n\r\n    <header class="nav-header mine-edit-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title">登陆提示</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <!--<button class="ui-button ui-button-dark ui-button-size-default" data-role="save" disabled="disabled">保存</button>-->\r\n        </div>\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body"  >\r\n\r\n            <div>\r\n                <div class="login-tips-page">\r\n                    <div class="box1">抱歉</div>\r\n                    <div class="box2">微信约拍系统暂不支持模特登陆</div>\r\n                    <div class="box3">\r\n                        <button class="ui-button ui-button-primary ui-button-size-middle ui-button-block " data-role="btn-role-down-app">\r\n                            <span class="ui-button-content">下载APP</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class="box4" data-role="btn-role-camera">\r\n                        使用摄影师账号登录\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n    </div>\r\n\r\n</main>';
    });
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/account/login_tips/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    //基础框架
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        // idAttribute : 'location_id',
        "default": {},
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        // 初始化，传递参数
        initialize: function(options) {
            var self = this;
            self.setup_events();
        },
        //获取数据请求
        get_list: function() {
            var self = this;
            self.fetch({
                url: self.url,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * 2015.1.1 hudw
 * 通用编辑页面
 */
define("pai/wx-1.1.0/edit_page/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/edit_page/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var edit_view = require("pai/wx-1.1.0/edit_page/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "文字设置",
            route: {
                "edit_page/:type": "edit_page/:type"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                // type 、text、title 为必传项
                var type = route_params_arr[0];
                var text = route_params_obj && route_params_obj.text;
                var title = route_params_obj && route_params_obj.title;
                var input_type = route_params_obj && route_params_obj.input_type || "";
                if (utility.is_empty(type) || utility.is_empty(title)) {
                    m_alert.show("缺少参数，无法初始化", "error", {
                        delay: 2e3
                    });
                    setTimeout(function() {
                        page_control.back();
                    }, 2e3);
                    return;
                }
                self.edit_view = new edit_view({
                    templateModel: {
                        title: title,
                        type: type,
                        text: text,
                        input_type: input_type
                    },
                    is_empty: route_params_obj && route_params_obj.is_empty || false,
                    edit_obj: route_params_obj && route_params_obj.edit_obj,
                    parentNode: self.$el
                }).render();
            },
            page_show: function() {
                var self = this;
                //必需在page_show时设置焦点才有效
                self.edit_view && self.edit_view._inputFocus();
            },
            page_before_remove: function() {
                var self = this;
                self.edit_view && self.edit_view.destroy();
            }
        };
    } ]);
});

define("pai/wx-1.1.0/edit_page/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var tip = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var tpl = require("pai/wx-1.1.0/edit_page/tpl/main-debug.handlebars");
    var edit_view = view.extend({
        attrs: {
            template: tpl
        },
        templateHelpers: {
            if_equal: templateHelpers.if_equal
        },
        /**
         * 事件
         */
        events: {
            "tap [data-role=back]": "_back",
            "tap [data-role=save]": "_save"
        },
        _back: function() {
            page_control.back();
        },
        _save: function() {
            var self = this;
            var inputterVal = self.inputter.val();
            var inputterTrimVal = $.trim(inputterVal);
            if (!inputterTrimVal && !self.get("is_empty")) {
                tip.show("请输入内容", "error", {
                    delay: 1e3
                });
                return;
            }
            if (self.get("edit_obj")) {
                var input_type = self.get("edit_obj").prop("tagName");
                switch (input_type) {
                  case "DIV":
                    self.get("edit_obj").html(inputterVal);
                    break;

                  case "INPUT":
                  case "TEXTAREA":
                    self.get("edit_obj").val(inputterVal);
                    break;
                }
                page_control.back();
            }
        },
        /**
         * 光标定到文字最后
         * @private
         */
        _inputFocus: function() {
            var self = this;
            self.inputter = self.$("[data-role=inputter]");
            var len = self.inputter.val().length;
            if (len > 0) {
                self.inputter[0].setSelectionRange(len, len);
            }
            self.inputter.focus();
        },
        setup: function() {
            var self = this;
            self.inputter = self.$("[data-role=inputter]");
        },
        /**
         * 渲染模板
         * @returns {Editview}
         */
        render: function() {
            var self = this;
            view.prototype.render.apply(self);
            self.inputter = self.$("[data-role=inputter]");
            self.trigger("render");
            return self;
        }
    });
    module.exports = edit_view;
});

define("pai/wx-1.1.0/edit_page/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, options, functionType = "function", escapeExpression = this.escapeExpression, self = this, helperMissing = helpers.helperMissing;
        function program1(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="input-label">\r\n                    <input data-role="inputter" type="';
            stack1 = helpers["if"].call(depth0, depth0 && depth0.input_type, {
                hash: {},
                inverse: self.program(4, program4, data),
                fn: self.program(2, program2, data),
                data: data
            });
            if (stack1 || stack1 === 0) {
                buffer += stack1;
            }
            buffer += '" value="';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + '">\r\n                </div>\r\n            ';
            return buffer;
        }
        function program2(depth0, data) {
            var stack1, helper;
            if (helper = helpers.input_type) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.input_type;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            return escapeExpression(stack1);
        }
        function program4(depth0, data) {
            return "text";
        }
        function program6(depth0, data) {
            var buffer = "", stack1, helper;
            buffer += '\r\n                <div class="textarea-label">\r\n                    <textarea data-role="inputter">';
            if (helper = helpers.text) {
                stack1 = helper.call(depth0, {
                    hash: {},
                    data: data
                });
            } else {
                helper = depth0 && depth0.text;
                stack1 = typeof helper === functionType ? helper.call(depth0, {
                    hash: {},
                    data: data
                }) : helper;
            }
            buffer += escapeExpression(stack1) + "</textarea>\r\n                </div>\r\n            ";
            return buffer;
        }
        buffer += '<main class="mine-edit-page" role="main">\r\n    <header class="nav-header mine-edit-nav-header nav-header-special-pop">\r\n        <div class="left-button-wrap">\r\n            <a data-role="back">\r\n            <i class="icon icon-back"></i>\r\n            </a>\r\n        </div>\r\n\r\n        <h3 class="title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n\r\n        <div class="right-button-wrap">\r\n            <button class="ui-button ui-button-primary ui-button-size-default" data-role="save">确定</button>\r\n        </div>\r\n    </header>\r\n\r\n    <div class="mine-edit-fieldset-container" data-role="container">\r\n        <ul class="ui-form">\r\n            <li>\r\n            ';
        stack1 = (helper = helpers.if_equal || depth0 && depth0.if_equal, options = {
            hash: {},
            inverse: self.noop,
            fn: self.program(1, program1, data),
            data: data
        }, helper ? helper.call(depth0, depth0 && depth0.type, "text", options) : helperMissing.call(depth0, "if_equal", depth0 && depth0.type, "text", options));
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            ";
        stack1 = (helper = helpers.if_equal || depth0 && depth0.if_equal, options = {
            hash: {},
            inverse: self.noop,
            fn: self.program(6, program6, data),
            data: data
        }, helper ? helper.call(depth0, depth0 && depth0.type, "textarea", options) : helperMissing.call(depth0, "if_equal", depth0 && depth0.type, "textarea", options));
        if (stack1 || stack1 === 0) {
            buffer += stack1;
        }
        buffer += "\r\n            </li>\r\n        </ul>\r\n        <p></p>\r\n    </div>\r\n</main>";
        return buffer;
    });
});

/**
 * Created by hudw on 2015-1-1.
 */
define("pai/wx-1.1.0/topic/person_order/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/topic/person_order/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var form_view = require("pai/wx-1.1.0/topic/person_order/view-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    page_control.add_page([ function() {
        return {
            title: "私人定制",
            route: {
                "topics/person_order(/:status)": "topics/person_order"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                self.form_view = new form_view({
                    templateModel: {},
                    parentNode: self.$el
                }).render();
            },
            page_show: function() {
                var self = this;
            },
            page_before_remove: function() {
                var self = this;
            }
        };
    } ]);
});

/**
 * Created by hudw on 15-1-1.
 */
define("pai/wx-1.1.0/topic/person_order/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/ui/m_select/view-debug", "pai/wx-1.1.0/common/new_iscroll-debug", "pai/wx-1.1.0/base/ua-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var view = require("pai/wx-1.1.0/common/view-debug");
    var scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    var tpl = require("pai/wx-1.1.0/topic/person_order/tpl/main-debug.handlebars");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var m_select = require("pai/wx-1.1.0/ui/m_select/view-debug");
    var form_view = view.extend({
        attrs: {
            template: tpl
        },
        templateHelpers: {
            if_equal: templateHelpers.if_equal
        },
        forms: {
            select: {}
        },
        /**
         * 事件
         */
        events: {
            'tap [data-role="page-back"]': "_back",
            'tap [data-role="cellphone"]': function(ev) {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var $cur_btn = $(ev.currentTarget);
                var $input = $cur_btn.find("input");
                var text = $input.val();
                var type = "text";
                page_control.navigate_to_page("edit_page/" + type, {
                    title: "手机号码",
                    input_type: "tel",
                    text: text,
                    edit_obj: $input
                });
            },
            'tap [data-role="style"]': function(ev) {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var select_style = self.forms["select"]["style"];
                if (select_style) {
                    select_style.show();
                }
            },
            'tap [data-role="address"]': function(ev) {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var select_address = self.forms["select"]["province"];
                if (select_address) {
                    select_address.show();
                }
            },
            'tap [data-role="time"]': function() {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var select_time = self.forms["select"]["time"];
                if (select_time) {
                    select_time.show();
                }
            },
            'tap [data-role="hour"]': function() {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var select_hour = self.forms["select"]["hour"];
                if (select_hour) {
                    select_hour.show();
                }
            },
            'tap [data-role="model-num"]': function(ev) {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var select_model_num = self.forms["select"]["model_num"];
                if (select_model_num) {
                    select_model_num.show();
                }
            },
            'tap [data-role="money"]': function(ev) {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var $cur_btn = $(ev.currentTarget);
                var $input = $cur_btn.find("input");
                var text = $input.val();
                var type = "text";
                page_control.navigate_to_page("edit_page/" + type, {
                    title: "报酬",
                    input_type: "tel",
                    text: text,
                    edit_obj: $input
                });
            },
            'tap [data-role="face"]': function(ev) {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                var $cur_btn = $(ev.currentTarget);
                var $input = $cur_btn.find("textarea");
                var text = $input.val();
                var type = "textarea";
                page_control.navigate_to_page("edit_page/" + type, {
                    title: "外貌要求",
                    text: text,
                    is_empty: true,
                    edit_obj: $input
                });
            },
            'tap [data-role="submit"]': function() {
                var self = this;
                if (self.is_duplicate) {
                    return;
                }
                self._submit();
            }
        },
        _back: function() {
            page_control.back();
        },
        setup: function() {
            var self = this;
            self.$cellphone = self.$('[data-role="cellphone"]').find("input");
            self.$address = self.$('[data-role="address"]').find("input");
            self.$style = self.$('[data-role="style"]').find("input");
            self.$time = self.$('[data-role="time"]').find("input");
            self.$hour = self.$('[data-role="hour"]').find("input");
            self.$model_num = self.$('[data-role="model-num"]').find("input");
            self.$money = self.$('[data-role="money"]').find("input");
            self.$face = self.$('[data-role="face"]').find("textarea");
            if (utility.auth.is_login() && utility.user.get("cellphone")) {
                self.$cellphone.val(utility.user.get("cellphone"));
            }
            self._init_order_data();
        },
        /**
         * 渲染模板
         */
        render: function() {
            var self = this;
            view.prototype.render.apply(self);
            self.trigger("render");
            return self;
        },
        /**
         * 安装下拉模特数量
         * @private
         */
        _setup_select_model_num: function(data) {
            var self = this;
            self.forms["select"]["model_num"] = new m_select({
                templateModel: {
                    options: [ data ]
                },
                parentNode: self.$el
            }).render();
            // 开始时间确认
            self.forms["select"]["model_num"].on("confirm:success", function(arr) {
                self.$model_num.val(arr[0].value);
            });
        },
        /**
         * 安装下拉时长
         * @private
         */
        _setup_select_hour: function(data) {
            var self = this;
            self.forms["select"]["hour"] = new m_select({
                templateModel: {
                    options: [ data ]
                },
                parentNode: self.$el
            }).render();
            // 开始时间确认
            self.forms["select"]["hour"].on("confirm:success", function(arr) {
                self.$hour.val(arr[0].text);
            });
        },
        /**
         * 安装下拉选择时间
         * @private
         */
        _setup_select_time: function() {
            var self = this;
            var date_arr = utility.select_time.mix_date().date_arr;
            var hour_arr = utility.select_time.mix_date().hour_arr;
            var min_arr = utility.select_time.mix_date().min_arr;
            self.forms["select"]["time"] = new m_select({
                templateModel: {
                    options: [ date_arr, hour_arr, min_arr ]
                },
                parentNode: self.$el
            }).render();
            // 开始时间确认
            self.forms["select"]["time"].on("confirm:success", function(arr) {
                var cur_year = utility.select_time.today_is().year;
                self.$time.val(arr[0].value + " " + arr[1].value + ":" + arr[2].value);
            });
        },
        /**
         * 安装地区下拉
         * @private
         */
        _setup_select_location: function(location_data) {
            var self = this;
            var province = location_data.two_lv_data.province;
            var city = location_data.two_lv_data.city;
            // 设置默认市
            var city_arr = city[province[0].id];
            // 设置省第一项默认选中
            province[0].selected = true;
            city_arr[0].selected = true;
            // 级联查询必须有“不限”的数据组
            self.forms["select"]["province"] = new m_select({
                templateModel: {
                    options: [ province, city_arr ]
                },
                parentNode: self.$el
            }).render();
            self.forms["select"]["province"].on("change:options", function(arr, cur_scroll_obj) {
                if (cur_scroll_obj.index == 0) {
                    var key = arr[0].id;
                    var options = city[key];
                    console.log(options);
                    if (options) {
                        options[0].selected = true;
                        self.forms["select"]["province"].set_options([ options ], 1);
                    }
                }
            });
            // 地址确认
            self.forms["select"]["province"].on("confirm:success", function(arr) {
                if (utility.is_empty(arr[0].value)) {
                    m_alert.show("请选择省份", "right");
                    return;
                }
                self.$address.attr("data-city-id", arr[1].id).val(arr[0].value + "-" + arr[1].value);
            });
        },
        /**
         * 安装风格下拉
         * @private
         */
        _setup_select_style: function(data) {
            var self = this;
            data[0].selected = true;
            self.forms["select"]["style"] = new m_select({
                templateModel: {
                    options: [ data ]
                },
                parentNode: self.$el
            }).render();
            // 地址确认
            self.forms["select"]["style"].on("confirm:success", function(arr) {
                if (utility.is_empty(arr[0].text)) {
                    m_alert.show("请选择风格", "right");
                    return;
                }
                self.$style.val(arr[0].text);
            });
        },
        /**
         * 安装私人定制表单内容模块
         * @private
         */
        _init_order_data: function() {
            var self = this;
            // 本地已经有地区就不再请求
            self.client_has_location = 0;
            if (utility.storage.get("location_data_v2")) {
                self._setup_select_location(utility.storage.get("location_data_v2"));
                self.client_has_location = 1;
            }
            utility.ajax_request({
                url: global_config.ajax_url.person_order_info,
                cache: true,
                data: {
                    phone: utility.user.get("phone"),
                    client_has_location: self.client_has_location
                },
                beforeSend: function() {
                    m_alert.show("加载中...", "loading", {
                        delay: -1
                    });
                },
                success: function(ret) {
                    m_alert.hide();
                    var data = ret.result_data;
                    // 填充地区数据
                    if (data.two_lv_data) {
                        var location_data_v2 = {
                            two_lv_data: {
                                province: JSON.parse(data.two_lv_data.province),
                                city: eval("(" + data.two_lv_data.city + ")")
                            }
                        };
                        utility.storage.set("location_data_v2", location_data_v2);
                        self._setup_select_location(location_data_v2);
                    }
                    // 填充风格
                    if (data.model_style) {
                        self._setup_select_style(data.model_style);
                    }
                    // 填充时长
                    if (data.model_hour) {
                        self._setup_select_hour(data.model_hour);
                    }
                    // 填充模特数
                    if (data.model_hour) {
                        self._setup_select_model_num(data.model_num);
                    }
                    // 填充时间
                    self._setup_select_time();
                    console.log(data);
                    if (data.is_duplicate) {
                        self.is_duplicate = data.is_duplicate;
                        self.$('[data-role="submit"]').addClass("fn-hide");
                        self.$('[data-role="submit_after_txt"]').removeClass("fn-hide");
                        self._insert_data(data.data);
                    }
                },
                error: function() {
                    m_alert.show("网络异常", "error");
                    setTimeout(function() {
                        page_control.back();
                    }, 2400);
                }
            });
        },
        _insert_data: function(data) {
            var self = this;
            if (data.style) {
                self.$style.val(data.style);
            }
            if (data.city_name) {
                self.$address.val(data.city_name);
            }
            if (data.date_time) {
                self.$time.val(data.date_time);
            }
            if (data.hour) {
                self.$hour.val(data.hour);
            }
            if (data.model_num) {
                self.$model_num.val(data.model_num);
            }
            if (data.budget) {
                self.$money.val(data.budget);
            }
            if (data.looks_require) {
                self.$face.val(data.looks_require);
            }
        },
        /**
         * 提交私人订制
         * @private
         */
        _submit: function() {
            var self = this;
            if (self.submiting) {
                return;
            }
            var data = {
                cellphone: self.$cellphone.val(),
                location_id: self.$address.attr("data-city-id"),
                style: self.$style.val(),
                date_time: self.$time.val(),
                hour: self.$hour.val(),
                model_num: self.$model_num.val(),
                budget: self.$money.val(),
                looks_require: self.$face.val()
            };
            var error_msg = "";
            if (utility.is_empty(data["location_id"])) {
                error_msg = "地址不能为空";
            } else if (utility.is_empty(data["cellphone"])) {
                error_msg = "手机号码不能为空";
            } else if (utility.is_empty(data["style"])) {
                error_msg = "主题风格不能为空";
            } else if (utility.is_empty(data["date_time"])) {
                error_msg = "拍摄时间不能为空";
            } else if (utility.is_empty(data["hour"])) {
                error_msg = "拍摄时长不能为空";
            } else if (utility.is_empty(data["model_num"])) {
                error_msg = "模特数量不能为空";
            } else if (utility.is_empty(data["budget"])) {
                error_msg = "报酬不能为空";
            }
            if (error_msg) {
                m_alert.show(error_msg, "error");
                return;
            }
            utility.ajax_request({
                url: global_config.ajax_url.send_person_order,
                cache: false,
                data: data,
                type: "POST",
                beforeSend: function() {
                    self.submiting = true;
                    m_alert.show("加载中...", "loading", {
                        delay: -1
                    });
                },
                success: function(res) {
                    self.submiting = false;
                    m_alert.hide();
                    var res = res.result_data;
                    if (res.code > 0) {
                        m_alert.show(res.msg, "right");
                        setTimeout(function() {
                            page_control.back();
                        }, 2400);
                    } else {
                        m_alert.show(res.msg, "error");
                    }
                    console.log(res);
                },
                error: function() {
                    self.submiting = false;
                    m_alert.show("网络异常", "error");
                }
            });
        }
    });
    module.exports = form_view;
});

define("pai/wx-1.1.0/topic/person_order/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="order_form wryh">\n    <header class="nav-header comment-page-header">\n        <div class="left-button-wrap"  data-role="page-back">\n            <a><i class="icon icon-back"></i></a>\n        </div>\n\n        <h3 class="title">私人订制</h3>\n\n        <div class="right-button-wrap">\n        </div>\n    </header>\n\n    <div data-role="main-container" class="content-body native_scroll">\n        <div class="fn-hide p15" style="background-color: #ff9c00;color:#fff;" data-role="submit_after_txt">\n            <p>你的定制订单正在审核中，请等待约约工作人员联系您，如需帮助请拨打4000-82-9003。</p>\n        </div>\n        <div class="group_title" style="font-weight:bold;">\n            必填项\n        </div>\n        <ul class="container">\n\n            <li class="items b">\n                <div class="field name">手机号码</div>\n                <div class="data_input" data-role="cellphone">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请输入手机号码">\n                        </div>\n\n                        <div class="arrow fn-hide">\n                            <i class="icon icon-r "></i>\n                        </div>\n                    </div>\n                </div>\n            </li>\n            <li class="items b">\n                <div class="field name">主题风格</div>\n                <div class="data_input" data-role="style">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请选择风格">\n                        </div>\n\n                        <div class="arrow fn-hide">\n                            <i class="icon icon-r "></i>\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n            <li class="items b">\n                <div class="field name">地址</div>\n                <div class="data_input" data-role="address">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请选择省市">\n                        </div>\n\n                        <div class="arrow fn-hide">\n                            <i class="icon icon-r "></i>\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n            <li class="items b">\n                <div class="field name">拍摄时间</div>\n                <div class="data_input" data-role="time">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请选择开始时间"/>\n                        </div>\n\n                        <div class="arrow fn-hide">\n                            <i class="icon icon-r "></i>\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n            <li class="items b">\n                <div class="field name">拍摄时长</div>\n                <div class="data_input" data-role="hour">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请选择时间长度"/>\n                        </div>\n\n                        <div class="arrow fn-hide">\n                            <i class="icon icon-r "></i>\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n            <li class="items b">\n                <div class="field name">模特数量</div>\n                <div class="data_input" data-role="model-num">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请输入所需模特数量"/>\n                        </div>\n                        <div class="arrow fn-hide">\n                            <i class="icon icon-r "></i>\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n            <li class="items ">\n                <div class="field name">报酬</div>\n                <div class="data_input" data-role="money">\n                    <div class="inside">\n                        <div class="inside_input">\n                            <input type="text" class="details place_holder" readonly placeholder="请填写每人时价"/>\n                        </div>\n\n                        <div class="arrow fn-hide">\n                            元/小时\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n        </ul>\n\n        <div class="group_title" style="font-weight:bold;">\n           选填项\n        </div>\n        <ul class="container ">\n            <li class="items height-auto face_item">\n                <div class="field name">外貌要求</div>\n                <div class="data_input" data-role="face">\n                    <div class="inside" style="padding-right: 15px;">\n                        <div class="inside_input">\n                            <textarea style="width: 220px;height:50px;"  class="details place_holder" placeholder="此处填写对模特的面容、妆容、服装、身材等要求，拍摄一些模特需要知道的信息等，140字以内" readonly></textarea>\n                        </div>\n\n                    </div>\n                </div>\n            </li>\n        </ul>\n\n        <footer class="btn-container">\n            <button class="ui-button ui-button-primary ui-button-size-large ui-button-block" data-role="submit">\n                <span class="ui-button-content">提交</span>\n            </button>\n\n        </footer>\n\n\n\n    </div>\n\n\n\n</main>';
    });
});

/**
 * Created by nolest on 2015/1/6.
 */
define("pai/wx-1.1.0/mine/explain/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/mine/explain/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var explain_view = require("pai/wx-1.1.0/mine/explain/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    page_control.add_page([ function() {
        return {
            title: "说明页",
            route: {
                "mine/explain(/:type)": "mine/explain(/:type)"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                var title;
                var type = route_params_arr[0];
                var lev, charm, charm_list, commit_list, date_list;
                //级别说明 lev
                //魅力指数说明 charm
                //魅力排行榜说明 charm_list
                //评优排行榜说明 commit_list
                //约拍排行榜说明 data_list
                if (route_params_arr[0] && route_params_arr[0] == "lev") {
                    title = "级别说明";
                    lev = 1;
                } else if (route_params_arr[0] && route_params_arr[0] == "charm") {
                    title = "魅力指数说明";
                    charm = 1;
                } else if (route_params_arr[0] && route_params_arr[0] == "charm_list") {
                    title = "魅力排行榜说明";
                    charm_list = 1;
                } else if (route_params_arr[0] && route_params_arr[0] == "commit_list") {
                    title = "评优排行榜说明";
                    commit_list = 1;
                } else if (route_params_arr[0] && route_params_arr[0] == "date_list") {
                    title = "约拍排行榜说明";
                    date_list = 1;
                }
                var view = new explain_view({
                    parentNode: self.$el,
                    type: type,
                    templateModel: {
                        title: title,
                        lev: lev,
                        charm: charm,
                        charm_list: charm_list,
                        commit_list: commit_list,
                        date_list: date_list
                    }
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolest on 2015/1/6.
 */
define("pai/wx-1.1.0/mine/explain/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var explain_tpl = require("pai/wx-1.1.0/mine/explain/tpl/main-debug.handlebars");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var explain_view = View.extend({
        attrs: {
            template: explain_tpl
        },
        events: {
            swiperight: function() {
                if (window._IS_NEW_WEB_VIEW) {
                    return;
                }
                page_control.back();
            },
            "tap [data-role=page-back]": function(ev) {
                if (window._IS_NEW_WEB_VIEW) {
                    App.remove_front();
                    return;
                }
                var self = this;
                page_control.back();
            }
        },
        _setup_events: function() {},
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="container"]');
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
            // modify by hudw 2015.1.11
            // 有关介绍的内容最好读取服务器
            utility.ajax_request({
                url: global_config.ajax_url.get_intro_text,
                cache: true,
                data: {
                    type: self.get("type")
                },
                beforeSend: function() {
                    m_alert.show("加载中", "loading", {
                        delay: -1
                    });
                },
                success: function(res) {
                    m_alert.hide();
                    if (res.result_data) {
                        self.$container.html(res.result_data.data);
                    }
                },
                error: function() {
                    m_alert.show("网络异常", "error");
                }
            });
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = explain_view;
});

define("pai/wx-1.1.0/mine/explain/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        var buffer = "", stack1, helper, functionType = "function", escapeExpression = this.escapeExpression;
        buffer += '<main role="main" class="explain">\r\n    <header class="nav-header mine-nav-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a><i class="icon icon-back"></i></a>\r\n        </div>\r\n        <h3 class="title" data-role="title">';
        if (helper = helpers.title) {
            stack1 = helper.call(depth0, {
                hash: {},
                data: data
            });
        } else {
            helper = depth0 && depth0.title;
            stack1 = typeof helper === functionType ? helper.call(depth0, {
                hash: {},
                data: data
            }) : helper;
        }
        buffer += escapeExpression(stack1) + '</h3>\r\n        \r\n        <div class="right-button-wrap">\r\n            <a><i class="icon icon-cog"></i></a>\r\n        </div>\r\n    </header>\r\n    \r\n    <div class="content-body" data-role="container">\r\n\r\n    </div>\r\n</main>';
        return buffer;
    });
});

/**
 * 基础页面框架
 * 汤圆  
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/act/pay_success/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/act/pay_success/view-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/act/pay_success/model-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    //当前页引用
    var current_page_view = require("pai/wx-1.1.0/act/pay_success/view-debug");
    var model = require("pai/wx-1.1.0/act/pay_success/model-debug");
    //var current_page_collection = require('./collection');
    page_control.add_page([ function() {
        return {
            title: "支付成功",
            route: {
                "act/pay_success/:event_id(/:payment_no)": "act/pay_success"
            },
            dom_not_cache: true,
            ignore_exist: true,
            transition_type: "slide",
            initialize: function() {},
            page_init: function(page_view, route_params_arr, route_params_obj) {
                var self = this;
                // 传递参数
                var event_id_params = parseInt(route_params_arr[0]);
                self.model = new model({
                    event_id: event_id_params
                });
                self.view = new current_page_view({
                    event_id: event_id_params,
                    model: self.model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {
                var self = this;
            },
            page_show: function() {},
            page_before_hide: function() {}
        };
    } ]);
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/act/pay_success/view-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/template-helpers-debug", "pai/wx-1.1.0/common/scroll-debug", "utility/iscroll/4.2.5/iscroll-debug", "pai/wx-1.1.0/common/img-ready-debug", "pai/wx-1.1.0/widget/footer/index-debug", "pai/wx-1.1.0/common/system-debug", "pai/wx-1.1.0/common/I_APP-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    //基础框架
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var templateHelpers = require("pai/wx-1.1.0/common/template-helpers-debug");
    // var Scroll = require('../common/new_iscroll');
    var Scroll = require("pai/wx-1.1.0/common/scroll-debug");
    var footer = require("pai/wx-1.1.0/widget/footer/index-debug");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var I_App = require("pai/wx-1.1.0/common/I_APP-debug");
    //当前页引用
    var current_main_template = require("pai/wx-1.1.0/act/pay_success/tpl/main-debug.handlebars");
    var current_view = View.extend({
        attrs: {
            template: current_main_template
        },
        events: {
            // 'swiperight': function()
            // {
            //     page_control.back();
            // },
            // 
            "tap [data-role=confirm]": function(ev) {
                var self = this;
                page_control.navigate_to_page("mine/status/paid");
            }
        },
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {
            var self = this;
            // console.log( self.model.toJSON() );
            self.model.on("before:fetch", function(response, xhr) {}).on("success:fetch", function(response, xhr) {
                self.render_html(response, xhr);
            }).on("error:fetch", function(response, xhr) {
                m_alert.show("网络异常", "error", {
                    delay: 1e3
                });
            }).on("complete:fetch", function(xhr, status) {});
            //当前view 操作
            self.on("update_list", function(response, xhr) {
                // 区分当前对象
                if (!self.view_scroll_obj) {
                    self._setup_scroll();
                }
                self.view_scroll_obj.refresh();
                // 重置渲染队列
                self._render_queue = [];
            });
            // .once('render', self.render_after, self);
            // 
            var event_id = self.get("event_id");
            var data = {
                event_id: event_id
            };
            self.model.get_list(data);
        },
        /**
         * 视图初始化入口
         */
        setup: function() {
            var self = this;
            // 渲染队列
            self._render_queue = [];
            // 配置交互对象
            self.$container = self.$("[data-role=container]");
            // 滚动容器
            self.$event_txt = self.$("[data-role=event_txt]");
            // 安装事件
            self.setup_events();
            // 安装滚动条
            self._setup_scroll();
        },
        /**
         * 渲染模板
         * @param response
         * @param options
         * @private
         */
        render_html: function(response, xhr) {
            var self = this;
            var ret = response.result_data;
            self.$event_txt.html(ret.msg);
            self.trigger("update_list", response, xhr);
        },
        render_after: function() {
            var self = this;
        },
        /**
         * 安装滚动条
         * @private
         */
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = Scroll(self.$container, {
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        /**
         * 安装底部导航
         * @private
         */
        _setup_footer: function() {
            var self = this;
            var footer_obj = new footer({
                // 元素插入位置
                parentNode: self.$el,
                // 模板参数对象
                templateModel: {
                    // 高亮设置参数
                    is_model_pai: true
                }
            }).render();
        },
        _reset: function() {
            var self = this;
        },
        _add_one: function(model) {
            var self = this;
            // self._render_queue.push(model.toJSON());
            return self;
        },
        render: function() {
            var self = this;
            // 调用渲染函数
            View.prototype.render.apply(self);
            self.trigger("render");
            self.trigger("update_list");
            return self;
        }
    });
    module.exports = current_view;
});

define("pai/wx-1.1.0/act/pay_success/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="secondary ">\r\n\r\n    <header class="nav-header city-nav-header">\r\n        <!-- <div class="left-button-wrap" data-role="page-back">\r\n            <a> <i class="icon icon-back"></i>\r\n            </a>\r\n        </div> -->\r\n        <h3 class="title">支付成功</h3>\r\n    <!--     <div class="right-button-wrap">\r\n            <a> <i class="icon icon-cog"></i>\r\n            </a>\r\n        </div> -->\r\n    </header>\r\n\r\n    <div data-role="container" class="content-body"  >\r\n        <div>\r\n            <div class="pay-success-page">\r\n                <div class="pay-wrap">\r\n                    <div class="box1"><i class="icon icon-success-min"></i></div>\r\n                    <div class="box2">恭喜您，支付成功。</div>\r\n                    <div class="box3" data-role="event_txt">\r\n                       \r\n                    </div>\r\n                </div>\r\n\r\n                <div class="btn-wrap">\r\n\r\n                    <div class="btn">\r\n                        <button data-role="confirm" class="ui-button ui-button-primary ui-button-size-middle ui-button-block ui-button-size-radius-large ">\r\n                                <span class="ui-button-content">确认</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</main>';
    });
});

/**
 * 基础页面框架
 * 汤圆
 * @param  {[type]} require
 * @param  {[type]} exports
 * @param  {[type]} module
 * @return {[type]}
 */
define("pai/wx-1.1.0/act/pay_success/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    //基础框架
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        // idAttribute : 'location_id',
        url: global_config.ajax_url.pay_finish_text,
        "default": {},
        /**
         * 安装事件
         * @private
         */
        setup_events: function() {},
        parse: function(response) {
            if (response.result_data) {
                return response.result_data;
            }
            return response;
        },
        // 初始化，传递参数
        initialize: function(options) {
            var self = this;
            self.setup_events();
        },
        //获取数据请求
        get_list: function(data) {
            var self = this;
            self.fetch({
                url: self.url,
                data: data,
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});

/**
 * Created by nolestLam on 2015/3/5.
 */
define("pai/wx-1.1.0/coupon/choose/index-debug", [ "$-debug", "pai/wx-1.1.0/frame/page_control-debug", "utility/backbone/1.1.2/backbone-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/coupon/choose/view-debug", "pai/wx-1.1.0/common/view-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/ui/m_alert/view-debug", "pai/wx-1.1.0/coupon/choose/model-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var coupon_view = require("pai/wx-1.1.0/coupon/choose/view-debug");
    var model = require("pai/wx-1.1.0/coupon/choose/model-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    page_control.add_page([ function() {
        return {
            title: "优惠券",
            route: {
                coupon: "coupon"
            },
            initialize: function() {},
            events: {},
            page_init: function() {
                var self = this;
                var coupon_view_obj = new coupon_view({
                    model: model,
                    parentNode: self.$el
                }).render();
            },
            page_before_show: function() {},
            page_show: function() {},
            page_before_hide: function() {
                var self = this;
            },
            page_hide: function() {}
        };
    } ]);
});

/**
 * Created by nolestLam on 2015/3/5.
 */
define("pai/wx-1.1.0/coupon/choose/view-debug", [ "$-debug", "pai/wx-1.1.0/common/view-debug", "utility/backbone/1.1.2/backbone-debug", "utility/handlebars/1.3.0/runtime-debug", "pai/wx-1.1.0/common/utility-debug", "pai/wx-1.1.0/common/cross_domain_storage-debug", "matcha/cookie/1.0.0/cookie-debug", "utility/underscore/1.6.0/underscore-debug", "pai/wx-1.1.0/frame/ua-debug", "pai/wx-1.1.0/frame/page_control-debug", "pai/wx-1.1.0/common/global_config-debug", "pai/wx-1.1.0/frame/page-debug", "utility/zepto/modules/data/1.1.4/data-debug", "utility/hammer/plugins/jquery.hammer/1.1.3/jquery.hammer-debug", "pai/wx-1.1.0/ui/m_alert/view-debug" ], function(require, exports, module) {
    var $ = require("$-debug");
    var View = require("pai/wx-1.1.0/common/view-debug");
    var utility = require("pai/wx-1.1.0/common/utility-debug");
    var page_control = require("pai/wx-1.1.0/frame/page_control-debug");
    var coupon_tpl = require("pai/wx-1.1.0/coupon/choose/tpl/main-debug.handlebars");
    var m_alert = require("pai/wx-1.1.0/ui/m_alert/view-debug");
    var coupon_view = View.extend({
        attrs: {
            template: coupon_tpl
        },
        events: {},
        _render_items: function(data) {
            var self = this;
            return;
            var html_str = items_tpl({
                data: data
            });
            self.item_container.html(html_str);
            self._setup_iscroll_list(data.tag.list);
            self.view_scroll_obj.refresh();
        },
        _setup_scroll: function() {
            var self = this;
            var view_scroll_obj = scroll(self.$container, {
                lazyLoad: true,
                _startY: 45,
                prevent_tag: "slider",
                is_hide_dropdown: true
            });
            self.view_scroll_obj = view_scroll_obj;
        },
        _setup_events: function() {
            var self = this;
            self.on("render", function() {
                self._setup_scroll();
            });
        },
        setup: function() {
            var self = this;
            self.$container = self.$('[data-role="content-body"]');
            self.$container_style = self.$('[data-role="container_style"]');
            self.$container_group = self.$("[data-grid]");
            self.location = utility.storage.get("location");
            self.item_container = self.$('[data-role="items"]');
            self._setup_events();
        },
        render: function() {
            var self = this;
            View.prototype.render.apply(self);
            self.trigger("render");
            return self;
        }
    });
    module.exports = coupon_view;
});

define("pai/wx-1.1.0/coupon/choose/tpl/main-debug.handlebars", [ "utility/handlebars/1.3.0/runtime-debug" ], function(require, exports, module) {
    var Handlebars = require("utility/handlebars/1.3.0/runtime-debug");
    var template = Handlebars.template;
    module.exports = template(function(Handlebars, depth0, helpers, partials, data) {
        this.compilerInfo = [ 4, ">= 1.0.0" ];
        helpers = helpers || {};
        for (var key in Handlebars.helpers) {
            helpers[key] = helpers[key] || Handlebars.helpers[key];
        }
        data = data || {};
        return '<main role="main" class="choose_coupon">\r\n    <header class="nav-header mine-model-car-header-opacity" data-role="slide-header">\r\n        <div class="left-button-wrap" data-role="page-back">\r\n            <a href="javascript:;"><i class="icon icon-back"></i></a>\r\n        </div>\r\n\r\n        <h3 class="title" data-role="moteka-title">可用优惠券</h3>\r\n\r\n       <div class="right-button-wrap" data-role="confirm">\r\n           <a href="javascript:;">确定</a>\r\n        </div> \r\n    </header>\r\n    <div class="content-body" data-role="content-body">\r\n\r\n    </div>\r\n</main>\r\n\r\n';
    });
});

/**
 * Created by nolestLam on 2015/3/5.
 */
define("pai/wx-1.1.0/coupon/choose/model-debug", [ "pai/wx-1.1.0/common/global_config-debug", "utility/backbone/1.1.2/backbone-debug" ], function(require, exports, module) {
    var global_config = require("pai/wx-1.1.0/common/global_config-debug");
    var Backbone = require("utility/backbone/1.1.2/backbone-debug");
    module.exports = Backbone.Model.extend({
        url: global_config.ajax_url.model_card,
        "default": {},
        /**
         * 安装事件
         * @private
         */
        _setup_events: function() {
            var self = this;
            self.on("before:fetch", function(xhr, xhrOptions) {
                self._get_info_xhr = xhr;
            }).on("success:fetch", function(xhr, xhrOptions) {}).on("complete:fetch", function(xhr, status) {
                delete self._get_info_xhr;
            });
        },
        /**
         * 转换数据格式
         * @param response
         * @returns {*}
         */
        parse: function(response) {},
        initialize: function(options) {},
        get_info: function() {
            var self = this;
            self.fetch({
                url: self.url,
                data: {},
                cache: false,
                beforeSend: function(xhr, options) {
                    self.trigger("before:fetch", xhr, options);
                },
                success: function(collection, response, options) {
                    self.trigger("success:fetch", response, options);
                },
                error: function(collection, response, options) {
                    self.trigger("error:fetch", response, options);
                },
                complete: function(xhr, status) {
                    self.trigger("complete:fetch", xhr, status);
                }
            });
        }
    });
});
