!function(e){"use strict";e.fn.remoteChained=function(t,n,a){var r;return"object"==typeof t&&"undefined"!=typeof t.url?r=e.extend({},e.fn.remoteChained.defaults,t):(r=e.extend({},e.fn.remoteChained.defaults,a),r.parents=t,r.url=n),this.each(function(){function t(t){var a=e(":selected",n).val();e("option",n).remove();var r=[];if(e.isArray(t))r=t;else for(var i in t)t.hasOwnProperty(i)&&r.push([i,t[i]]);for(var o=0;o!==r.length;o++){var l=r[o][0],d=r[o][1];if("selected"!==l){var s=e("<option />").val(l).append(d);e(n).append(s)}else a=d}e(n).children().each(function(){e(this).val()===a&&e(this).attr("selected","selected")}),1===e("option",n).size()&&""===e(n).val()?e(n).prop("disabled",!0):e(n).prop("disabled",!1)}var n=this,a=!1;e(r.parents).each(function(){e(this).bind("change",function(){var i={};e(r.parents).each(function(){var t=e(this).attr(r.attribute),a=e(":selected",this).val();i[t]=a,r.depends&&e(r.depends).each(function(){if(n!==this){var t=e(this).attr(r.attribute),a=e(this).val();i[t]=a}})}),a&&e.isFunction(a.abort)&&(a.abort(),a=!1),r.clear&&(r.loading?t.call(n,{"":r.loading}):e("option",n).remove(),e(n).trigger("change")),a=e.getJSON(r.url,i,function(a){t.call(n,a),e(n).trigger("change")})}),r.bootstrap&&(t.call(n,r.bootstrap),r.bootstrap=null)})})},e.fn.remoteChainedTo=e.fn.remoteChained,e.fn.remoteChained.defaults={attribute:"name",depends:null,bootstrap:null,loading:null,clear:!1}}(window.jQuery||window.Zepto,window,document);