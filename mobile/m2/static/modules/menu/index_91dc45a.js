define("menu/index",function(n,e,t){"use strict";var a=(n("common/utility/index"),n("components/zepto/zepto.js")),i=n("components/fastclick/fastclick.js"),o=(n("common/I_APP/I_APP"),Handlebars.template(function(n,e,t,a,i){function o(n,e){var a,i,o="";return o+='\r\n        <div class="child" data-index="',(i=t.index)?a=i.call(n,{hash:{},data:e}):(i=n&&n.index,a=typeof i===r?i.call(n,{hash:{},data:e}):i),o+=c(a)+'"><p>',(i=t.content)?a=i.call(n,{hash:{},data:e}):(i=n&&n.content,a=typeof i===r?i.call(n,{hash:{},data:e}):i),o+=c(a)+"</p></div>\r\n    "}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,n.helpers),i=i||{};var d,s="",r="function",c=this.escapeExpression,l=this;return s+='<div class="app_drop_menu_lock fn-hide" data-role="app_drop_menu_lock">\r\n\r\n</div>\r\n<div class="app_drop_menu" data-role="app_drop_menu">\r\n    <div class="delta"></div>\r\n    ',d=t.each.call(e,e&&e.menu_data,{hash:{},inverse:l.noop,fn:l.program(1,o,i),data:i}),(d||0===d)&&(s+=d),s+="\r\n</div>\r\n"}));"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){i.attach(document.body)},!1),t.exports={render:function(n,e){var t=this;return t.data=t._sort(e),n.append(o({menu_data:t.data})),t.init(),t.setup_event(),this},init:function(){var n=this;n.menu_lock=a('[data-role="app_drop_menu_lock"]'),n.menu=a('[data-role="app_drop_menu"]')},hide:function(){var n=this;setTimeout(function(){n.menu.removeClass("drop"),n.menu.addClass("up")},0),n.menu_lock.css("visibility","hidden").addClass("fn-hide")},show:function(){var n=this;setTimeout(function(){n.menu.removeClass("up"),n.menu.addClass("drop")},0),n.menu_lock.removeClass("fn-hide").css("visibility","visible")},setup_event:function(){var n=this;a.each(a("[data-index]"),function(e,t){n.data[e].click_event&&a(t).on("click",n.data[e].click_event)}),a('[data-role="app_drop_menu_lock"]').on("click",function(){n.hide()})},_sort:function(n){if(!(n.length<2)){for(var e=1;e<n.length;e++){for(var t=n[e],a=e-1;a>=0&&t.index<n[a].index;)n[a+1]=n[a],a-=1;n[a+1]=t}return n}}}});