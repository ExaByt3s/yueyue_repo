<html manifest="manifest.php">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no, email=no">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <link charset="utf-8" rel="stylesheet" href="./cache.css">
    <script type="text/javascript" src="m.js"></script>
</head>
<body>
<p>js:</p><p id="jst"></p>
<p id="jstt"></p>
<img src="./cache.jpg">
<p>hihi,zhe shi yi ge ce shi o!!</p>
</body>
<script>
    /*var cache_num;

    var appCache = window.applicationCache;

    switch (appCache.status) {
        case appCache.UNCACHED: // UNCACHED == 0
            cache_num =  'UNCACHED';
            break;
        case appCache.IDLE: // IDLE == 1
            cache_num =  'IDLE';
            break;
        case appCache.CHECKING: // CHECKING == 2
            cache_num = 'CHECKING';
            break;
        case appCache.DOWNLOADING: // DOWNLOADING == 3
            cache_num = 'DOWNLOADING';
            break;
        case appCache.UPDATEREADY:  // UPDATEREADY == 4
            cache_num = 'UPDATEREADY';
            break;
        case appCache.OBSOLETE: // OBSOLETE == 5
            cache_num = 'OBSOLETE';
            break;
        default:
            cache_num = 'UKNOWN CACHE STATUS';
            break;


    };*/

    window.applicationCache.oncached =  function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': oncached</p>';
        console.log(window.applicationCache.status + ": oncached");
    };

    window.applicationCache.onchecking = function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': onchecking</p>';

        console.log(window.applicationCache.status + ": onchecking");
    };

    window.applicationCache.ondownloading =  function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': ondownloading</p>';

        console.log(window.applicationCache.status + ": ondownloading");
    };

    window.applicationCache.onerror =  function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': onerror </p>';

        console.log(window.applicationCache.status + ": onerror");
    };

    window.applicationCache.onnoupdate = function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': onnoupdate </p>';

        console.log(window.applicationCache.status + ": onnoupdate");
    };

    window.applicationCache.onobsolete = function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': onobsolete </p>';

        console.log(window.applicationCache.status + ": onobsolete");
    };

    window.applicationCache.onprogress = function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': onprogress </p>';

        console.log(window.applicationCache.status + ": onprogress");
    };

    window.applicationCache.onupdateready = function()
    {
        document.getElementById("jstt").innerHTML = document.getElementById("jstt").innerHTML + '<p>'+ window.applicationCache.status + ': onupdateready </p>';


        console.log(window.applicationCache.status + ": onupdateready");
    };

    console.log(window.applicationCache);


    if (window.applicationCache.status == window.applicationCache.UPDATEREADY)
    {
        //onUpdateReady();
    }
</script>
</html>