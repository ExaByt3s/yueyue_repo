function __handlebars_change_img_resize(r,e){var n="";e=e||"",e=parseInt(e,10),n=-1!=$.inArray(e,[120,320,165,640,600,145,440,230,260])?"_"+e:"";var t=/^http:\/\/(img|image)\d*(-c|-wap|-d)?(.poco.cn.*|.yueus.com.*)\.jpg|gif|png|bmp/i,a=/_(32|64|86|100|145|165|260|320|440|468|640).(jpg|png|jpeg|gif|bmp)/i;return t.test(r)&&(r=a.test(r)?r.replace(a,n+".$2"):r.replace("/(.d*).jpg|.jpg|.gif|.png|.bmp/i",n+".jpg")),r}function cutstr(r,e){var n=0,t=0;str_cut=new String,t=r.length;for(var i=0;t>i;i++)if(a=r.charAt(i),n++,escape(a).length>4&&n++,str_cut=str_cut.concat(a),n>=e)return str_cut=str_cut.concat("...");return e>n?r:void 0}Handlebars.registerHelper("compare",function(r,e,n,t){if(arguments.length<3)throw new Error('Handlerbars Helper "compare" needs 2 parameters');var a={"==":function(r,e){return r==e},"===":function(r,e){return r===e},"!=":function(r,e){return r!=e},"!==":function(r,e){return r!==e},"<":function(r,e){return e>r},">":function(r,e){return r>e},"<=":function(r,e){return e>=r},">=":function(r,e){return r>=e},"typeof":function(r,e){return typeof r==e}};if(!a[e])throw new Error('Handlerbars Helper "compare" doesn\'t know the operator '+e);var i=a[e](r,n);return i?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("if_equal",function(r,e,n){return r==e?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("percent",function(r,e){if(arguments.length<2)throw new Error('Handlerbars Helper "to%" needs 2 parameters');return Math.round(r/e*100)+"%"}),Handlebars.registerHelper("change_img_size",function(r,e){if(!r)throw new Error('Handlerbars Helper change_img_size function has no "img_url" params');if(!e)throw new Error('Handlerbars Helper change_img_size function has no "size" params');return __handlebars_change_img_resize(r,e)}),Handlebars.registerHelper("calculate",function(r,e,n){if(!e)throw new Error('Handlerbars Helper "calculate" needs at lest 2 parameters');var t={"+":function(r,e){return parseInt(r)+parseInt(e)},"-":function(r,e){return parseInt(r)-parseInt(e)},"*":function(r,e){return r*e},"/":function(r,e){return r!==e}};if(!t[e])throw new Error('Handlerbars Helper "compare" doesn\'t know the operator '+e);var a=t[e](r,n);return a}),Handlebars.registerHelper("add_one",function(r){return this._index=r,this._index}),Handlebars.registerHelper("cutstr",function(r,e){return cutstr(r,e)});