define("time_picker/index",function(t,e,a){var n=t("components/zepto/zepto.js"),r=Handlebars.template(function(t,e,a,n,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),r=r||{};var i,o,s="",h="function",d=this.escapeExpression;return s+='<div class="poco-time-picker fn-hide" data-role="poco-time-picker" data-time-picker="',(o=a.index)?i=o.call(e,{hash:{},data:r}):(o=e&&e.index,i=typeof o===h?o.call(e,{hash:{},data:r}):o),s+=d(i)+'">\r\n    <div class="title">',(o=a.title)?i=o.call(e,{hash:{},data:r}):(o=e&&e.title,i=typeof o===h?o.call(e,{hash:{},data:r}):o),s+=d(i)+'</div>\r\n    <div class="hour_contain" data-time-hour-picker="',(o=a.index)?i=o.call(e,{hash:{},data:r}):(o=e&&e.index,i=typeof o===h?o.call(e,{hash:{},data:r}):o),s+=d(i)+'"></div>\r\n</div>'}),i=Handlebars.template(function(t,e,a,n,r){function i(t){var e="";return e+='\r\n    <div class="time-picker-hour" data-time-carry="'+h(typeof t===s?t.apply(t):t)+'" data-time-tap="hour">'+h(typeof t===s?t.apply(t):t)+"</div>\r\n"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),r=r||{};var o,s="function",h=this.escapeExpression,d=this;return o=a.each.call(e,e&&e.data,{hash:{},inverse:d.noop,fn:d.program(1,i,r),data:r}),o||0===o?o:""});a.exports={hour_data:[],full_day_seconds:86400,create:function(t){var e=this;return e.init(t),e},init:function(t){var e=this;if(e.span=t.span||60,e.custom_time=t.custom_time||[],e.container=t.container||n("body"),e.title=t.title||"",e.custom_time.length)e._check_custom_data(e.custom_time);else{if(!e.span)throw"span cant not empty";e._format_hour_data(e.span)}e.render(),e.setup_event()},setup_event:function(){var t=this;n('[data-time-tap="hour"]').on("click",function(){var e=n(this).attr("data-time-carry");t.ele.trigger("time-hour-finish",e)})},render:function(){var t=this;t._render_frame(),t._render_hour()},_render_frame:function(){var t=this;t.render_index=parseInt(1e4*Math.random());var e=r({index:t.render_index,title:t.title});t.container.append(e)},_render_hour:function(){var t=this,e=i({data:t.hour_data});t.ele=n('[data-time-picker="'+t.render_index+'"]'),t.hour_insert=n('[data-time-hour-picker="'+t.render_index+'"]'),t.hour_insert.html(e)},show:function(){var t=this;t.ele.removeClass("fn-hide")},hide:function(){var t=this;t.ele.addClass("fn-hide")},_format_hour_data:function(t){var e=this,a=t||e.span,n=e.begins||"00",r=e.ends||"24",i=60*a,o=parseInt(n);e.hour_data=[];for(var s=60*parseInt(n)*60;s<60*parseInt(r)*60;s+=i){var h=e._second_to_hour(o);e.hour_data.push(h),o+=i}},_second_to_hour:function(t){var e=this,a=e._fix_single(parseInt(t/60/60)),n=e._fix_single(parseInt(t/60%60));return a+":"+n},_fix_single:function(t){var e=t.toString();return 2!=e.length&&(e="0"+e),e},_str_to_hour_min:function(t){var e=t.indexOf(":");if(5!=t.length)throw t+" is un valid => length ";if(2!=e)throw t+" is un valid => : ";var a=parseInt(t.substring(0,e));if(a>=24||0>a)throw t+" is un valid => hour 0~23";var n=parseInt(t.substring(e+1,t.length));if(n>=60||0>n)throw t+" is un valid => min 0~59"},_check_custom_data:function(t){for(var e=this,a=0;a<t.length;a++)e._str_to_hour_min(t[a]);e.hour_data=t},get_obj:function(){var t=this;return t.ele}}});