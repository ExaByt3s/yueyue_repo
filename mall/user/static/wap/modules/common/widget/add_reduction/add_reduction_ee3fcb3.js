define("common/widget/add_reduction/add_reduction",function(e){function a(e){var e=e||{};this.ele_tpl=e.ele,this.param_val=e.param_val||{},this.is_show_operate_btn=e.is_show_operate_btn;var a={input_val:0,max_val:"",min_val:""};this.data=t.extend(!0,{},a,this.param_val),this.init()}var t=e("components/zepto/zepto.js");return a.prototype={init:function(){var e=this;e.setup_event(),e.render(e.ele_tpl)},render:function(e){var a=this,t=Handlebars.template(function(e,a,t,n,d){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,e.helpers),d=d||{};var i,l,r="",_="function",v=this.escapeExpression;return r+='<div class="add-reduction-mod">\n            <!-- add-no reduce-no -->\n            <div class="reduce" btn-reduce><i class="icon icon-reduce-32x32-m"></i></div>  \n            <div class="input-area"><input type="num" value="',(l=t.default_btn_value)?i=l.call(a,{hash:{},data:d}):(l=a&&a.default_btn_value,i=typeof l===_?l.call(a,{hash:{},data:d}):l),r+=v(i)+'" class="input" btn-value></div>\n            <div class="add" btn-add><i class="icon icon-add-32x32-m"></i></div>\n</div>'}),n=e.html(t({default_btn_value:a.data.input_val}));a.ele=e,a.reduce_ele=n.find("[btn-reduce]"),a.add_ele=n.find("[btn-add]"),a.input_val_ele=n.find("[btn-value]"),a.is_show_operate_btn||a.hide_operate_btn(),a.reduce_ele.on("click",function(){a.reduce()}),a.add_ele.on("click",function(){a.add()})},setup_event:function(){},reduce:function(){var e=this,a=e.get_val();return a--,e.data.min_val&&a<e.data.min_val?void alert("所填数字不得小于"+e.data.min_val):0>a?void e.set_val(0):(e.set_val(a),void e.reduce_ele.trigger("reduce"))},add:function(){var e=this,a=e.get_val();return a++,e.data.max_val&&a>e.data.max_val?void alert("所填数字不得大于"+e.data.max_val):(e.set_val(a),void e.add_ele.trigger("add"))},get_val:function(){var e=this,a=e.input_val_ele.val();return a},set_val:function(e){var a=this;a.input_val_ele.val(e)},hide_operate_btn:function(){var e=this;e.reduce_ele.addClass("fn-hide"),e.add_ele.addClass("fn-hide"),e.input_val_ele.addClass("input-disabled"),e.input_val_ele.attr("readonly","true")}},a});