define("common/widget/header/main",function(n,e){"use strict";function t(n){var e=this;e.init(n)}var i=n("components/zepto/zepto.js"),a=n("common/ua/index");t.prototype={init:function(n){var e=this;if(e.options=n,e.render_ele=n.ele,e.left_side_html=i.trim(n.left_side_html),null==e.options.left_icon_show&&(e.options.left_icon_show=!0),e.config=!0,n.header_show||e.set_bar_css(),!n.title.trim()){var t=document.title;e.options=i.extend(!0,{},e.options,{title:t,left_side_html:e.left_side_html})}var r=window.location.pathname;return/test/.test(r)&&(n.title="测试-"+n.title),e.render(e.rend_ele),(a.is_yue_app||a.is_yue_seller)&&(e.$el.addClass("fn-hide"),e.set_bar_css()),e},render:function(){var n=this,e=n.options,t=Handlebars.template(function(n,e,t,i,a){function r(n,e){var i,a,r="";return r+='\n    <!-- header start -->\n    <header class="global-header">\n        <div class="wbox clearfix">\n\n            ',i=t["if"].call(n,n&&n.left_icon_show,{hash:{},inverse:m.noop,fn:m.program(2,o,e),data:e}),(i||0===i)&&(r+=i),r+='\n            \n\n            <h3 class="title">',(a=t.title)?i=a.call(n,{hash:{},data:e}):(a=n&&n.title,i=typeof a===v?a.call(n,{hash:{},data:e}):a),r+=g(i)+"</h3>\n\n            ",i=t["if"].call(n,n&&n.right_icon_show,{hash:{},inverse:m.noop,fn:m.program(7,c,e),data:e}),(i||0===i)&&(r+=i),r+="\n\n        </div>\n    </header>\n    <!-- header end -->\n"}function o(n,e){var i,a="";return a+="\n                ",i=t["if"].call(n,n&&n.left_side_html,{hash:{},inverse:m.program(5,s,e),fn:m.program(3,l,e),data:e}),(i||0===i)&&(a+=i),a+="\n            "}function l(n,e){var i,a,r="";return r+="     \n                    ",(a=t.left_side_html)?i=a.call(n,{hash:{},data:e}):(a=n&&n.left_side_html,i=typeof a===v?a.call(n,{hash:{},data:e}):a),(i||0===i)&&(r+=i),r+="\n                "}function s(){return'\n                    <a href="javascript:void(0);" >\n                        <div class="back" data-role="page-back">\n                            <i class="icon-back"></i>\n                        </div>\n                    </a>\n                '}function c(n,e){var i,a="";return a+="\n\n                ",i=t["if"].call(n,(i=n&&n.share_icon,null==i||i===!1?i:i.show),{hash:{},inverse:m.noop,fn:m.program(8,h,e),data:e}),(i||0===i)&&(a+=i),a+="\n\n                ",i=t["if"].call(n,(i=n&&n.omit_icon,null==i||i===!1?i:i.show),{hash:{},inverse:m.noop,fn:m.program(10,d,e),data:e}),(i||0===i)&&(a+=i),a+="\n        \n                ",i=t["if"].call(n,(i=n&&n.show_txt,null==i||i===!1?i:i.show),{hash:{},inverse:m.noop,fn:m.program(12,f,e),data:e}),(i||0===i)&&(a+=i),a+="\n\n                ",i=t["if"].call(n,(i=n&&n.search_icon,null==i||i===!1?i:i.show),{hash:{},inverse:m.noop,fn:m.program(14,_,e),data:e}),(i||0===i)&&(a+=i),a+="\n                    \n            "}function h(){return'\n                    <!-- 分享按钮 -->\n                    <div class="share" data-role="right-btn">\n                        <i class="icon-share"></i>\n                    </div>\n                    <!-- 分享按钮 end -->\n                '}function d(){return'\n                    <!-- 三点 -->\n                    <div class="omit" data-role="right-btn">\n                        <i class="icon-omit"></i>\n                    </div>\n                    <!-- 三点 end -->\n                '}function f(n){var e,t="";return t+='\n                    <!-- 文字 -->\n                    <div class="side-txt" style="'+g((e=n&&n.show_txt,e=null==e||e===!1?e:e.style,typeof e===v?e.apply(n):e))+'" data-role="right-btn">\n                        '+g((e=n&&n.show_txt,e=null==e||e===!1?e:e.content,typeof e===v?e.apply(n):e))+"\n                    </div>\n                    <!-- end -->\n                "}function _(){return'\n                    <div class="search" data-role="right-btn">\n                        <i class="icon-search"></i>\n                    </div>\n                '}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,n.helpers),a=a||{};var p,u="",v="function",m=this,g=this.escapeExpression;return u+="\n",p=t["if"].call(e,e&&e.header_show,{hash:{},inverse:m.noop,fn:m.program(1,r,a),data:a}),(p||0===p)&&(u+=p),u});n.render_ele.html(t(e)),n.$el=n.render_ele,n.setup_event(n.$el)},setup_event:function(){var n=this,e=null==n.options.use_page_back?!0:!1;n.$el.find('[data-role="page-back"]').on("click",function(){e?n.page_back():n.$el.trigger("click:left_btn")}),n.$el.find('[data-role="right-btn"]').on("click",function(){n.$el.trigger("click:right_btn")})},page_back:function(){return document.referrer?(window.history.back(),!1):void(window.location.href=__index_url_link)},set_bar_css:function(){i("[role=main]").css({paddingTop:"0"})}},e.init=function(n){return new t(n)}});