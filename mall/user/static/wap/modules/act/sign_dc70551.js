define("act/sign",function(a,n){"use strict";var l=a("common/utility/index"),e=a("components/zepto/zepto.js"),t=a("components/fastclick/fastclick.js"),o=(a("yue_ui/frozen"),a("common/I_APP/I_APP")),i=Handlebars.template(function(a,n,l,e,t){function o(a,n){var e,t,o="";return o+='\n    <li class="game-part">\n        <div class="item" data-role="dropdown">\n            <div class="title">',(t=l.table_name)?e=t.call(a,{hash:{},data:n}):(t=a&&a.table_name,e=typeof t===g?t.call(a,{hash:{},data:n}):t),o+=w(e)+'</div>\n            <div class="title-text">\n                <div class="text">',(t=l.event_total_join)?e=t.call(a,{hash:{},data:n}):(t=a&&a.event_total_join,e=typeof t===g?t.call(a,{hash:{},data:n}):t),o+=w(e)+'</div>\n                <i class="icon icon-allow-grey icon-allow-grey-bottom"></i>\n            </div>\n        </div>\n        <div class="item-details fn-hide">\n            ',e=l["if"].call(a,(e=a&&a.enroll_arr,null==e||e===!1?e:e.first),{hash:{},inverse:y.noop,fn:y.program(2,i,n),data:n}),(e||0===e)&&(o+=e),o+="\n            ",e=l["if"].call(a,(e=a&&a.enroll_arr,null==e||e===!1?e:e.backup),{hash:{},inverse:y.noop,fn:y.program(14,v,n),data:n}),(e||0===e)&&(o+=e),o+="\n            ",e=l["if"].call(a,(e=a&&a.enroll_arr,null==e||e===!1?e:e.onlook),{hash:{},inverse:y.noop,fn:y.program(17,f,n),data:n}),(e||0===e)&&(o+=e),o+="\n        </div>\n    </li>\n"}function i(a,n){var e,t="";return t+='\n                <div class="first list">\n                    <div class="first-title title open" data-role="item-dropdown">\n                        <div class="title-left">正选已支付</div>\n                        <div class="title-right">\n                            '+w((e=a&&a.enroll_arr,e=null==e||e===!1?e:e.first,e=null==e||e===!1?e:e.enroll_num,typeof e===g?e.apply(a):e))+'\n                            <i class="icon-allow-grey icon-allow-grey-top"></i>\n                        </div>\n                    </div>\n                    <div class="first-details details">\n                        ',e=l.each.call(a,(e=a&&a.enroll_arr,e=null==e||e===!1?e:e.first,null==e||e===!1?e:e.enroll_list),{hash:{},inverse:y.noop,fn:y.program(3,s,n),data:n}),(e||0===e)&&(t+=e),t+="\n                    </div>\n                </div>\n            "}function s(a,n){var e,t,o,i="";return i+='\n                            <div class="child" >\n                                <img class="img-container" data-nickname="',(t=l.nick_name)?e=t.call(a,{hash:{},data:n}):(t=a&&a.nick_name,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'" src="',(t=l.user_icon_165)?e=t.call(a,{hash:{},data:n}):(t=a&&a.user_icon_165,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'" data-role="navigate" data-target="zone" data-uid="',(t=l.user_id)?e=t.call(a,{hash:{},data:n}):(t=a&&a.user_id,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'" data-user-role="',(t=l.role)?e=t.call(a,{hash:{},data:n}):(t=a&&a.role,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'"/>\n                                <div class="info-container">\n                                    <div class="top">\n                                        <div class="nickname">',(t=l.nick_name)?e=t.call(a,{hash:{},data:n}):(t=a&&a.nick_name,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+"</div>\n                                        ",t=l.if_equal||a&&a.if_equal,o={hash:{},inverse:y.program(6,c,n),fn:y.program(4,r,n),data:n},e=t?t.call(a,a&&a.enroll_num,"1",o):k.call(a,"if_equal",a&&a.enroll_num,"1",o),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.mark_text,{hash:{},inverse:y.noop,fn:y.program(8,d,n),data:n}),(e||0===e)&&(i+=e),i+='\n\n                                    </div>\n                                    <div class="btm">\n                                        <div class="identity">ID:',(t=l.user_id)?e=t.call(a,{hash:{},data:n}):(t=a&&a.user_id,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+"</div>\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:y.noop,fn:y.program(10,h,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:y.noop,fn:y.program(12,p,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                    </div>\n                                </div>\n                            </div>\n                        "}function r(){return"\n                                        "}function c(a,n){var e,t,o="";return o+='\n                                            <div class="num">(共',(t=l.enroll_num)?e=t.call(a,{hash:{},data:n}):(t=a&&a.enroll_num,e=typeof t===g?t.call(a,{hash:{},data:n}):t),o+=w(e)+"人)</div>\n                                        "}function d(a,n){var e,t,o="";return o+='\n                                            <div class="sign-tip">',(t=l.mark_text)?e=t.call(a,{hash:{},data:n}):(t=a&&a.mark_text,e=typeof t===g?t.call(a,{hash:{},data:n}):t),o+=w(e)+"</div>\n                                        "}function h(){return"\n                                            <div>手机：</div>\n                                        "}function p(a,n){var e,t,o="";return o+='\n                                            <div class="phone" data-role="call-phone" data-phone="',(t=l.cellphone)?e=t.call(a,{hash:{},data:n}):(t=a&&a.cellphone,e=typeof t===g?t.call(a,{hash:{},data:n}):t),o+=w(e)+'">',(t=l.cellphone)?e=t.call(a,{hash:{},data:n}):(t=a&&a.cellphone,e=typeof t===g?t.call(a,{hash:{},data:n}):t),o+=w(e)+"</div>\n                                        "}function v(a,n){var e,t="";return t+='\n                <div class="backup list">\n                    <div class="backup-title title open" data-role="item-dropdown">\n                        <div class="title-left">候补已支付</div>\n                        <div class="title-right">\n                            '+w((e=a&&a.enroll_arr,e=null==e||e===!1?e:e.backup,e=null==e||e===!1?e:e.enroll_num,typeof e===g?e.apply(a):e))+'\n                            <i class="icon-allow-grey icon-allow-grey-top"></i>\n                        </div>\n                    </div>\n                    <div class="backup-details details">\n                        ',e=l.each.call(a,(e=a&&a.enroll_arr,e=null==e||e===!1?e:e.backup,null==e||e===!1?e:e.enroll_list),{hash:{},inverse:y.noop,fn:y.program(15,u,n),data:n}),(e||0===e)&&(t+=e),t+="\n                    </div>\n                </div>\n            "}function u(a,n){var e,t,o,i="";return i+='\n                            <div class="child">\n                                <img class="img-container" data-nickname="',(t=l.nick_name)?e=t.call(a,{hash:{},data:n}):(t=a&&a.nick_name,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'" src="',(t=l.user_icon_165)?e=t.call(a,{hash:{},data:n}):(t=a&&a.user_icon_165,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'" data-role="navigate" data-target="zone" data-uid="',(t=l.user_id)?e=t.call(a,{hash:{},data:n}):(t=a&&a.user_id,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'" data-user-role="',(t=l.role)?e=t.call(a,{hash:{},data:n}):(t=a&&a.role,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+'"/>\n                                <div class="info-container">\n                                    <div class="top">\n                                        <div class="nickname">',(t=l.nick_name)?e=t.call(a,{hash:{},data:n}):(t=a&&a.nick_name,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+"</div>\n                                        ",t=l.if_equal||a&&a.if_equal,o={hash:{},inverse:y.program(6,c,n),fn:y.program(4,r,n),data:n},e=t?t.call(a,a&&a.enroll_num,"1",o):k.call(a,"if_equal",a&&a.enroll_num,"1",o),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.mark_text,{hash:{},inverse:y.noop,fn:y.program(8,d,n),data:n}),(e||0===e)&&(i+=e),i+='\n                                    </div>\n                                    <div class="btm">\n                                        <div class="identity">ID:',(t=l.user_id)?e=t.call(a,{hash:{},data:n}):(t=a&&a.user_id,e=typeof t===g?t.call(a,{hash:{},data:n}):t),i+=w(e)+"</div>\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:y.noop,fn:y.program(10,h,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:y.noop,fn:y.program(12,p,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                    </div>\n                                </div>\n                            </div>\n                        "}function f(a,n){var e,t="";return t+='\n                <div class="onlook list">\n                    <div class="onlook-title title open" data-role="item-dropdown">\n                        <div class="title-left">报名未支付</div>\n                        <div class="title-right">\n                            '+w((e=a&&a.enroll_arr,e=null==e||e===!1?e:e.onlook,e=null==e||e===!1?e:e.enroll_num,typeof e===g?e.apply(a):e))+'\n                            <i class="icon-allow-grey icon-allow-grey-top"></i>\n                        </div>\n                    </div>\n                    <div class="onlook-details details">\n                        ',e=l.each.call(a,(e=a&&a.enroll_arr,e=null==e||e===!1?e:e.onlook,null==e||e===!1?e:e.enroll_list),{hash:{},inverse:y.noop,fn:y.program(15,u,n),data:n}),(e||0===e)&&(t+=e),t+="\n                    </div>\n                </div>\n            "}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),t=t||{};var _,m="",g="function",w=this.escapeExpression,y=this,k=l.helperMissing;return _=l.each.call(n,n&&n.data,{hash:{},inverse:y.noop,fn:y.program(1,o,t),data:t}),(_||0===_)&&(m+=_),m+="\n"}),s=a("menu/index"),r=a("common/widget/header/main");"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){t.attach(document.body)},!1),n.init=function(a){var n=e({}),t=function(){var a=this;a.init()};t.prototype={init:function(){n.$list=e('[data-role="action-signin-list"]'),n.$join_btn=e('[data-role="join-btn"]'),o.isPaiApp&&o.showtopmenu(!0);var a=[{index:0,content:"扫描二维码",click_event:function(){o.qrcodescan()}},{index:1,content:"首页",click_event:function(){o.isPaiApp&&o.switchtopage({page:"hot"})}},{index:2,content:"刷新",click_event:function(){window.location.href=window.location.href}}];s.render(e("body"),a);var t=0;l.$_AppCallJSObj.on("__showTopBarMenu",function(){t++,t%2!=0?s.show():s.hide()}),r.init({ele:e("#global-header"),title:"查看名单",header_show:!0,right_icon_show:!1,share_icon:{show:!1,content:""},omit_icon:{show:!1,content:""},show_txt:{show:!1,content:"编辑"}})},setup_event:function(){n.$item_dropdown=e('[data-role="item-dropdown"]'),n.$dropdown=e('[data-role="dropdown"]'),e('[data-role="scan-btn"]').on("click",function(){o.isPaiApp&&o.qrcodescan()}),e("[data-user-role]").on("click",function(a){var n=window.__can_use_chat;if(o.isPaiApp&&1==n){var l=e(a.currentTarget),t={receiverid:l.attr("data-uid"),receivername:l.attr("data-nickname"),receivericon:l.attr("src")},i=window.__chat_json.result_data,s=e.extend(!0,i,t);o.chat(s)}}),n.$dropdown.on("click",function(a){var n=e(a.currentTarget);n.toggleClass("open").next().toggleClass("fn-hide");var l=n.toggleClass("open").find(".icon-allow-grey");l.hasClass("icon-allow-grey-bottom")?(l.removeClass("icon-allow-grey-bottom"),l.addClass("icon-allow-grey-top")):(l.removeClass("icon-allow-grey-top"),l.addClass("icon-allow-grey-bottom"))}),n.$item_dropdown.on("click",function(a){var n=e(a.currentTarget);n.toggleClass("open").next().toggleClass("fn-hide");var l=n.toggleClass("open").find(".icon-allow-grey");l.hasClass("icon-allow-grey-bottom")?(l.removeClass("icon-allow-grey-bottom"),l.addClass("icon-allow-grey-top")):(l.removeClass("icon-allow-grey-top"),l.addClass("icon-allow-grey-bottom"))}),n.$join_btn.on("click",function(){var a=e("#event_id").val();window.location.href="./apply.php?event_id="+a})},refresh:function(){var l=this,e=i({data:a.result_data});n.$list.html(e),l.setup_event()}};var c=new t;c.refresh()}});