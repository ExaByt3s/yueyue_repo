define("act/sign",function(a,n){"use strict";var l=a("common/utility/index"),e=a("components/zepto/zepto.js"),o=a("components/fastclick/fastclick.js"),t=(a("yue_ui/frozen"),a("common/I_APP/I_APP")),i=Handlebars.template(function(a,n,l,e,o){function t(a,n){var e,o,t="";return t+='\n    <li class="game-part">\n        <div class="item" data-role="dropdown">\n            <div class="title">',(o=l.table_name)?e=o.call(a,{hash:{},data:n}):(o=a&&a.table_name,e=typeof o===g?o.call(a,{hash:{},data:n}):o),t+=y(e)+'</div>\n            <div class="title-text">\n                <div class="text">',(o=l.event_total_join)?e=o.call(a,{hash:{},data:n}):(o=a&&a.event_total_join,e=typeof o===g?o.call(a,{hash:{},data:n}):o),t+=y(e)+'</div>\n                <i class="icon icon-allow-grey icon-allow-grey-bottom"></i>\n            </div>\n        </div>\n        <div class="item-details fn-hide">\n            ',e=l["if"].call(a,(e=a&&a.enroll_arr,null==e||e===!1?e:e.first),{hash:{},inverse:w.noop,fn:w.program(2,i,n),data:n}),(e||0===e)&&(t+=e),t+="\n            ",e=l["if"].call(a,(e=a&&a.enroll_arr,null==e||e===!1?e:e.backup),{hash:{},inverse:w.noop,fn:w.program(14,v,n),data:n}),(e||0===e)&&(t+=e),t+="\n            ",e=l["if"].call(a,(e=a&&a.enroll_arr,null==e||e===!1?e:e.onlook),{hash:{},inverse:w.noop,fn:w.program(17,f,n),data:n}),(e||0===e)&&(t+=e),t+="\n        </div>\n    </li>\n"}function i(a,n){var e,o="";return o+='\n                <div class="first list">\n                    <div class="first-title title open" data-role="item-dropdown">\n                        <div class="title-left">正选已支付</div>\n                        <div class="title-right">\n                            '+y((e=a&&a.enroll_arr,e=null==e||e===!1?e:e.first,e=null==e||e===!1?e:e.enroll_num,typeof e===g?e.apply(a):e))+'\n                            <i class="icon-allow-grey icon-allow-grey-top"></i>\n                        </div>\n                    </div>\n                    <div class="first-details details">\n                        ',e=l.each.call(a,(e=a&&a.enroll_arr,e=null==e||e===!1?e:e.first,null==e||e===!1?e:e.enroll_list),{hash:{},inverse:w.noop,fn:w.program(3,s,n),data:n}),(e||0===e)&&(o+=e),o+="\n                    </div>\n                </div>\n            "}function s(a,n){var e,o,t,i="";return i+='\n                            <div class="child" >\n                                <img class="img-container" src="',(o=l.user_icon_165)?e=o.call(a,{hash:{},data:n}):(o=a&&a.user_icon_165,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+'" data-role="navigate" data-target="zone" data-uid="',(o=l.user_id)?e=o.call(a,{hash:{},data:n}):(o=a&&a.user_id,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+'" data-user-role="',(o=l.role)?e=o.call(a,{hash:{},data:n}):(o=a&&a.role,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+'"/>\n                                <div class="info-container">\n                                    <div class="top">\n                                        <div class="nickname">',(o=l.nick_name)?e=o.call(a,{hash:{},data:n}):(o=a&&a.nick_name,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+"</div>\n                                        ",o=l.if_equal||a&&a.if_equal,t={hash:{},inverse:w.program(6,c,n),fn:w.program(4,r,n),data:n},e=o?o.call(a,a&&a.enroll_num,"1",t):k.call(a,"if_equal",a&&a.enroll_num,"1",t),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.mark_text,{hash:{},inverse:w.noop,fn:w.program(8,d,n),data:n}),(e||0===e)&&(i+=e),i+='\n\n                                    </div>\n                                    <div class="btm">\n                                        <div class="identity">ID:',(o=l.user_id)?e=o.call(a,{hash:{},data:n}):(o=a&&a.user_id,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+"</div>\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:w.noop,fn:w.program(10,h,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:w.noop,fn:w.program(12,p,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                    </div>\n                                </div>\n                            </div>\n                        "}function r(){return"\n                                        "}function c(a,n){var e,o,t="";return t+='\n                                            <div class="num">(共',(o=l.enroll_num)?e=o.call(a,{hash:{},data:n}):(o=a&&a.enroll_num,e=typeof o===g?o.call(a,{hash:{},data:n}):o),t+=y(e)+"人)</div>\n                                        "}function d(a,n){var e,o,t="";return t+='\n                                            <div class="sign-tip">',(o=l.mark_text)?e=o.call(a,{hash:{},data:n}):(o=a&&a.mark_text,e=typeof o===g?o.call(a,{hash:{},data:n}):o),t+=y(e)+"</div>\n                                        "}function h(){return"\n                                            <div>手机：</div>\n                                        "}function p(a,n){var e,o,t="";return t+='\n                                            <div class="phone" data-role="call-phone" data-phone="',(o=l.cellphone)?e=o.call(a,{hash:{},data:n}):(o=a&&a.cellphone,e=typeof o===g?o.call(a,{hash:{},data:n}):o),t+=y(e)+'">',(o=l.cellphone)?e=o.call(a,{hash:{},data:n}):(o=a&&a.cellphone,e=typeof o===g?o.call(a,{hash:{},data:n}):o),t+=y(e)+"</div>\n                                        "}function v(a,n){var e,o="";return o+='\n                <div class="backup list">\n                    <div class="backup-title title open" data-role="item-dropdown">\n                        <div class="title-left">候补已支付</div>\n                        <div class="title-right">\n                            '+y((e=a&&a.enroll_arr,e=null==e||e===!1?e:e.backup,e=null==e||e===!1?e:e.enroll_num,typeof e===g?e.apply(a):e))+'\n                            <i class="icon-allow-grey icon-allow-grey-top"></i>\n                        </div>\n                    </div>\n                    <div class="backup-details details">\n                        ',e=l.each.call(a,(e=a&&a.enroll_arr,e=null==e||e===!1?e:e.backup,null==e||e===!1?e:e.enroll_list),{hash:{},inverse:w.noop,fn:w.program(15,u,n),data:n}),(e||0===e)&&(o+=e),o+="\n                    </div>\n                </div>\n            "}function u(a,n){var e,o,t,i="";return i+='\n                            <div class="child">\n                                <img class="img-container" src="',(o=l.user_icon_165)?e=o.call(a,{hash:{},data:n}):(o=a&&a.user_icon_165,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+'" data-role="navigate" data-target="zone" data-uid="',(o=l.user_id)?e=o.call(a,{hash:{},data:n}):(o=a&&a.user_id,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+'" data-user-role="',(o=l.role)?e=o.call(a,{hash:{},data:n}):(o=a&&a.role,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+'"/>\n                                <div class="info-container">\n                                    <div class="top">\n                                        <div class="nickname">',(o=l.nick_name)?e=o.call(a,{hash:{},data:n}):(o=a&&a.nick_name,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+"</div>\n                                        ",o=l.if_equal||a&&a.if_equal,t={hash:{},inverse:w.program(6,c,n),fn:w.program(4,r,n),data:n},e=o?o.call(a,a&&a.enroll_num,"1",t):k.call(a,"if_equal",a&&a.enroll_num,"1",t),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.mark_text,{hash:{},inverse:w.noop,fn:w.program(8,d,n),data:n}),(e||0===e)&&(i+=e),i+='\n                                    </div>\n                                    <div class="btm">\n                                        <div class="identity">ID:',(o=l.user_id)?e=o.call(a,{hash:{},data:n}):(o=a&&a.user_id,e=typeof o===g?o.call(a,{hash:{},data:n}):o),i+=y(e)+"</div>\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:w.noop,fn:w.program(10,h,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                        ",e=l["if"].call(a,a&&a.cellphone,{hash:{},inverse:w.noop,fn:w.program(12,p,n),data:n}),(e||0===e)&&(i+=e),i+="\n                                    </div>\n                                </div>\n                            </div>\n                        "}function f(a,n){var e,o="";return o+='\n                <div class="onlook list">\n                    <div class="onlook-title title open" data-role="item-dropdown">\n                        <div class="title-left">报名未支付</div>\n                        <div class="title-right">\n                            '+y((e=a&&a.enroll_arr,e=null==e||e===!1?e:e.onlook,e=null==e||e===!1?e:e.enroll_num,typeof e===g?e.apply(a):e))+'\n                            <i class="icon-allow-grey icon-allow-grey-top"></i>\n                        </div>\n                    </div>\n                    <div class="onlook-details details">\n                        ',e=l.each.call(a,(e=a&&a.enroll_arr,e=null==e||e===!1?e:e.onlook,null==e||e===!1?e:e.enroll_list),{hash:{},inverse:w.noop,fn:w.program(15,u,n),data:n}),(e||0===e)&&(o+=e),o+="\n                    </div>\n                </div>\n            "}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),o=o||{};var m,_="",g="function",y=this.escapeExpression,w=this,k=l.helperMissing;return m=l.each.call(n,n&&n.data,{hash:{},inverse:w.noop,fn:w.program(1,t,o),data:o}),(m||0===m)&&(_+=m),_+="\n"}),s=a("menu/index"),r=a("common/widget/header/main");"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){o.attach(document.body)},!1),n.init=function(a){var n=e({}),o=function(){var a=this;a.init()};o.prototype={init:function(){n.$list=e('[data-role="action-signin-list"]'),n.$join_btn=e('[data-role="join-btn"]'),t.isPaiApp&&t.showtopmenu(!0);var a=[{index:0,content:"扫描二维码",click_event:function(){t.qrcodescan()}},{index:1,content:"首页",click_event:function(){t.isPaiApp&&t.switchtopage({page:"hot"})}},{index:2,content:"刷新",click_event:function(){window.location.href=window.location.href}}];s.render(e("body"),a);var o=0;l.$_AppCallJSObj.on("__showTopBarMenu",function(){o++,o%2!=0?s.show():s.hide()}),r.init({ele:e("#global-header"),title:"查看名单",header_show:!0,right_icon_show:!1,share_icon:{show:!1,content:""},omit_icon:{show:!1,content:""},show_txt:{show:!1,content:"编辑"}})},setup_event:function(){n.$item_dropdown=e('[data-role="item-dropdown"]'),n.$dropdown=e('[data-role="dropdown"]'),e('[data-role="scan-btn"]').on("click",function(){t.isPaiApp&&t.qrcodescan()}),n.$dropdown.on("click",function(a){var n=e(a.currentTarget);n.toggleClass("open").next().toggleClass("fn-hide");var l=n.toggleClass("open").find(".icon-allow-grey");l.hasClass("icon-allow-grey-bottom")?(l.removeClass("icon-allow-grey-bottom"),l.addClass("icon-allow-grey-top")):(l.removeClass("icon-allow-grey-top"),l.addClass("icon-allow-grey-bottom"))}),n.$item_dropdown.on("click",function(a){var n=e(a.currentTarget);n.toggleClass("open").next().toggleClass("fn-hide");var l=n.toggleClass("open").find(".icon-allow-grey");l.hasClass("icon-allow-grey-bottom")?(l.removeClass("icon-allow-grey-bottom"),l.addClass("icon-allow-grey-top")):(l.removeClass("icon-allow-grey-top"),l.addClass("icon-allow-grey-bottom"))}),n.$join_btn.on("click",function(){var a=e("#event_id").val();window.location.href="./apply.php?event_id="+a})},refresh:function(){var l=this,e=i({data:a.result_data});n.$list.html(e),l.setup_event()}};var c=new o;c.refresh()}});