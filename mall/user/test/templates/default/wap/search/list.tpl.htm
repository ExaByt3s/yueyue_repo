<!DOCTYPE html>
<html lang="zh">
<head>
    <title>{type_name}</title>
    
    <!-- {wap_global_top} -->
    <meta charset="gbk">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.3, user-scalable=0"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no"/>

<meta name="wap-font-scale" content="no">

<script type="text/javascript">
 
	
	<!-- IF js_debug -->
	/**
     * @param {String}  errorMessage   错误信息
     * @param {String}  scriptURI      出错的文件
     * @param {Long}    lineNumber     出错代码的行号
     * @param {Long}    columnNumber   出错代码的列号
     */
   //  window.onerror = function (errorMessage, scriptURI, lineNumber, columnNumber)
   //  {

   //      // 有callback的情况下，将错误信息传递到options.callback中
   //      if (typeof callback === 'function') {
   //          callback({
   //              message: errorMessage,
   //              script: scriptURI,
   //              line: lineNumber,
   //              column: columnNumber
   //          });
   //      } else {
   //          // 其他情况，都以alert方式直接提示错误信息            
   //          var img = new Image();

   //          var msgs = [];

   //          msgs.push("代码有错。。。");
   //          msgs.push("\n错误信息：", errorMessage);
   //          msgs.push("\n出错文件：", scriptURI);
   //          msgs.push("\n出错位置：", lineNumber + '行，' + columnNumber + '列');


			// alert(msgs.join(''))

   //      }
   //  };
	<!-- ENDIF -->

</script>

<!-- 性能 log start -->
{xn_log}
<!-- 性能 log end -->

<!-- modjs 必须引用 -->
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/lib/mod.js"></script>
<!--基础样式 START-->
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/style/base.css">
<!-- 通用 -->
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/style/common/common.css">
<!-- 颜色配置 -->
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/style/common/ui-colcor.css">
<!-- 按钮配置 -->
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/style/common/ui-button.css">
<!--基础样式 END-->

<!--App bridge-->
<script>
{app_bridge_script}
</script>  

<script>

    window.__wifi_link = /yp-wifi/.test(window.location.host)?'-wifi':'';

    window.__test__str = /test/.test(window.location.href)?'test/':'';

	window.$__ajax_domain = 'http://yp'+__wifi_link+'.yueus.com/mall/user/'+__test__str + 'ajax/';
    window.$__ajax_common_url = 'http://yp'+__wifi_link+'.yueus.com/mall/user/'+__test__str + 'ajax_url_transit.php';

	window.$__config = 
	{				
		ajax_url :
		{
            get_tt_pay_info : window.$__ajax_domain + 'get_tt_pay_info.php',
            pay_tt_action : window.$__ajax_domain + 'pay_tt_action.php',
			list_control : window.$__ajax_domain + 'order_list_control.php',
            order_submit : window.$__ajax_domain + 'order_submit.php',
            get_user_coupon_list_by_check : window.$__ajax_domain + 'get_user_coupon_list_by_check.php',
            get_topic_info : window.$__ajax_domain + 'get_topic_info.php',
            get_topic_list : window.$__ajax_domain + 'get_topic_list.php',
            list_pay_judge : window.$__ajax_domain + 'order_list_pay_judge.php',
            submit_comment : window.$__ajax_domain + 'submit_comment.php'

		}

	};

    // 配置全局首页路径
    window.__index_url_link = '{index_url_link}';
    document.addEventListener('touchstart',function(){},false);
</script>

<!-- 判断微信 -->
<!-- IF is_weixin -->
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>

<!--配置微信全局变量-->
<script>
    (function()
    {
        var __wx_common_share = {};
        var __wx_common_timeline = {};
        var loc = window.location;

        __wx_common_share =
        {
            title: "约约，最高效的时间电商平台", // 分享标题
            desc: "找模特？找活动？找场地？找化妆？找培训？上约约吧! ", // 分享描述
            link: window.location.href,
            imgUrl:'http://img16.poco.cn/yueyue/customer_icon.png?' + new Date().getTime(), // 分享图标
            type: 'link', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function () {
                // 用户确认分享后执行的回调函数
                //alert("分分分成功")
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        };

        __wx_common_timeline =
        {
            title: "约约，最高效的时间电商平台", // 分享标题
            desc: "找模特？找活动？找场地？找化妆？找培训？上约约吧! ", // 分享描述
            link: window.location.href, // 分享链接
            imgUrl:'http://img16.poco.cn/yueyue/customer_icon.png?' + new Date().getTime(), // 分享图标
            type: 'link', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        };

        window.__wx_common_share = __wx_common_share;
        window.__wx_common_timeline = __wx_common_timeline

        var wx_json = {wx_json};
        var debug = '{debug}' == 1 ? true:false;

        wx.config
        ({
            debug: debug, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
            appId: wx_json.appId, // 必填，公众号的唯一标识
            timestamp: wx_json.timestamp, // 必填，生成签名的时间戳
            nonceStr: wx_json.nonceStr, // 必填，生成签名的随机串
            signature: wx_json.signature,// 必填，签名，见附录1
            jsApiList: ['checkJsApi',
                'chooseImage',
                'previewImage',
                'uploadImage',
                'onMenuShareTimeline',
                'onMenuShareAppMessage',
                'onMenuShareQQ',
                'onMenuShareWeibo',
                'hideMenuItems',
                'showMenuItems',
                'hideAllNonBaseMenuItem',
                'showAllNonBaseMenuItem',
                'getNetworkType',
                'openLocation',
                'getLocation',
                'hideOptionMenu',
                'showOptionMenu',
                'closeWindow',
                'scanQRCode',
                'chooseWXPay',
                'downloadImage',
                'openProductSpecificView'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
        });

        wx.ready(function()
        {
            wx.onMenuShareAppMessage(window.__wx_common_share);

            wx.onMenuShareTimeline(window.__wx_common_timeline);

            wx.onMenuShareQQ(window.__wx_common_share);


        });
    })();
</script>
<!-- ENDIF -->

<!-- 异常捕获 start -->

<!-- 异常捕获 end -->
    <link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/style/search/list.css">
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/lib/lib.js"></script>
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/modules/common/widget/header/header.css">
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/modules/list/list.css">
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/user/test/static/wap/modules/common/widget/abnormal/main.css">
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/components/zepto/zepto.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/cookie/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/ua/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/yue_ui/frozen.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/I_APP/I_APP.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/utility/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/widget/header/main.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/I_WX_SDK/I_WX_SDK.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/widget/abnormal/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/common/lazyload/lazyload.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/user/test/static/wap/modules/list/list.js"></script>
</head>
<body>
<main role="main">
    <section id="global-header"></section>
    <div class="page-view" data-role="page-container">
        <div>

            <div class="search-list-page">   
                <div class="service_list" data-role="service_list">

                    <div id="render_ele"></div>

                </div>

                <div data-role="list_container"></div>
            </div>    

            <div class="order_list_container" data-role="list_container"></div>

        </div>
    </div>
</main>
</body>
<script>

var $ = require('components/zepto/zepto.js');
var utility = require('common/utility/index');
var header = require('common/widget/header/main');
var frozen = require('yue_ui/frozen');
var WeiXinSDK =  require('common/I_WX_SDK/I_WX_SDK');


var header = require('common/widget/header/main');
$(document).ready(function() {


    var _self = $({});

    var page_params = {page_params}.result_data;
    // 转码
    page_params.keyword = decodeURIComponent(page_params.keyword);

    _self.type = page_params.type ;


    // php 接口切换
    switch (_self.type)
    {
        case 'seller': 
            console.log('seller');
            //_self.php_url = 'customer/search_sellers.php' ;
            _self.title = '商家列表';
            var template  = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, functionType="function", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper, options;
  buffer += "\r\n    <div class=\"child\" data-goods-id=\"2115510\">\r\n        <div class=\"pics_con\" data-url=\"\">\r\n            <a href=\"";
  if (helper = helpers.link) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.link); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\" class=\"db\">\r\n                <i data-lazyload-url=\"";
  if (helper = helpers.cover) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.cover); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\" class=\"img image-img min-height loaded\" style=\"height: 212px;\"></i>\r\n            </a>\r\n        </div>\r\n        <div class=\"notice\">\r\n            <div class=\"price\">\r\n                <p class=\"p1\">";
  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\r\n                <p class=\"p2\">";
  if (helper = helpers.trade_num) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.trade_num); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\r\n            </div>\r\n            <div class=\"rbox\">\r\n                <div class=\"stars-all-mod\">\r\n                        <div class=\"ui-stars-grey\">\r\n                        </div>\r\n                        <div class=\"ui-stars-yellow\" style=\"width:"
    + escapeExpression((helper = helpers.percent || (depth0 && depth0.percent),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.score), "5", options) : helperMissing.call(depth0, "percent", (depth0 && depth0.score), "5", options)))
    + "\">\r\n                        </div>\r\n                </div>\r\n                <p class=\"p1\">";
  if (helper = helpers.goods_num) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.goods_num); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n\r\n";
  return buffer;
  }

  stack1 = helpers.each.call(depth0, (depth0 && depth0.list), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n";
  return buffer;
  });
        break;

        case 'goods': 
            console.log('goods');
            //_self.php_url = 'customer/search_services.php' ;
            _self.title = '服务列表';
            var template  = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, functionType="function", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper, options;
  buffer += "\r\n        <a href=\"";
  if (helper = helpers.link) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.link); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\">\r\n            <div class=\"item\">\r\n               <div class=\"lbox \">\r\n                   <i data-lazyload-url=\""
    + escapeExpression((helper = helpers.change_img_size || (depth0 && depth0.change_img_size),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.images), "260", options) : helperMissing.call(depth0, "change_img_size", (depth0 && depth0.images), "260", options)))
    + "\" class=\"img image-img min-height\"></i>\r\n               </div>\r\n\r\n               <div class=\"rbox \">\r\n                   <h3 class=\"title color-000 f14\">";
  if (helper = helpers.titles) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.titles); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</h3>\r\n                   <div>\r\n                       <p class=\"price color-ff6\">";
  if (helper = helpers.prices) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.prices); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "\r\n                           ";
  stack1 = helpers['if'].call(depth0, (depth0 && depth0.abate), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n                       </p>\r\n                       <div class=\"num color-999 f12\">\r\n                           <p>";
  if (helper = helpers.buy_num) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.buy_num); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\r\n                           ";
  stack1 = helpers['if'].call(depth0, (depth0 && depth0.notice), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n                       </div>\r\n                   </div>\r\n               </div>\r\n            </div>\r\n        </a>\r\n\r\n    ";
  return buffer;
  }
function program2(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n                               <span class=\"price-tips\">";
  if (helper = helpers.abate) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.abate); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</span>\r\n                           ";
  return buffer;
  }

function program4(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n                               <div class=\"ml15\">\r\n                                   <span class=\"tags\">醯</span><span class=\"msg\">";
  if (helper = helpers.notice) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.notice); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</span>\r\n                               </div>\r\n                           ";
  return buffer;
  }

  buffer += "<div class=\"item-list\">\r\n    ";
  stack1 = helpers.each.call(depth0, (depth0 && depth0.list), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n</div>";
  return buffer;
  });
        break;
    }  

    // 渲染头部
    header.init({
        ele : $("#global-header"), //头部渲染的节点
        title: _self.title,
        header_show : true , //是否显示头部
        mt_0_ele : $('#seller-detail-page'), //如果头部隐藏，要把当前页节点margin-top改为0
        right_icon_show : false, //是否显示右边的按钮
        share_icon : 
        {
            show :false,  //是否显示分享按钮icon
            content:""
        },
        omit_icon :
        {
            show :false,  //是否显示三个圆点icon
            content:""
        },
        show_txt :
        {
            show :true,  //是否显示文字
            content:"编辑"  //显示文字内容
        }
    })

    var SELLER_AJAX_URL = window.$__ajax_domain+'get_trade_search_list.php';
    var search_list_class = require('list');
    var search_list_obj = new search_list_class(
    {
        ele : $('#render_ele'),
        url : SELLER_AJAX_URL, 
        params : page_params,
        template : template,
        is_open_lz_opts : false
    })

});

</script>
</html>