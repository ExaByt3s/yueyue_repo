define("common/widget/uploader/index",function(i,t,e){var a=i("components/zepto/zepto.js"),l=i("common/I_APP/I_APP"),n=i("common/utility/index"),c=Handlebars.template(function(i,t,e,a,l){function n(i,t){var a,l,n="";return n+='\n        <img src="',(l=e.img_url)?a=l.call(i,{hash:{},data:t}):(l=i&&i.img_url,a=typeof l===o?l.call(i,{hash:{},data:t}):l),n+=s(a)+'"\n             style="max-height: 100%;max-width: 100%;">\n        <div class="close-out " data-role="del-pic" >\n            <i class="icon close-btn"></i>\n        </div>\n    '}function c(i,t){var a,l,n="";return n+='\n        <img src="',(l=e.default_img_url)?a=l.call(i,{hash:{},data:t}):(l=i&&i.default_img_url,a=typeof l===o?l.call(i,{hash:{},data:t}):l),n+=s(a)+'" data-role="upload-flag"\n             style="max-height: 100%;max-width: 100%;">\n\n    '}this.compilerInfo=[4,">= 1.0.0"],e=this.merge(e,i.helpers),l=l||{};var d,h,g="",o="function",s=this.escapeExpression,A=this;return g+='<div class="ui-uploader ',(h=e.is_active)?d=h.call(t,{hash:{},data:l}):(h=t&&t.is_active,d=typeof h===o?h.call(t,{hash:{},data:l}):h),g+=s(d)+'" style="width:',(h=e.width)?d=h.call(t,{hash:{},data:l}):(h=t&&t.width,d=typeof h===o?h.call(t,{hash:{},data:l}):h),g+=s(d)+";height:",(h=e.height)?d=h.call(t,{hash:{},data:l}):(h=t&&t.height,d=typeof h===o?h.call(t,{hash:{},data:l}):h),g+=s(d)+'" >\n    ',d=e["if"].call(t,t&&t.upload,{hash:{},inverse:A.program(3,c,l),fn:A.program(1,n,l),data:l}),(d||0===d)&&(g+=d),g+="\n\n</div>"});e.exports={render:function(i,t){var e=this;return t=t||{},t.upload=t.upload||!1,t.upload?t.is_active="active":(t.default_img_url="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3tpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpENDZEQ0I5RjQwMDdFNDExODJEREMzQzk1NTAyQzA5MiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNjI0RUFDQUE2OUYxMUU0QUQ3RUUwNzA4OUI5NzhCNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNjI0RUFDOUE2OUYxMUU0QUQ3RUUwNzA4OUI5NzhCNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTg2NDhhMDAtMmQ2OS0yMjQzLWJiZDMtNmQzYWQ0OTg2MTZkIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZWYyMzJhMDktMTdiOC0xMWU0LThlYmMtZDk2MDViOWUyM2M5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gWRlewAABElJREFUeNrt2stqXWUYgOHXnRgVvQexIB7i4QZ0Ig4q9S4stKIgFcGBYweCeACFFvUGOlbsoHSiXoC29TCpeA0qYiStA/+tmyDYqF3JXnkeCNndySrt3zcrX3a/286fP98eD1cnq2eq+6o7xvO37fm8G92cqa87qGtdN811v1bXqgvVh9XXq5+0WHm8Vb1XXa7OVA+uxAyHxR3VQ6PRy9XZ6q7lBzdXYv6kenrlwq/HV8Cn1fc38RX0b++At/q6g7rWdf/vdXdWx6rjY4J4eNyQT1X3j4liZ3mHfnsl5p3qxerR8fy34zYPB+nX6pvR5KPV6eqX8bGnqreWI8f2qHwZ84nq/eq6M+SQul6dq54dzTYC316M2/fGePJMddF5sSYuVS+PxxvVycWYSaqujuphnZwd7VYdX4xBu/ED4K7zYc3sjnarji3GKxz1x+t6sI6W7W6tvg59zbmwpv5sd7P/9hotHAY7y44XzoI5ETSChsNqs7+2mMzSrLMb7tAYOUDQIGgQNIIGQYOgQdCwD7btmAvbdhg5QNAw5Qxt2445sG2HkQMEDYIGQSNoEDQIGgQN+2HbjrmwbYeRAwQNU87Qtu2YA9t2GDlA0CBoEDSCBkGDoEHQIGiOLOujzIX1UYwcIGiYcoa2PsocWB/FyMG/83r143iPoNfeq9U91SuOQtBzsDHebzkKQYOgETQIGgQNgoZ/Zn2UubA+ipEDBA1TztDWR5kD66MYOUDQIGgQNIIGQYOgQdCwH7btmAvbdhg5QNAw5Qxt2445sG2HkQMEfYh8Nr41Tf2291vj1G+fCXqenjiiN64nBD1Pnx/RoL84Kn/RzSP2D/vkQf4EPng1yR0aBI2gYf1naDMdc2DbDiMHCBqmnKFt2zEHtu0wcoCgQdAgaAQNggZBg6BhP2zbMRe27TBygKBhyhnath1zYNsOIwcIGgQNgkbQTGF3vN9xFIKegzeqn6s3HcWttekIJvHaeMMdGvZ3h/Y/hMyBbTuMHCBomHKGtm3HHNi2w8gBggZBg6ARNAgaBA2Chv2wbcdc2LbDyAGChilnaNt2zIFtO4wcIGgQNAgaQYOgQdAgaNgP23bMhW07jBwgaJhyhrZtxxzYtsPIAYIGQYOgETQIGgQNgob9sG3HXNi2w8gBgoYpg74x3rYcB2vqnmXHq3foY86FNXXv6h16Zzw+7lxYU0+P9z8tqmvjF89VG86GNbNRnRyPf1hUF8YvHqlOOR/WzKnRbtXFRfVRtTueeHvl9g2H3VOj2UbDHy6qK9W58eRW9Un1Ql7S4/BajDvzx/316ty56soy2jPVxZWo36u+ql6qHqhud4YcsLur7dHkl9XZ6q7xsUuj4TbHEzvVieqt6vnxFbBdvbPyG+7d+bhxk3+Qqa87qGtdd2uv++lvPud69cGIeac9Y8VO9WL1WPVu9V31mxsDh8zP1dXR6OPV6eqX5Qd/B6Mc0P6p8XDBAAAAAElFTkSuQmCC",t.width="90px",t.height="90px"),i.innerHTML=c(t),e.$el=a(i),e._setup_event(),e},_setup_event:function(){var i=this;i.$el.find('[data-role="del-pic"]').on("click",function(){i.reset()}),i.$el.find('[data-role="upload-flag"]').on("click",function(){i.$el.trigger("click:upload_flag")})},show:function(){},hide:function(){},reset:function(){var i=this;i.render(i.$el[0],{}),i.pic_list=[]},get:function(){var i=this;return i.pic_list||[]},upload_action:function(i){var t=this;if(l.isPaiApp)l.upload_img("multi_img",{is_async_upload:0,max_selection:1,is_zip:1},function(e){var a=[];if(t.pic_list=[],e.imgs.length>0)for(var l=0;l<e.imgs.length;l++){var c=n.matching_img_size(e.imgs[l].url,165);a[0]=c}t.pic_list=a,i.callback&&i.callback.call(this,a)});else{return alert("上传图片按钮异常"),void(window.location.href=window.location.href)}}}});