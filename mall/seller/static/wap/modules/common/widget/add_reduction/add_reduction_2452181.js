define("common/widget/add_reduction/add_reduction",function(a){function e(a){var a=a||{};this.ele_tpl=a.ele,this.param_val=a.param_val||{},this.is_show_operate_btn=a.is_show_operate_btn,this.name=a.name||"add-reduction";var e={input_val:0,max_val:"",min_val:""};this.data=t.extend(!0,{},e,this.param_val),this.init()}{var t=a("components/zepto/zepto.js");a("yue_ui/frozen")}return e.prototype={init:function(){var a=this;a.setup_event(),a.render(a.ele_tpl)},set:function(a,e){var t=this;return t.data[a]?void(t.data[a]=e):!1},render:function(a){var e=this,n=Handlebars.template(function(a,e,t,n,d){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,a.helpers),d=d||{};var i,l,r="",_="function",v=this.escapeExpression;return r+='<div class="add-reduction-mod">\n            <!-- add-no reduce-no -->\n            <div class="reduce" btn-reduce><i class="icon icon-reduce-32x32-m"></i></div>  \n            <div class="input-area">\n            <input type="number"  value="',(l=t.default_btn_value)?i=l.call(e,{hash:{},data:d}):(l=e&&e.default_btn_value,i=typeof l===_?l.call(e,{hash:{},data:d}):l),r+=v(i)+'" pattern="[0-9]*"  class="input" btn-value>\n            <input type="hidden" name="',(l=t.name)?i=l.call(e,{hash:{},data:d}):(l=e&&e.name,i=typeof l===_?l.call(e,{hash:{},data:d}):l),r+=v(i)+'" value="',(l=t.default_btn_value)?i=l.call(e,{hash:{},data:d}):(l=e&&e.default_btn_value,i=typeof l===_?l.call(e,{hash:{},data:d}):l),r+=v(i)+'" class="fn-hide" data-role="real-text">\n            </div>\n            <div class="add" btn-add><i class="icon icon-add-32x32-m"></i></div>\n</div>'}),d=a.html(n({default_btn_value:e.data.input_val,name:e.name}));e.ele=a,e.reduce_ele=d.find("[btn-reduce]"),e.add_ele=d.find("[btn-add]"),e.real_text_ele=d.find('[data-role="real-text"]'),e.input_val_ele=d.find("[btn-value]"),e.is_show_operate_btn||e.hide_operate_btn(),e.input_val_ele.on("input",function(){var a=e.input_val_ele.val();return e.data.min_val&&a<e.data.min_val?void t.tips({content:"所填数字不得小于"+e.data.min_val,stayTime:3e3,type:"warn"}):e.data.max_val&&a>e.data.max_val?void t.tips({content:"所填数字不得大于"+e.data.max_val,stayTime:3e3,type:"warn"}):void e.reduce_ele.trigger("input",a)}),e.reduce_ele.on("tap",function(){e.reduce()}),e.add_ele.on("tap",function(){e.add()})},setup_event:function(){},reduce:function(){var a=this,e=a.get_val();return e--,a.data.min_val&&e<a.data.min_val?void t.tips({content:"所填数字不得小于"+a.data.min_val,stayTime:3e3,type:"warn"}):0>e?void a.set_val(0):(a.set_val(e),void a.reduce_ele.trigger("reduce",e))},add:function(){var a=this,e=a.get_val();return e++,a.data.max_val&&e>a.data.max_val?void t.tips({content:"所填数字不得大于"+a.data.max_val,stayTime:3e3,type:"warn"}):(a.set_val(e),void a.add_ele.trigger("add",e))},get_val:function(){var a=this,e=a.input_val_ele.val();return e},set_val:function(a){var e=this;e.input_val_ele.val(a),e.real_text_ele.val(a)},hide_operate_btn:function(){var a=this;a.reduce_ele.addClass("fn-hide"),a.add_ele.addClass("fn-hide"),a.input_val_ele.addClass("input-disabled"),a.input_val_ele.attr("readonly","true")}},e});