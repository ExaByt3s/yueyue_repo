define("account/set_pwd",function(e){"use strict";var t=e("common/utility/index"),n=e("components/zepto/zepto.js"),r=e("components/fastclick/fastclick.js"),a=(e("yue_ui/frozen"),e("common/ua/index"));"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){r.attach(document.body)},!1),function(e,n){var r={};r.$page_container=e('[data-role="page-container"]'),r.$confirm_btn=e('[data-role="confrim"]'),r.$pwd=e('[data-role="pwd"]'),r.$sec_pwd=e('[data-role="sec-pwd"]'),r.$confirm_btn.on("click",function(o){e(o.currentTarget);if(confirm("确认注册?")){var i=e.trim(r.$pwd.val()),c=e.trim(r.$sec_pwd.val());if(i!=c)return void e.tips({content:"设置错误，两次输入的密码必须一致",stayTime:3e3,type:"warn"});if(t.is_empty(i)||i.length<6||i.length>32)return void e.tips({content:"请输入6~32位密码",stayTime:3e3,type:"warn"});var s={};if(!r.reging){var d=t.get_url_params(n.location.href,"phone"),p=t.get_url_params(n.location.href,"verify_code");d=d.substring(0,d.length-1),d=parseInt(d,16);var u="";u=a.is_weixin?"http://yp.yueus.com/m/action/reg.php":n.$__config.ajax_url.reg,t.ajax_request({url:u,type:"POST",data:{phone:d,verify_code:p,pwd:i,role:"cameraman",type:"reg_act"},beforeSend:function(){s=e.loading({content:"发送中..."})},success:function(a){r.reging=!1,s.loading("hide");var a=a.result_data,o=a.msg,i=a.code;if(1==i){e.tips({content:"注册成功！正在为您跳转页面...",stayTime:3e3,type:"success"});var c=t.get_url_params(n.location.href,"redirect_url");if(c)var d=decodeURIComponent(c);else var d="../recharge/card.php";setTimeout(function(){n.location.href=d},3e3)}else e.tips({content:o,stayTime:3e3,type:"warn"})},error:function(){r.reging=!1,s.loading("hide"),e.tips({content:"网络异常",stayTime:3e3,type:"warn"})}})}}})}(n,window)});