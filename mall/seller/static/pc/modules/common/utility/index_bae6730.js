define("common/utility/index",function(e){function t(e,t){var r="";t=t||"",r=-1!=n.inArray(t,[120,165,640,600,145,440,230,260,320])?"_"+t:"";var i=/^http:\/\/(img|image)\d*(-c|-wap|-d)?(.poco.cn.*|.yueus.com.*)\.jpg|gif|png|bmp/i,a=/_165.jpg|_640.jpg|_120.jpg|_320.jpg|_600.jpg|_145.jpg|_260.jpg|_440.jpg|_165.png|_640.png|_320.png|_120.png|_600.png|_145.png|_260.png|_440.png/i;if(i.test(e))if(a.test(e)){var o=e.replace(/^.+\./,"").split("?")[0];e=e.replace(a,r+"."+o)}else e=e.replace("/(.d*).jpg|.jpg|.gif|.png|.bmp/i",r+".jpg");return e}var n=e("components/jquery/jquery.js"),r=n(window),i=window.localStorage,a=e("common/cookie/index"),o=(e("common/ua/index"),parseInt(a.get("yue_member_id"))),c=window.location;if(c.origin||(c.origin=c.protocol+"//"+c.hostname+(c.port?":"+c.port:"")),/wifi/.test(c.origin)){c.origin.replace("-wifi","")}else{var p=c.origin.split(".");p[0]+"-wifi."+p[1]+"."+p[2]}var s={get_view_port_height:function(e){var t=45,n=45,i=r.height();switch(e){case"nav":i-=n;break;case"tab":i-=t;break;case"all":i=i-n-t}return i},get_view_port_width:function(){return r.width()},"int":function(e){return parseInt(e,10)||0},"float":function(e){return parseFloat(e)},format_float:function(e,t){t=t||0;var n=Math.pow(10,t);return Math.round(e*n)/n||0},getHash:function(){return window.location.hash.substr(1)},get_zoom_height_by_zoom_width:function(e,t,n){return parseInt(t*n/e)},storage:{prefix:"poco-yuepai-app-",set:function(e,t){return"undefined"==typeof t?s.storage.remove(e):(i.setItem(s.storage.prefix+e,JSON.stringify(t)),t)},get:function(e){var t=i.getItem(s.storage.prefix+e);return t?JSON.parse(t):t},remove:function(e){return i.removeItem(s.storage.prefix+e)}},is_empty:function(e){var t=typeof e;switch(t){case"undefined":var n=!0;break;case"boolean":var n=!e;break;case"number":if(e>0)var n=!1;else var n=!0;break;case"string":if(""==e||"0">=e&&!isNaN(parseInt(e)))var n=!0;else var n=!1;break;case"object":if(_.isEmpty(e))var n=!0;else if(e instanceof Array)if(0==e.length)var n=!0;else var n=!1;else{var n=!0;for(var r in e)n=!1}break;default:var n=!1}return n},ajax_request:function(e){var e=e||{},t=e.url,r=e.data||{},i=e.cache||!1,a=e.beforeSend||function(){},o=e.success||function(){},c=e.error||function(){},p=e.complete||function(){},s=e.type||"GET",u=e.dataType||"json",l=null==e.async?!0:!1;console.log(l),n.ajax({url:t,type:s,data:r,cache:i,async:l,dataType:u,beforeSend:a,success:o,error:c,complete:p})},auth:{is_login:function(){return s.login_id>0}},matching_img_size:function(e,n){var r=n;return t(e,r)},get_url_params:function(e,t){var n=new RegExp("[?&]"+t+"=([^&]+)","i"),r=n.exec(e);return r&&r.length>1?r[1]:""},page_pv_stat_action:function(e){},refresh_page:function(){window.location.reload()},fix_placeholder:function(){n.support.placeholder="placeholder"in document.createElement("input"),n(function(){n.support.placeholder||(n("[placeholder]").focus(function(){n(this).val()==n(this).attr("placeholder")&&n(this).val("")}).blur(function(){""==n(this).val()&&n(this).val(n(this).attr("placeholder"))}).blur(),n("[placeholder]").parents("form").submit(function(){n(this).find("[placeholder]").each(function(){n(this).val()==n(this).attr("placeholder")&&n(this).val("")})}))})},login_id:o||0,location_id:"0"};return s});