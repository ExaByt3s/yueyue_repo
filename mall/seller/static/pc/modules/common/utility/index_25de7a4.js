define("common/utility/index",function(e){function n(e,n){var r="";n=n||"",r=-1!=t.inArray(n,[120,165,640,600,145,440,230,260])?"_"+n:"";var o=/^http:\/\/(img|image)\d*(-c|-wap|-d)?\.poco\.cn.*\.jpg|gif|png|bmp/i,i=/_165.jpg|_640.jpg|_120.jpg|_600.jpg|_145.jpg|_260.jpg|_440.jpg|_165.png|_640.png|_120.png|_600.png|_145.png|_260.png|_440.png/i;if(o.test(e))if(i.test(e)){var a=e.replace(/^.+\./,"").split("?")[0];e=e.replace(i,r+"."+a)}else e=e.replace("/(.d*).jpg|.jpg|.gif|.png|.bmp/i",r+".jpg");return e}window.onerror=function(e,n,t,r){if("function"==typeof callback)callback({message:e,script:n,line:t,column:r});else{var o="http://www.yueus.com/mobile_app/log/save_log.php?from_str=yue_m2&err_level=2&url="+encodeURIComponent(window.location.href),i=new Image,a=[];a.push("代码有错。。。"),a.push("\n错误信息：",e),a.push("\n出错文件：",n),a.push("\n出错位置：",t+"行，"+r+"列"),-1!=window.location.href.indexOf("webdev")?console.log(a.join("")):i.src=o+"&err_str="+encodeURIComponent(a.join(""))}};var t=e("components/jquery/jquery.js"),r=t(window),o=window.localStorage,i=e("common/cookie/index"),a=(e("common/ua/index"),parseInt(i.get("yue_member_id"))),c=window.location;if(c.origin||(c.origin=c.protocol+"//"+c.hostname+(c.port?":"+c.port:"")),/wifi/.test(c.origin)){c.origin.replace("-wifi","")}else{var p=c.origin.split(".");p[0]+"-wifi."+p[1]+"."+p[2]}var s={get_view_port_height:function(e){var n=45,t=45,o=r.height();switch(e){case"nav":o-=t;break;case"tab":o-=n;break;case"all":o=o-t-n}return o},get_view_port_width:function(){return r.width()},"int":function(e){return parseInt(e,10)||0},"float":function(e){return parseFloat(e)},format_float:function(e,n){n=n||0;var t=Math.pow(10,n);return Math.round(e*t)/t||0},getHash:function(){return window.location.hash.substr(1)},get_zoom_height_by_zoom_width:function(e,n,t){return parseInt(n*t/e)},storage:{prefix:"poco-yuepai-app-",set:function(e,n){return"undefined"==typeof n?s.storage.remove(e):(o.setItem(s.storage.prefix+e,JSON.stringify(n)),n)},get:function(e){var n=o.getItem(s.storage.prefix+e);return n?JSON.parse(n):n},remove:function(e){return o.removeItem(s.storage.prefix+e)}},is_empty:function(e){var n=typeof e;switch(n){case"undefined":var t=!0;break;case"boolean":var t=!e;break;case"number":if(e>0)var t=!1;else var t=!0;break;case"string":if(""==e||"0">=e&&!isNaN(parseInt(e)))var t=!0;else var t=!1;break;case"object":if(_.isEmpty(e))var t=!0;else if(e instanceof Array)if(0==e.length)var t=!0;else var t=!1;else{var t=!0;for(var r in e)t=!1}break;default:var t=!1}return t},ajax_request:function(e){var e=e||{},n=e.url,r=e.data||{},o=e.cache||!1,i=e.beforeSend||function(){},a=e.success||function(){},c=e.error||function(){},p=e.complete||function(){},s=e.type||"GET",l=e.dataType||"json",u=null==e.async?!0:!1;console.log(u),t.ajax({url:n,type:s,data:r,cache:o,async:u,dataType:l,beforeSend:i,success:a,error:c,complete:p})},auth:{is_login:function(){return s.login_id>0}},matching_img_size:function(e,t){var r=t;return n(e,r)},get_url_params:function(e,n){var t=new RegExp("[?&]"+n+"=([^&]+)","i"),r=t.exec(e);return r&&r.length>1?r[1]:""},page_pv_stat_action:function(e){},err_log:function(e,n,t){var e=e||1,n=encodeURIComponent(n)||encodeURIComponent(window.location.href),t=encodeURIComponent(t)||"",r="http://www.yueus.com/mobile_app/log/save_log.php?from_str=app&err_level="+e+"&url="+n,o=new Image;o.src=r+"&err_str="+t},refresh_page:function(){window.location.reload()},fix_placeholder:function(){t.support.placeholder="placeholder"in document.createElement("input"),t(function(){t.support.placeholder||(t("[placeholder]").focus(function(){t(this).val()==t(this).attr("placeholder")&&t(this).val("")}).blur(function(){""==t(this).val()&&t(this).val(t(this).attr("placeholder"))}).blur(),t("[placeholder]").parents("form").submit(function(){t(this).find("[placeholder]").each(function(){t(this).val()==t(this).attr("placeholder")&&t(this).val("")})}))})},login_id:a||0,location_id:"0"};return s});