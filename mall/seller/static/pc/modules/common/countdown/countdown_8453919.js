define("common/countdown/countdown",function(t){function n(t){var t=t||{};this._time_limit=t._time_limit||60,this._ele=t._ele,this._stop_class=t._stop_class,this._again_txt=t._again_txt,this._phone_number_ele=t._phone_number_ele,this._ajax=t._ajax,this.counting=!0,this._init()}var e=t("components/jquery/jquery.js");return n.prototype={_init:function(){var t=this;t._ele.on("click",function(){if(t.counting){var n=t._phone_number_ele.val().trim();if(!n)return void alert("请输入手机号码");var e=new RegExp(/^[0-9]{11}$/),_=e.test(n);if(!_)return void alert("手机号码错误，请重新输入");t.obj_phone_number_val=n,t._count_down(t._time_limit),t._ajax_fn(t._ajax)}})},_count_down:function(t){var n=this;n.counting=!1,n._ele.html(t),n._ele.addClass(n._stop_class),n.count_Interval=setInterval(function(){t--,0==t?n._stop_count_down():n._ele.html(t)},1e3)},_stop_count_down:function(){var t=this;clearInterval(t.count_Interval),t._ele.html(t._again_txt),t.counting=!0,t._ele.removeClass(t._stop_class)},_ajax_fn:function(t){var n=this;e.ajax({url:t.url||{},data:{phone_num:n.obj_phone_number_val},dataType:t.dataType||{},type:"POST",cache:!1,beforeSend:function(){t.beforeSend&&t.beforeSend.call(this)},success:function(n){t.callback&&t.callback.call(this,n)},error:function(){t.error&&t.error.call(this)}})}},n});