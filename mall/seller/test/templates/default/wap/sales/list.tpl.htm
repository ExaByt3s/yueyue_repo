<!DOCTYPE html>
<html lang="zh">
<head>
	<title>促销列表</title>
	{wap_global_top}
	<!-- <link rel="import" href="../webcontrol/head.tpl.html?__inline"> -->
	<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/seller/test/static/wap/style/sales/list.css">
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/lib/lib.js"></script>
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/seller/test/static/wap/modules/common/widget/header/header.css">
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/seller/test/static/wap/modules/list/list.css">
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/seller/test/static/wap/style/frozen/frozen.css">
<link type="text/css" rel="stylesheet" href="http://static.yueus.com/mall/seller/test/static/wap/modules/common/widget/abnormal/main.css">
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/components/zepto/zepto.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/ua/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/widget/header/main.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/cookie/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/yue_ui/frozen.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/I_APP/I_APP.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/utility/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/widget/abnormal/index.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/common/lazyload/lazyload.js"></script>
<script type="text/javascript" charset="gbk" src="http://static.yueus.com/mall/seller/test/static/wap/modules/list/list.js"></script>
</head>
<body class="cor-bg-fff">
<main role="main">
	<section id="global-header"></section>

	<div class="page-view " data-role="page-container">

		<div class="sales-list-page">
			
			<div>
		   		<div id="render_ele"></div>
		   	</div>
		 
			<!-- 
			   	<button class="check-more">
			   		<span class="check-more-content color-555 f14">
			   			查看更多
			   		</span>
			   	</button> 
		   -->

		</div>

	</div>

	{wap_global_footer}
	
</main>
<script>
    var $ = require('components/zepto/zepto.js');
	var header = require('common/widget/header/main');


	$(function()
	{
		// 渲染头部
		header.init({
			ele : $("#global-header"), //头部渲染的节点
			title:"促销列表",
			header_show : true , //是否显示头部
			right_icon_show : false, //是否显示右边的按钮

			share_icon :
			{
				show :false,  //是否显示分享按钮icon
				content:""
			},
			omit_icon :
			{
				show :false,  //是否显示三个圆点icon
				content:""
			},
			show_txt :
			{
				show :false,  //是否显示文字
				content:"编辑"  //显示文字内容
			}
		});

		var SELLER_AJAX_URL = window.$__ajax_domain+'get_sales_list.php';
		var list_item_class = require('list'); 
		var template  = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {
  this.compilerInfo = [4,'>= 1.0.0'];
helpers = this.merge(helpers, Handlebars.helpers); data = data || {};
  var buffer = "", stack1, functionType="function", escapeExpression=this.escapeExpression, self=this;

function program1(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n    ";
  stack1 = helpers['if'].call(depth0, (depth0 && depth0.is_enroll), {hash:{},inverse:self.program(4, program4, data),fn:self.program(2, program2, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n    \r\n        <div class=\"item ui-border-b\">\r\n            <div class=\"img-item\"> <i class=\"img\" style=\"background-image: url(";
  if (helper = helpers.img) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.img); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + ");\"></i>\r\n            </div>\r\n\r\n            <div class=\"text-item\">\r\n                <div class=\"txt-con-1\">\r\n                    <h3 class=\"title f14 fb\">";
  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</h3>\r\n                    <p class=\"txt time f10 color-999\">征集时间：";
  if (helper = helpers.event_time) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.event_time); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\r\n                    <p class=\"txt f10 color-999\">活动城市：";
  if (helper = helpers.city_text) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.city_text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</p>\r\n                </div>\r\n                <div class=\"txt-con-2\">\r\n                    <span class=\"color-333 join-in fldi\">";
  if (helper = helpers.join_text) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.join_text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "</span>\r\n                    ";
  stack1 = helpers['if'].call(depth0, (depth0 && depth0.is_enroll), {hash:{},inverse:self.program(8, program8, data),fn:self.program(6, program6, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </a>\r\n    ";
  return buffer;
  }
function program2(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n        <a href=\"./detail.php?topic_id=";
  if (helper = helpers.topic_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.topic_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "&state=is_enter\">\r\n    ";
  return buffer;
  }

function program4(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n        <a href=\"./detail.php?topic_id=";
  if (helper = helpers.topic_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.topic_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "&state=no_enter\">\r\n    ";
  return buffer;
  }

function program6(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n                    <a href=\"./info.php?topic_id=";
  if (helper = helpers.topic_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.topic_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "&state=is_enter\">\r\n                        <button class=\"ui-button  ui-button-block  ui-button-size-x ui-button-bd-ff6 frdi\">\r\n                            <span class=\"ui-button-content\">已参加</span>\r\n                        </button>\r\n                    </a>\r\n                    ";
  return buffer;
  }

function program8(depth0,data) {
  
  var buffer = "", stack1, helper;
  buffer += "\r\n                    <a href=\"./info.php?topic_id=";
  if (helper = helpers.topic_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }
  else { helper = (depth0 && depth0.topic_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }
  buffer += escapeExpression(stack1)
    + "&state=no_enter\">\r\n                        <button class=\"ui-button  ui-button-block  ui-button-size-x  ui-button-bg-ff6 frdi\">\r\n                            <span class=\"ui-button-content\">报名参加</span>\r\n                        </button>\r\n                    </a>\r\n                    ";
  return buffer;
  }

  buffer += "<div class=\"item-wrap\">\r\n    ";
  stack1 = helpers.each.call(depth0, (depth0 && depth0.list), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});
  if(stack1 || stack1 === 0) { buffer += stack1; }
  buffer += "\r\n</div>";
  return buffer;
  });
		var list_obj = new list_item_class(
		    {
		        //渲染目标
		        ele : $('#render_ele'),
		        //请求地址
		        url : SELLER_AJAX_URL,
		        //传递参数
		        // params : _page_params,
		        //模板
		        template : template,
		        //lz是否开启
		        is_open_lz_opts : ''

		    });


		// list_obj.$el.find('[data-role="btn-enroll]').on('click', function(event) {
		// 	console.log(123);
		//     event.preventDefault();
		//     var data_topic_id = $(this).attr('data-topic-id');
		//     var data_state = $(this).attr('data-state');
		//     location.href = './info.php?data_topic_id=' + data_topic_id +'&data-state=' + data_state ;

		// });


	});
</script>
</body>
</html>
