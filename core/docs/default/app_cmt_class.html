<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class app_cmt_class</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class app_cmt_class</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
		<p class="notes">
			Located in <a class="field" href="_model_app_cmt_class_inc_php.html">/app_cmt_class.inc.php</a> (line <span class="field">11</span>)
		</p>
		
				
		<pre>cmt_topic_cmt_class
   |
   --app_cmt_class</pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
												<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
								
				<div class="method-definition">
											<span class="method-result">app_cmt_class</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#delete_cmt_by_cmt_id" title="details" class="method-name">delete_cmt_by_cmt_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_deletefromtabel</span> = <span class="var-default">false</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$is_admin</span> = <span class="var-default">false</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_author_last_cmts" title="details" class="method-name">get_author_last_cmts</a>
											([<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_selectcount</span> = <span class="var-default">false</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">""</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$max_cache_count</span> = <span class="var-default">50</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$where_str</span> = <span class="var-default">""</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$read_state</span> = <span class="var-default">null</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$is_reply</span> = <span class="var-default">null</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_channel_last_cmts" title="details" class="method-name">get_channel_last_cmts</a>
											(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$b_selectcount</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$channel_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">"0,20"</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_cmt_data_list_by_topic_id" title="details" class="method-name">get_cmt_data_list_by_topic_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">"0,10"</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_sort_asc</span> = <span class="var-default">false</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$limit</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#get_cmt_info_by_cmt_id" title="details" class="method-name">get_cmt_info_by_cmt_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$no_cache</span> = <span class="var-default">false</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$b_get_reply_list</span> = <span class="var-default">false</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_cmt_list_by_act_id" title="details" class="method-name">get_cmt_list_by_act_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$act_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">'0,20'</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_select_count</span> = <span class="var-default">false</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_cmt_list_by_topic_id" title="details" class="method-name">get_cmt_list_by_topic_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">'0,20'</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_select_count</span> = <span class="var-default">false</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#get_last_cmts_cache" title="details" class="method-name">get_last_cmts_cache</a>
											([<span class="var-type">boolean</span>&nbsp;<span class="var-name">$b_selectcount</span> = <span class="var-default">false</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">"0,20"</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$channel_id</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">unknown</span>
										<a href="#get_last_err_msg" title="details" class="method-name">get_last_err_msg</a>
										()
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#get_topic_cmt_count" title="details" class="method-name">get_topic_cmt_count</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$nocache</span> = <span class="var-default">false</span>])
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#get_topic_id" title="details" class="method-name">get_topic_id</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$url</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#new_cmt_by_act_id" title="details" class="method-name">new_cmt_by_act_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$act_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_title</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_content</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#new_cmt_by_topic_id" title="details" class="method-name">new_cmt_by_topic_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$user_nickname</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_title</span> = <span class="var-default">''</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$comment</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$custom_data</span> = <span class="var-default">array()</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$add_time</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$user_nick_name</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#new_space_cmt" title="details" class="method-name">new_space_cmt</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_nickname</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_user_nickname</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_title</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_content</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#register_topic" title="details" class="method-name">register_topic</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$url</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$title</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$user_name</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$b_can_register</span> = <span class="var-default">true</span>], <span class="var-type">bool</span>&nbsp;<span class="var-name">$b_can_register
</span>)
									</div>
								
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#reply_cmt_by_topic_id" title="details" class="method-name">reply_cmt_by_topic_id</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$user_name</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$title</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$content</span>)
									</div>
							</div>
		</div>
	</div>		

	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">23</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">构造函数</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">app_cmt_class</span>
		<span class="method-name">
			__construct
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methoddelete_cmt_by_cmt_id" id="delete_cmt_by_cmt_id"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">delete_cmt_by_cmt_id</span> (line <span class="line-number">225</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">根据TOPIC_ID和CMT_ID删除留言</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			delete_cmt_by_cmt_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_deletefromtabel</span> = <span class="var-default">false</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$is_admin</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$cmt_id</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$b_deletefromtabel</span><span class="var-description">: 是否从评论表中删除数据(一般只对删除记录作标识，不作删除操作)</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: 用户ID</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$is_admin</span><span class="var-description">: 是否开放永久删除权限</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_author_last_cmts" id="get_author_last_cmts"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_author_last_cmts</span> (line <span class="line-number">305</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">取某用户所有的最新评论</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_author_last_cmts
		</span>
					([<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_selectcount</span> = <span class="var-default">false</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">""</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$max_cache_count</span> = <span class="var-default">50</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$where_str</span> = <span class="var-default">""</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$read_state</span> = <span class="var-default">null</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$is_reply</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$b_selectcount</span><span class="var-description">: //是否取总数</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: //作者id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$limitstr</span><span class="var-description">: //limit</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$max_cache_count</span><span class="var-description">: //最大缓存的数量(本参数无作用)</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$where_str</span><span class="var-description">: //其它where条件</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$read_state</span><span class="var-description">: //是否取未读或已读 (1:已读 0:未读)</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$is_reply</span><span class="var-description">: //回复状态(默认:全部，1:回复的，0:非回复的)</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_channel_last_cmts" id="get_channel_last_cmts"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_channel_last_cmts</span> (line <span class="line-number">275</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">从cache中取某频道所有最新的留言</p>
	<ul class="tags">
				<li><span class="field">return:</span> or int</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_channel_last_cmts
		</span>
					(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$b_selectcount</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$channel_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">"0,20"</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$b_selectcount</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$channel_id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$limitstr</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_cmt_data_list_by_topic_id" id="get_cmt_data_list_by_topic_id"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_cmt_data_list_by_topic_id</span> (line <span class="line-number">366</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">取留言列表数据</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_cmt_data_list_by_topic_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">"0,10"</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_sort_asc</span> = <span class="var-default">false</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$limit</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$limit</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$b_sort_asc</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_cmt_info_by_cmt_id" id="get_cmt_info_by_cmt_id"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_cmt_info_by_cmt_id</span> (line <span class="line-number">246</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">根据TOPIC_ID和CMT_ID取留言信息</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			get_cmt_info_by_cmt_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$no_cache</span> = <span class="var-default">false</span>], [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$b_get_reply_list</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$cmt_id</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$no_cache</span><span class="var-description">: 是否取缓存</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_cmt_list_by_act_id" id="get_cmt_list_by_act_id"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_cmt_list_by_act_id</span> (line <span class="line-number">102</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">根据ACT获取评论列表</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_cmt_list_by_act_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$act_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">'0,20'</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_select_count</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$act_id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$limitstr</span><span class="var-description">: 可以是指定数字或者'0,20'格式</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$b_select_count</span><span class="var-description">: 是否取总数</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_cmt_list_by_topic_id" id="get_cmt_list_by_topic_id"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_cmt_list_by_topic_id</span> (line <span class="line-number">158</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">用topic_id获取评论列表</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_cmt_list_by_topic_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">'0,20'</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$b_select_count</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$limitstr</span><span class="var-description">: 可以是指定数字或者'0,20'格式</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$b_select_count</span><span class="var-description">: 是否取总数</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_last_cmts_cache" id="get_last_cmts_cache"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_last_cmts_cache</span> (line <span class="line-number">319</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">取某人最近发表过的评论，由于get_author_last_cmts()机制，所以取出的数据可能不一定100%有</p>
	<ul class="tags">
				<li><span class="field">return:</span> or int</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			get_last_cmts_cache
		</span>
					([<span class="var-type">boolean</span>&nbsp;<span class="var-name">$b_selectcount</span> = <span class="var-default">false</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$limitstr</span> = <span class="var-default">"0,20"</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$channel_id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$b_selectcount</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$limitstr</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$channel_id</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_last_err_msg" id="get_last_err_msg"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_last_err_msg</span> (line <span class="line-number">353</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">返回错误信息</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">unknown</span>
		<span class="method-name">
			get_last_err_msg
		</span>
				()
			</div>
	
		
		
	</div>
<a name="methodget_topic_cmt_count" id="get_topic_cmt_count"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_topic_cmt_count</span> (line <span class="line-number">287</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">取得主题回复数</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			get_topic_cmt_count
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$nocache</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$nocache</span><span class="var-description">: 是否取cache</span>			</li>
				</ul>
		
		
	</div>
<a name="methodget_topic_id" id="get_topic_id"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_topic_id</span> (line <span class="line-number">209</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">取topic_id</p>
	<ul class="tags">
				<li><span class="field">return:</span> topic_id</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			get_topic_id
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$url</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$url</span><span class="var-description">: url地址</span>			</li>
				</ul>
		
		
	</div>
<a name="methodnew_cmt_by_act_id" id="new_cmt_by_act_id"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">new_cmt_by_act_id</span> (line <span class="line-number">132</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">通过act_id发表作品留言回复</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			new_cmt_by_act_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$act_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_title</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_content</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$act_id</span><span class="var-description">: act_id</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$cmt_user_id</span><span class="var-description">: 回复用户id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cmt_title</span><span class="var-description">: 回复标题</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cmt_content</span><span class="var-description">: 回复内容</span>			</li>
				</ul>
		
		
	</div>
<a name="methodnew_cmt_by_topic_id" id="new_cmt_by_topic_id"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">new_cmt_by_topic_id</span> (line <span class="line-number">78</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">根据topic_id发表评论</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			new_cmt_by_topic_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$user_nickname</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_title</span> = <span class="var-default">''</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$comment</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$custom_data</span> = <span class="var-default">array()</span>], <span class="var-type">int</span>&nbsp;<span class="var-name">$add_time</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$user_nick_name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: 发表评论的用户ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$user_nick_name</span><span class="var-description">: 发表评论用户的昵称</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span><span class="var-description">: 主题ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$comment</span><span class="var-description">: 内容</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cmt_title</span><span class="var-description">: 标题</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$add_time</span><span class="var-description">: 是否指定留言时间，默认为0，不指定</span>			</li>
				</ul>
		
		
	</div>
<a name="methodnew_space_cmt" id="new_space_cmt"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">new_space_cmt</span> (line <span class="line-number">47</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">添加空间留言</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			new_space_cmt
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_nickname</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_user_nickname</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_title</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$cmt_content</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: 用户ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_nickname</span><span class="var-description">: 用户名称</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$cmt_user_id</span><span class="var-description">: 发表人ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cmt_user_nickname</span><span class="var-description">: 发表人昵称</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cmt_title</span><span class="var-description">: 评论标题</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cmt_content</span><span class="var-description">: 评论内容</span>			</li>
				</ul>
		
		
	</div>
<a name="methodregister_topic" id="register_topic"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">register_topic</span> (line <span class="line-number">198</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">注册topic</p>
	<ul class="tags">
				<li><span class="field">return:</span> topic_id</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			register_topic
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$url</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$title</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$user_name</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$b_can_register</span> = <span class="var-default">true</span>], <span class="var-type">bool</span>&nbsp;<span class="var-name">$b_can_register
</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$url</span><span class="var-description">: url地址</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$title</span><span class="var-description">: 主题标题</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: 用户id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$user_name</span><span class="var-description">: 用户名</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$b_can_register
</span>			</li>
				</ul>
		
		
	</div>
<a name="methodreply_cmt_by_topic_id" id="reply_cmt_by_topic_id"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">reply_cmt_by_topic_id</span> (line <span class="line-number">335</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">简单的回复接口</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			reply_cmt_by_topic_id
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$topic_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$cmt_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$user_name</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$title</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$content</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$topic_id</span><span class="var-description">: 主题id</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$cmt_id</span><span class="var-description">: 回复的评论id</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: 用户id</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$user_name</span><span class="var-description">: 用户名</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$title</span><span class="var-description">: 回复标题（默认为空）</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$content</span><span class="var-description">: 回复内容</span>			</li>
				</ul>
		
		
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Tue, 10 Jul 2012 10:39:12 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.0RC3</a>
	</p>
	</div></body>
</html>