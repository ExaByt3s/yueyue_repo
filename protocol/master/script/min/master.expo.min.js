require.config({paths:{echarts:"http://echarts.baidu.com/build/dist"}});require(["echarts","echarts/chart/line","echarts/chart/bar","echarts/chart/pie","echarts/chart/funnel"],function(a){DrawTimeCharts(a);DrawSystemCharts(a);DrawMinCharts(a);DrawUriCharts(a);DrawUserCharts(a)});var time_option={title:{text:"APP接口调用频率 [时间] 分布",subtext:"DATE:  "+date_},tooltip:{trigger:"axis"},toolbox:{show:true,feature:{magicType:{show:true,type:["line","bar"]},saveAsImage:{show:true}}},calculable:true,xAxis:[{type:"category",boundaryGap:false,data:time_stat_.xAxis_data,axisLabel:{formatter:"{value}时"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:"访问频率",type:"line",data:time_stat_.series_data,markPoint:{data:[{type:"max",name:"峰值"},{type:"min",name:"低谷"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]};function DrawTimeCharts(b){if(!time_option.title){return}var a=b.init(document.getElementById("time_graphic"));a.setOption(time_option)}var system_option={title:{text:"APP接口调用频率 [版本/系统] 分布",subtext:"DATE:  "+date_,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{show:true,feature:{magicType:{show:true,type:["pie","funnel"]},saveAsImage:{show:true}}},calculable:true,series:[{name:"系统",type:"pie",radius:[20,110],center:["25%",200],roseType:"area",width:"40%",max:40,sort:"ascending",data:system_stat_.os},{name:"版本分布",type:"pie",radius:[30,110],center:["75%",200],roseType:"area",x:"50%",max:40,sort:"ascending",data:system_stat_.version}]};function DrawSystemCharts(b){if(!system_option.title){return}var a=b.init(document.getElementById("system_graphic"));a.setOption(system_option)}var min_option_first={title:{"text":"00时 访问频率分布","subtext":"Date: "+date_},tooltip:{"trigger":"axis"},toolbox:{"show":true,orient:"vertical",x:"right",y:"center","feature":{"magicType":{"show":true,"type":["line","bar"]},"saveAsImage":{"show":true}}},calculable:true,grid:{"y":80,"y2":100},xAxis:[{"type":"category","axisLabel":{"interval":0},"data":min_stat_.xAxis_data}],yAxis:[{"type":"value","name":"频率（人次）"}],series:[{"type":"bar","markLine":{symbol:["arrow","none"],symbolSize:[4,2],itemStyle:{normal:{lineStyle:{color:"orange"},barBorderColor:"orange",label:{position:"left",formatter:function(a){return Math.round(a.value)},textStyle:{color:"orange"}}}},"data":[{"type":"average","name":"平均值"}]},"data":min_stat_.options[0]["series"][0]["data"]}]};min_stat_.options[0]=min_option_first;var min_option={timeline:{data:min_stat_.timeline_data,label:{formatter:function(a){return a}},autoPlay:true,playInterval:1000},options:min_stat_.options};function DrawMinCharts(b){if(!min_option.timeline){return}var a=b.init(document.getElementById("min_graphic"));a.setOption(min_option)}var uri_option={title:{text:"链接访问频率分布",subtext:"Date: "+date_,x:"left",y:"bottom"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},toolbox:{show:true,orient:"vertical",y:"center",feature:{magicType:{show:true,type:["pie","funnel"],option:{pie:{radius:[0,50]}}},saveAsImage:{show:true}}},calculable:true,series:[{name:"TOP 50",type:"funnel",width:"40%",height:"45%",x:"5%",y:"5%",funnelAlign:"left",center:["25%","25%"],data:uri_stat_.uri_1},{name:"TOP 100",type:"funnel",width:"40%",height:"45%",x:"53%",y:"5%",funnelAlign:"right",center:["75%","25%"],data:uri_stat_.uri_2}]};function DrawUriCharts(a){if(!uri_option.title){return}}var user_option={};function DrawUserCharts(b){if(!user_option.title){return}var a=b.init(document.getElementById("user_graphic"));a.setOption(user_option)};